{"ast":null,"code":"var _jsxFileName = \"/Users/davnishsingh/Documents/proposalai/client/src/pages/ProposalEditor.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { proposalsAPI, teamsAPI } from '../services/api';\nimport ClientSelectionModal from '../components/ClientSelectionModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst sectionTitle = title => /*#__PURE__*/_jsxDEV(\"h2\", {\n  className: \"text-lg font-semibold text-gray-800 mb-2 mt-6 flex items-center gap-2\",\n  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"w-1.5 h-5 bg-blue-500 rounded-sm mr-2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this), title]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 8,\n  columnNumber: 3\n}, this);\nconst ProposalEditor = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n  const [generating, setGenerating] = useState(false);\n  const [showClientModal, setShowClientModal] = useState(false);\n  const [selectedClientId, setSelectedClientId] = useState();\n  const [selectedTeamId, setSelectedTeamId] = useState(null);\n  const [teams, setTeams] = useState([]);\n  const [proposal, setProposal] = useState({\n    title: '',\n    description: '',\n    clientName: '',\n    clientEmail: '',\n    type: 'PROPOSAL',\n    content: {\n      executiveSummary: '',\n      approach: '',\n      budgetDetails: '',\n      timeline: '',\n      budget: ''\n    },\n    metadata: {\n      industry: '',\n      companySize: '',\n      projectScope: ''\n    }\n  });\n  const isNewProposal = !id;\n  useEffect(() => {\n    // Fetch teams for team selection\n    const fetchTeams = async () => {\n      try {\n        const response = await teamsAPI.getAll();\n        setTeams(response.data.data);\n      } catch (error) {\n        console.error('Failed to fetch teams:', error);\n      }\n    };\n    fetchTeams();\n    if (!isNewProposal && id) {\n      const fetchProposal = async () => {\n        try {\n          setLoading(true);\n          const response = await proposalsAPI.getById(id);\n          const data = response.data.data;\n          setProposal({\n            ...data,\n            content: data.content || {\n              executiveSummary: '',\n              approach: '',\n              budgetDetails: '',\n              timeline: '',\n              budget: ''\n            },\n            metadata: data.metadata || {\n              industry: '',\n              companySize: '',\n              projectScope: ''\n            }\n          });\n          setSelectedTeamId(data.teamId || null);\n        } catch (error) {\n          console.error('Failed to fetch proposal:', error);\n          toast.error('Failed to load proposal');\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchProposal();\n    }\n    // If creating a new proposal and caseStudy is passed in location.state, prefill fields\n    if (!id && location.state && location.state.caseStudy) {\n      const caseStudy = location.state.caseStudy;\n      setProposal(prev => ({\n        ...prev,\n        title: caseStudy.title || '',\n        description: caseStudy.description || '',\n        clientName: caseStudy.clientName || '',\n        metadata: {\n          ...prev.metadata,\n          industry: caseStudy.industry || ''\n        },\n        content: {\n          ...prev.content,\n          executiveSummary: caseStudy.challenge || '',\n          approach: caseStudy.solution || '',\n          budgetDetails: caseStudy.results || ''\n        }\n      }));\n    }\n    // If creating a new proposal and snippet is passed in location.state, prefill executive summary or approach\n    if (!id && location.state && location.state.snippet) {\n      const snippet = location.state.snippet;\n      setProposal(prev => ({\n        ...prev,\n        title: prev.title || snippet.title || '',\n        content: {\n          ...prev.content,\n          executiveSummary: prev.content.executiveSummary || snippet.content || ''\n        }\n      }));\n    }\n    // If creating a new proposal and template is passed in location.state, prefill with template content\n    if (!id && location.state && location.state.template) {\n      const template = location.state.template;\n      setProposal(prev => {\n        var _template$content, _template$content2, _template$content3, _template$content4, _template$content5, _prev$metadata, _template$content6;\n        return {\n          ...prev,\n          title: prev.title || template.name || '',\n          description: prev.description || template.description || '',\n          content: {\n            ...prev.content,\n            executiveSummary: prev.content.executiveSummary || ((_template$content = template.content) === null || _template$content === void 0 ? void 0 : _template$content.executiveSummary) || '',\n            approach: prev.content.approach || ((_template$content2 = template.content) === null || _template$content2 === void 0 ? void 0 : _template$content2.approach) || '',\n            budgetDetails: prev.content.budgetDetails || ((_template$content3 = template.content) === null || _template$content3 === void 0 ? void 0 : _template$content3.budgetDetails) || '',\n            timeline: prev.content.timeline || ((_template$content4 = template.content) === null || _template$content4 === void 0 ? void 0 : _template$content4.timeline) || '',\n            budget: prev.content.budget || ((_template$content5 = template.content) === null || _template$content5 === void 0 ? void 0 : _template$content5.budget) || ''\n          },\n          metadata: {\n            ...prev.metadata,\n            industry: ((_prev$metadata = prev.metadata) === null || _prev$metadata === void 0 ? void 0 : _prev$metadata.industry) || ((_template$content6 = template.content) === null || _template$content6 === void 0 ? void 0 : _template$content6.industry) || '',\n            category: template.category || ''\n          }\n        };\n      });\n    }\n    // If creating a new proposal and selectedClient is passed in location.state, prefill client information\n    if (!id && location.state && location.state.selectedClient) {\n      const selectedClient = location.state.selectedClient;\n      setProposal(prev => ({\n        ...prev,\n        clientName: selectedClient.name || '',\n        clientEmail: selectedClient.email || ''\n      }));\n      setSelectedClientId(selectedClient.id);\n      toast.success(`Client \"${selectedClient.name}\" selected for this proposal`);\n    }\n    // If creating a new proposal and teamId is passed in location.state, set team\n    if (!id && location.state && location.state.teamId) {\n      setSelectedTeamId(location.state.teamId);\n    }\n  }, [id, isNewProposal]);\n  const handleGenerateWithAI = async () => {\n    // Validate required fields\n    if (!proposal.clientName || !proposal.description) {\n      toast.error('Please fill in Client Name and Description before generating with AI');\n      return;\n    }\n    try {\n      var _proposal$content, _proposal$content2, _proposal$metadata, _proposal$metadata2, _proposal$metadata3;\n      setGenerating(true);\n      const aiRequest = {\n        clientName: proposal.clientName,\n        clientEmail: proposal.clientEmail,\n        projectDescription: proposal.description,\n        budget: ((_proposal$content = proposal.content) === null || _proposal$content === void 0 ? void 0 : _proposal$content.budget) || '',\n        timeline: ((_proposal$content2 = proposal.content) === null || _proposal$content2 === void 0 ? void 0 : _proposal$content2.timeline) || '',\n        requirements: [],\n        customInstructions: `Industry: ${((_proposal$metadata = proposal.metadata) === null || _proposal$metadata === void 0 ? void 0 : _proposal$metadata.industry) || ''}, Company Size: ${((_proposal$metadata2 = proposal.metadata) === null || _proposal$metadata2 === void 0 ? void 0 : _proposal$metadata2.companySize) || ''}, Project Scope: ${((_proposal$metadata3 = proposal.metadata) === null || _proposal$metadata3 === void 0 ? void 0 : _proposal$metadata3.projectScope) || ''}`\n      };\n      const response = await proposalsAPI.generate(aiRequest);\n      if (response.data.success) {\n        var _generatedProposal$co, _generatedProposal$co2, _generatedProposal$co3, _generatedProposal$co4, _generatedProposal$co5;\n        const generatedProposal = response.data.data.proposal;\n\n        // Update the form with generated content\n        setProposal({\n          ...proposal,\n          title: generatedProposal.title,\n          content: {\n            executiveSummary: ((_generatedProposal$co = generatedProposal.content) === null || _generatedProposal$co === void 0 ? void 0 : _generatedProposal$co.executiveSummary) || '',\n            approach: ((_generatedProposal$co2 = generatedProposal.content) === null || _generatedProposal$co2 === void 0 ? void 0 : _generatedProposal$co2.approach) || '',\n            budgetDetails: ((_generatedProposal$co3 = generatedProposal.content) === null || _generatedProposal$co3 === void 0 ? void 0 : _generatedProposal$co3.budgetDetails) || '',\n            timeline: ((_generatedProposal$co4 = generatedProposal.content) === null || _generatedProposal$co4 === void 0 ? void 0 : _generatedProposal$co4.timeline) || proposal.content.timeline,\n            budget: ((_generatedProposal$co5 = generatedProposal.content) === null || _generatedProposal$co5 === void 0 ? void 0 : _generatedProposal$co5.budget) || proposal.content.budget\n          }\n        });\n        toast.success('Proposal generated successfully with AI!');\n\n        // If this was a new proposal, navigate to the generated proposal\n        if (isNewProposal) {\n          navigate(`/proposals/${generatedProposal.id}`);\n        }\n      } else {\n        toast.error('Failed to generate proposal with AI');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('AI generation error:', error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to generate proposal with AI');\n    } finally {\n      setGenerating(false);\n    }\n  };\n  const handleSave = async () => {\n    try {\n      setLoading(true);\n      if (isNewProposal) {\n        // Create new proposal\n        const response = await proposalsAPI.create(proposal);\n        toast.success('Proposal created successfully!');\n        navigate(`/proposals/${response.data.data.id}`);\n      } else {\n        // Update existing proposal\n        await proposalsAPI.update(id, proposal);\n        toast.success('Proposal updated successfully!');\n      }\n      navigate('/proposals');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Save error:', error);\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to save proposal');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      if (isNewProposal) {\n        // Create and submit new proposal\n        const response = await proposalsAPI.create({\n          ...proposal,\n          status: 'IN_REVIEW'\n        });\n        toast.success('Proposal submitted successfully!');\n        navigate('/proposals');\n      } else {\n        // Update and submit existing proposal\n        await proposalsAPI.update(id, {\n          ...proposal,\n          status: 'IN_REVIEW'\n        });\n        toast.success('Proposal submitted successfully!');\n        navigate('/proposals');\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Submit error:', error);\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Failed to submit proposal');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleClientSelect = client => {\n    setProposal({\n      ...proposal,\n      clientName: client.name,\n      clientEmail: client.email || ''\n    });\n    setSelectedClientId(client.id);\n    toast.success(`Selected client: ${client.name}`);\n  };\n  const handleClearClient = () => {\n    setProposal({\n      ...proposal,\n      clientName: '',\n      clientEmail: ''\n    });\n    setSelectedClientId(undefined);\n    toast.success('Client selection cleared');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-20 w-20 border-b-4 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-10 px-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-10 border border-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight\",\n          children: isNewProposal ? 'Create New Proposal' : 'Edit Proposal'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row gap-3 justify-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGenerateWithAI,\n            disabled: generating || loading,\n            className: \"inline-flex items-center px-5 py-2.5 bg-green-600 text-white font-semibold rounded-lg shadow-sm hover:bg-green-700 focus:ring-2 focus:ring-green-400 focus:outline-none transition disabled:opacity-50 gap-2\",\n            children: generating ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"animate-spin h-5 w-5 mr-2 text-white\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  className: \"opacity-25\",\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"10\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"4\",\n                  fill: \"none\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 93\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  className: \"opacity-75\",\n                  fill: \"currentColor\",\n                  d: \"M4 12a8 8 0 018-8v8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 199\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), \"Generating...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M13 10V3L4 14h7v7l9-11h-7z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 98\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 19\n              }, this), \"Generate with AI\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSave,\n            disabled: loading,\n            className: \"inline-flex items-center px-5 py-2.5 bg-gray-700 text-white font-semibold rounded-lg shadow-sm hover:bg-gray-800 focus:ring-2 focus:ring-gray-400 focus:outline-none transition disabled:opacity-50 gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M5 13l4 4L19 7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 94\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this), \"Save Draft\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            disabled: loading,\n            className: \"inline-flex items-center px-5 py-2.5 bg-blue-600 text-white font-semibold rounded-lg shadow-sm hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 focus:outline-none transition disabled:opacity-50 gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M5 13l4 4L19 7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 94\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), \"Submit Proposal\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"space-y-8\",\n        children: [sectionTitle('Basic Information'), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Proposal Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: proposal.title,\n              onChange: e => setProposal({\n                ...proposal,\n                title: e.target.value\n              }),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"Enter proposal title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Client Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: proposal.clientName,\n                onChange: e => setProposal({\n                  ...proposal,\n                  clientName: e.target.value\n                }),\n                className: \"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n                placeholder: \"Enter client name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowClientModal(true),\n                className: `px-4 py-2 rounded-lg transition-colors flex items-center gap-2 whitespace-nowrap ${selectedClientId ? 'bg-green-600 text-white hover:bg-green-700' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 19\n                }, this), selectedClientId ? 'Change' : 'Select']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this), selectedClientId && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 text-sm text-green-800\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"w-4 h-4\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M5 13l4 4L19 7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 23\n                  }, this), \"Client selected from database\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: handleClearClient,\n                  className: \"text-red-600 hover:text-red-800 text-sm font-medium\",\n                  children: \"Clear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Client Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: proposal.clientEmail,\n              onChange: e => setProposal({\n                ...proposal,\n                clientEmail: e.target.value\n              }),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"Enter client email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: proposal.description,\n              onChange: e => setProposal({\n                ...proposal,\n                description: e.target.value\n              }),\n              rows: 2,\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"Enter proposal description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"my-6 border-gray-200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this), sectionTitle('Project Details'), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Budget\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: proposal.content.budget,\n              onChange: e => setProposal({\n                ...proposal,\n                content: {\n                  ...proposal.content,\n                  budget: e.target.value\n                }\n              }),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"Enter budget\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Timeline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: proposal.content.timeline,\n              onChange: e => setProposal({\n                ...proposal,\n                content: {\n                  ...proposal.content,\n                  timeline: e.target.value\n                }\n              }),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"Enter timeline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Industry\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: proposal.metadata.industry,\n              onChange: e => setProposal({\n                ...proposal,\n                metadata: {\n                  ...proposal.metadata,\n                  industry: e.target.value\n                }\n              }),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"e.g., Technology\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Company Size\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: proposal.metadata.companySize,\n              onChange: e => setProposal({\n                ...proposal,\n                metadata: {\n                  ...proposal.metadata,\n                  companySize: e.target.value\n                }\n              }),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"e.g., 51-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Project Scope\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: proposal.metadata.projectScope,\n              onChange: e => setProposal({\n                ...proposal,\n                metadata: {\n                  ...proposal.metadata,\n                  projectScope: e.target.value\n                }\n              }),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"e.g., Full development\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"my-6 border-gray-200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this), sectionTitle('Proposal Content'), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Executive Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: proposal.content.executiveSummary,\n              onChange: e => setProposal({\n                ...proposal,\n                content: {\n                  ...proposal.content,\n                  executiveSummary: e.target.value\n                }\n              }),\n              rows: 3,\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"Enter executive summary...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Approach\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: proposal.content.approach,\n              onChange: e => setProposal({\n                ...proposal,\n                content: {\n                  ...proposal.content,\n                  approach: e.target.value\n                }\n              }),\n              rows: 3,\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"Enter approach...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 gap-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-base font-medium text-gray-700 mb-1\",\n              children: \"Budget Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: proposal.content.budgetDetails,\n              onChange: e => setProposal({\n                ...proposal,\n                content: {\n                  ...proposal.content,\n                  budgetDetails: e.target.value\n                }\n              }),\n              rows: 4,\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\",\n              placeholder: \"Enter detailed budget breakdown, pricing rationale, and cost structure...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ClientSelectionModal, {\n      isOpen: showClientModal,\n      onClose: () => setShowClientModal(false),\n      onSelectClient: handleClientSelect,\n      selectedClientId: selectedClientId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 5\n  }, this);\n};\n_s(ProposalEditor, \"PyV0QJYSBPT8sjfwBYsLdS0LcB8=\", false, function () {\n  return [useParams, useNavigate, useLocation];\n});\n_c = ProposalEditor;\nexport default ProposalEditor;\nvar _c;\n$RefreshReg$(_c, \"ProposalEditor\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useLocation","toast","proposalsAPI","teamsAPI","ClientSelectionModal","jsxDEV","_jsxDEV","Fragment","_Fragment","sectionTitle","title","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ProposalEditor","_s","id","navigate","location","loading","setLoading","generating","setGenerating","showClientModal","setShowClientModal","selectedClientId","setSelectedClientId","selectedTeamId","setSelectedTeamId","teams","setTeams","proposal","setProposal","description","clientName","clientEmail","type","content","executiveSummary","approach","budgetDetails","timeline","budget","metadata","industry","companySize","projectScope","isNewProposal","fetchTeams","response","getAll","data","error","console","fetchProposal","getById","teamId","state","caseStudy","prev","challenge","solution","results","snippet","template","_template$content","_template$content2","_template$content3","_template$content4","_template$content5","_prev$metadata","_template$content6","name","category","selectedClient","email","success","handleGenerateWithAI","_proposal$content","_proposal$content2","_proposal$metadata","_proposal$metadata2","_proposal$metadata3","aiRequest","projectDescription","requirements","customInstructions","generate","_generatedProposal$co","_generatedProposal$co2","_generatedProposal$co3","_generatedProposal$co4","_generatedProposal$co5","generatedProposal","_error$response","_error$response$data","handleSave","create","update","_error$response2","_error$response2$data","handleSubmit","status","_error$response3","_error$response3$data","handleClientSelect","client","handleClearClient","undefined","onClick","disabled","viewBox","cx","cy","r","stroke","strokeWidth","fill","d","strokeLinecap","strokeLinejoin","value","onChange","e","target","placeholder","rows","isOpen","onClose","onSelectClient","_c","$RefreshReg$"],"sources":["/Users/davnishsingh/Documents/proposalai/client/src/pages/ProposalEditor.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { proposalsAPI, teamsAPI } from '../services/api';\nimport ClientSelectionModal from '../components/ClientSelectionModal';\n\nconst sectionTitle = (title: string) => (\n  <h2 className=\"text-lg font-semibold text-gray-800 mb-2 mt-6 flex items-center gap-2\">\n    <span className=\"w-1.5 h-5 bg-blue-500 rounded-sm mr-2\"></span>{title}\n  </h2>\n);\n\nconst ProposalEditor: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n  const [generating, setGenerating] = useState(false);\n  const [showClientModal, setShowClientModal] = useState(false);\n  const [selectedClientId, setSelectedClientId] = useState<string | undefined>();\n  const [selectedTeamId, setSelectedTeamId] = useState<string | null>(null);\n  const [teams, setTeams] = useState<any[]>([]);\n  const [proposal, setProposal] = useState<any>({\n    title: '',\n    description: '',\n    clientName: '',\n    clientEmail: '',\n    type: 'PROPOSAL',\n    content: {\n      executiveSummary: '',\n      approach: '',\n      budgetDetails: '',\n      timeline: '',\n      budget: ''\n    },\n    metadata: {\n      industry: '',\n      companySize: '',\n      projectScope: ''\n    }\n  });\n\n  const isNewProposal = !id;\n\n  useEffect(() => {\n    // Fetch teams for team selection\n    const fetchTeams = async () => {\n      try {\n        const response = await teamsAPI.getAll();\n        setTeams(response.data.data);\n      } catch (error) {\n        console.error('Failed to fetch teams:', error);\n      }\n    };\n    fetchTeams();\n\n    if (!isNewProposal && id) {\n      const fetchProposal = async () => {\n        try {\n          setLoading(true);\n          const response = await proposalsAPI.getById(id);\n          const data = response.data.data;\n          setProposal({\n            ...data,\n            content: data.content || {\n              executiveSummary: '',\n              approach: '',\n              budgetDetails: '',\n              timeline: '',\n              budget: ''\n            },\n            metadata: data.metadata || {\n              industry: '',\n              companySize: '',\n              projectScope: ''\n            }\n          });\n          setSelectedTeamId(data.teamId || null);\n        } catch (error) {\n          console.error('Failed to fetch proposal:', error);\n          toast.error('Failed to load proposal');\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchProposal();\n    }\n    // If creating a new proposal and caseStudy is passed in location.state, prefill fields\n    if (!id && location.state && location.state.caseStudy) {\n      const caseStudy = location.state.caseStudy;\n      setProposal((prev: any) => ({\n        ...prev,\n        title: caseStudy.title || '',\n        description: caseStudy.description || '',\n        clientName: caseStudy.clientName || '',\n        metadata: {\n          ...prev.metadata,\n          industry: caseStudy.industry || '',\n        },\n        content: {\n          ...prev.content,\n          executiveSummary: caseStudy.challenge || '',\n          approach: caseStudy.solution || '',\n          budgetDetails: caseStudy.results || '',\n        }\n      }));\n    }\n    // If creating a new proposal and snippet is passed in location.state, prefill executive summary or approach\n    if (!id && location.state && location.state.snippet) {\n      const snippet = location.state.snippet;\n      setProposal((prev: any) => ({\n        ...prev,\n        title: prev.title || snippet.title || '',\n        content: {\n          ...prev.content,\n          executiveSummary: prev.content.executiveSummary || snippet.content || '',\n        }\n      }));\n    }\n    // If creating a new proposal and template is passed in location.state, prefill with template content\n    if (!id && location.state && location.state.template) {\n      const template = location.state.template;\n      setProposal((prev: any) => ({\n        ...prev,\n        title: prev.title || template.name || '',\n        description: prev.description || template.description || '',\n        content: {\n          ...prev.content,\n          executiveSummary: prev.content.executiveSummary || template.content?.executiveSummary || '',\n          approach: prev.content.approach || template.content?.approach || '',\n          budgetDetails: prev.content.budgetDetails || template.content?.budgetDetails || '',\n          timeline: prev.content.timeline || template.content?.timeline || '',\n          budget: prev.content.budget || template.content?.budget || '',\n        },\n        metadata: {\n          ...prev.metadata,\n          industry: prev.metadata?.industry || template.content?.industry || '',\n          category: template.category || '',\n        }\n      }));\n    }\n    // If creating a new proposal and selectedClient is passed in location.state, prefill client information\n    if (!id && location.state && location.state.selectedClient) {\n      const selectedClient = location.state.selectedClient;\n      setProposal((prev: any) => ({\n        ...prev,\n        clientName: selectedClient.name || '',\n        clientEmail: selectedClient.email || '',\n      }));\n      setSelectedClientId(selectedClient.id);\n      toast.success(`Client \"${selectedClient.name}\" selected for this proposal`);\n    }\n    // If creating a new proposal and teamId is passed in location.state, set team\n    if (!id && location.state && location.state.teamId) {\n      setSelectedTeamId(location.state.teamId);\n    }\n  }, [id, isNewProposal]);\n\n  const handleGenerateWithAI = async () => {\n    // Validate required fields\n    if (!proposal.clientName || !proposal.description) {\n      toast.error('Please fill in Client Name and Description before generating with AI');\n      return;\n    }\n\n    try {\n      setGenerating(true);\n      \n      const aiRequest = {\n        clientName: proposal.clientName,\n        clientEmail: proposal.clientEmail,\n        projectDescription: proposal.description,\n        budget: proposal.content?.budget || '',\n        timeline: proposal.content?.timeline || '',\n        requirements: [],\n        customInstructions: `Industry: ${proposal.metadata?.industry || ''}, Company Size: ${proposal.metadata?.companySize || ''}, Project Scope: ${proposal.metadata?.projectScope || ''}`\n      };\n\n      const response = await proposalsAPI.generate(aiRequest);\n      \n      if (response.data.success) {\n        const generatedProposal = response.data.data.proposal;\n        \n        // Update the form with generated content\n        setProposal({\n          ...proposal,\n          title: generatedProposal.title,\n          content: {\n            executiveSummary: generatedProposal.content?.executiveSummary || '',\n            approach: generatedProposal.content?.approach || '',\n            budgetDetails: generatedProposal.content?.budgetDetails || '',\n            timeline: generatedProposal.content?.timeline || proposal.content.timeline,\n            budget: generatedProposal.content?.budget || proposal.content.budget\n          }\n        });\n\n        toast.success('Proposal generated successfully with AI!');\n        \n        // If this was a new proposal, navigate to the generated proposal\n        if (isNewProposal) {\n          navigate(`/proposals/${generatedProposal.id}`);\n        }\n      } else {\n        toast.error('Failed to generate proposal with AI');\n      }\n    } catch (error: any) {\n      console.error('AI generation error:', error);\n      toast.error(error.response?.data?.error || 'Failed to generate proposal with AI');\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  const handleSave = async () => {\n    try {\n      setLoading(true);\n      \n      if (isNewProposal) {\n        // Create new proposal\n        const response = await proposalsAPI.create(proposal);\n        toast.success('Proposal created successfully!');\n        navigate(`/proposals/${response.data.data.id}`);\n      } else {\n        // Update existing proposal\n        await proposalsAPI.update(id!, proposal);\n        toast.success('Proposal updated successfully!');\n      }\n      \n      navigate('/proposals');\n    } catch (error: any) {\n      console.error('Save error:', error);\n      toast.error(error.response?.data?.error || 'Failed to save proposal');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      \n      if (isNewProposal) {\n        // Create and submit new proposal\n        const response = await proposalsAPI.create({\n          ...proposal,\n          status: 'IN_REVIEW'\n        });\n        toast.success('Proposal submitted successfully!');\n        navigate('/proposals');\n      } else {\n        // Update and submit existing proposal\n        await proposalsAPI.update(id!, {\n          ...proposal,\n          status: 'IN_REVIEW'\n        });\n        toast.success('Proposal submitted successfully!');\n        navigate('/proposals');\n      }\n    } catch (error: any) {\n      console.error('Submit error:', error);\n      toast.error(error.response?.data?.error || 'Failed to submit proposal');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleClientSelect = (client: any) => {\n    setProposal({\n      ...proposal,\n      clientName: client.name,\n      clientEmail: client.email || '',\n    });\n    setSelectedClientId(client.id);\n    toast.success(`Selected client: ${client.name}`);\n  };\n\n  const handleClearClient = () => {\n    setProposal({\n      ...proposal,\n      clientName: '',\n      clientEmail: '',\n    });\n    setSelectedClientId(undefined);\n    toast.success('Client selection cleared');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"animate-spin rounded-full h-20 w-20 border-b-4 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-10 px-2\">\n      <div className=\"max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-10 border border-gray-100\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4\">\n          <h1 className=\"text-3xl sm:text-4xl font-extrabold text-gray-900 tracking-tight\">\n            {isNewProposal ? 'Create New Proposal' : 'Edit Proposal'}\n          </h1>\n          <div className=\"flex flex-row gap-3 justify-end\">\n            <button\n              onClick={handleGenerateWithAI}\n              disabled={generating || loading}\n              className=\"inline-flex items-center px-5 py-2.5 bg-green-600 text-white font-semibold rounded-lg shadow-sm hover:bg-green-700 focus:ring-2 focus:ring-green-400 focus:outline-none transition disabled:opacity-50 gap-2\"\n            >\n              {generating ? (\n                <>\n                  <svg className=\"animate-spin h-5 w-5 mr-2 text-white\" viewBox=\"0 0 24 24\"><circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" /><path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v8z\" /></svg>\n                  Generating...\n                </>\n              ) : (\n                <>\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" /></svg>\n                  Generate with AI\n                </>\n              )}\n            </button>\n            <button\n              onClick={handleSave}\n              disabled={loading}\n              className=\"inline-flex items-center px-5 py-2.5 bg-gray-700 text-white font-semibold rounded-lg shadow-sm hover:bg-gray-800 focus:ring-2 focus:ring-gray-400 focus:outline-none transition disabled:opacity-50 gap-2\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" /></svg>\n              Save Draft\n            </button>\n            <button\n              onClick={handleSubmit}\n              disabled={loading}\n              className=\"inline-flex items-center px-5 py-2.5 bg-blue-600 text-white font-semibold rounded-lg shadow-sm hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 focus:outline-none transition disabled:opacity-50 gap-2\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" /></svg>\n              Submit Proposal\n            </button>\n          </div>\n        </div>\n        <form className=\"space-y-8\">\n          {sectionTitle('Basic Information')}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Proposal Title</label>\n              <input\n                type=\"text\"\n                value={proposal.title}\n                onChange={(e) => setProposal({ ...proposal, title: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"Enter proposal title\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Client Name</label>\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={proposal.clientName}\n                  onChange={(e) => setProposal({ ...proposal, clientName: e.target.value })}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                  placeholder=\"Enter client name\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowClientModal(true)}\n                  className={`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 whitespace-nowrap ${\n                    selectedClientId \n                      ? 'bg-green-600 text-white hover:bg-green-700' \n                      : 'bg-blue-600 text-white hover:bg-blue-700'\n                  }`}\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                  </svg>\n                  {selectedClientId ? 'Change' : 'Select'}\n                </button>\n              </div>\n              {selectedClientId && (\n                <div className=\"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2 text-sm text-green-800\">\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                      </svg>\n                      Client selected from database\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={handleClearClient}\n                      className=\"text-red-600 hover:text-red-800 text-sm font-medium\"\n                    >\n                      Clear\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Client Email</label>\n              <input\n                type=\"email\"\n                value={proposal.clientEmail}\n                onChange={(e) => setProposal({ ...proposal, clientEmail: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"Enter client email\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Description</label>\n              <textarea\n                value={proposal.description}\n                onChange={(e) => setProposal({ ...proposal, description: e.target.value })}\n                rows={2}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"Enter proposal description\"\n              />\n            </div>\n          </div>\n          <hr className=\"my-6 border-gray-200\" />\n          {sectionTitle('Project Details')}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Budget</label>\n              <input\n                type=\"text\"\n                value={proposal.content.budget}\n                onChange={(e) => setProposal({ ...proposal, content: { ...proposal.content, budget: e.target.value } })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"Enter budget\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Timeline</label>\n              <input\n                type=\"text\"\n                value={proposal.content.timeline}\n                onChange={(e) => setProposal({ ...proposal, content: { ...proposal.content, timeline: e.target.value } })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"Enter timeline\"\n              />\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Industry</label>\n              <input\n                type=\"text\"\n                value={proposal.metadata.industry}\n                onChange={(e) => setProposal({ ...proposal, metadata: { ...proposal.metadata, industry: e.target.value } })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"e.g., Technology\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Company Size</label>\n              <input\n                type=\"text\"\n                value={proposal.metadata.companySize}\n                onChange={(e) => setProposal({ ...proposal, metadata: { ...proposal.metadata, companySize: e.target.value } })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"e.g., 51-200\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Project Scope</label>\n              <input\n                type=\"text\"\n                value={proposal.metadata.projectScope}\n                onChange={(e) => setProposal({ ...proposal, metadata: { ...proposal.metadata, projectScope: e.target.value } })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"e.g., Full development\"\n              />\n            </div>\n          </div>\n          <hr className=\"my-6 border-gray-200\" />\n          {sectionTitle('Proposal Content')}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Executive Summary</label>\n              <textarea\n                value={proposal.content.executiveSummary}\n                onChange={(e) => setProposal({ ...proposal, content: { ...proposal.content, executiveSummary: e.target.value } })}\n                rows={3}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"Enter executive summary...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Approach</label>\n              <textarea\n                value={proposal.content.approach}\n                onChange={(e) => setProposal({ ...proposal, content: { ...proposal.content, approach: e.target.value } })}\n                rows={3}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"Enter approach...\"\n              />\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 gap-6\">\n            <div>\n              <label className=\"block text-base font-medium text-gray-700 mb-1\">Budget Details</label>\n              <textarea\n                value={proposal.content.budgetDetails}\n                onChange={(e) => setProposal({ ...proposal, content: { ...proposal.content, budgetDetails: e.target.value } })}\n                rows={4}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-900 text-base\"\n                placeholder=\"Enter detailed budget breakdown, pricing rationale, and cost structure...\"\n              />\n            </div>\n          </div>\n        </form>\n      </div>\n      \n      {/* Client Selection Modal */}\n      <ClientSelectionModal\n        isOpen={showClientModal}\n        onClose={() => setShowClientModal(false)}\n        onSelectClient={handleClientSelect}\n        selectedClientId={selectedClientId}\n      />\n    </div>\n  );\n};\n\nexport default ProposalEditor; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}