{"ast":null,"code":"import axios from'axios';// In development, use relative URLs to work with the proxy\n// In production, use the full URL\nconst API_BASE_URL=process.env.NODE_ENV==='production'?process.env.REACT_APP_API_URL||'http://localhost:3001/api':'/api';export const api=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'},withCredentials:true// Enable credentials for CORS\n});// Request interceptor to add auth token\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=`Bearer ${token}`;}return config;},error=>{return Promise.reject(error);});// Response interceptor to handle errors\napi.interceptors.response.use(response=>{return response;},error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');window.location.href='/login';}return Promise.reject(error);});// API endpoints\nexport const authAPI={login:data=>api.post('/auth/login',data),register:data=>api.post('/auth/register',data),logout:()=>api.post('/auth/logout'),me:()=>api.get('/auth/me')};export const proposalsAPI={getAll:params=>api.get('/proposals',{params}),getById:id=>api.get(`/proposals/${id}`),create:data=>api.post('/proposals',data),update:(id,data)=>api.put(`/proposals/${id}`,data),delete:id=>api.delete(`/proposals/${id}`),generate:data=>api.post('/proposals/generate',data),publish:id=>api.post(`/proposals/${id}/publish`),duplicate:id=>api.post(`/proposals/${id}/duplicate`),sendEmail:(id,data)=>api.post(`/proposals/${id}/send-email`,data),sendProposal:(id,data)=>api.post(`/proposals/${id}/send-email`,data),downloadPDF:id=>api.get(`/proposals/${id}/download-pdf`,{responseType:'blob'})};export const templatesAPI={getAll:params=>api.get('/templates',{params}),getById:id=>api.get(`/templates/${id}`),create:data=>api.post('/templates',data),update:(id,data)=>api.put(`/templates/${id}`,data),delete:id=>api.delete(`/templates/${id}`)};export const snippetsAPI={getAll:params=>api.get('/snippets',{params}),getById:id=>api.get(`/snippets/${id}`),create:data=>api.post('/snippets',data),update:(id,data)=>api.put(`/snippets/${id}`,data),delete:id=>api.delete(`/snippets/${id}`),incrementUsage:id=>api.post(`/snippets/${id}/increment-usage`)};export const caseStudiesAPI={getAll:params=>api.get('/case-studies',{params}),getById:id=>api.get(`/case-studies/${id}`),create:data=>api.post('/case-studies',data),update:(id,data)=>api.put(`/case-studies/${id}`,data),delete:id=>api.delete(`/case-studies/${id}`)};export const pricingAPI={getAll:params=>api.get('/pricing',{params}),getById:id=>api.get(`/pricing/${id}`),create:data=>api.post('/pricing',data),update:(id,data)=>api.put(`/pricing/${id}`,data),delete:id=>api.delete(`/pricing/${id}`)};export const analyticsAPI={getDashboard:()=>api.get('/analytics'),getProposals:params=>api.get('/analytics',{params})};export const organizationsAPI={getCurrent:()=>api.get('/organizations/current'),update:data=>api.put('/organizations/current',data),getBrandSettings:()=>api.get('/organizations/brand-settings'),updateBrandSettings:data=>api.put('/organizations/brand-settings',data)};export const usersAPI={getProfile:()=>api.get('/users/profile'),updateProfile:data=>api.put('/users/profile',data),changePassword:data=>api.put('/users/password',data)};export const publicAPI={getProposal:id=>api.get(`/public/proposals/${id}`)};export const clientsAPI={getAll:params=>api.get('/clients',{params}),getById:id=>api.get(`/clients/${id}`),create:data=>api.post('/clients',data),update:(id,data)=>api.put(`/clients/${id}`,data),delete:id=>api.delete(`/clients/${id}`)};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","NODE_ENV","REACT_APP_API_URL","api","create","baseURL","headers","withCredentials","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","authAPI","login","data","post","register","logout","me","get","proposalsAPI","getAll","params","getById","id","update","put","delete","generate","publish","duplicate","sendEmail","sendProposal","downloadPDF","responseType","templatesAPI","snippetsAPI","incrementUsage","caseStudiesAPI","pricingAPI","analyticsAPI","getDashboard","getProposals","organizationsAPI","getCurrent","getBrandSettings","updateBrandSettings","usersAPI","getProfile","updateProfile","changePassword","publicAPI","getProposal","clientsAPI"],"sources":["/Users/davnishsingh/Documents/proposalai/client/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\n\n// In development, use relative URLs to work with the proxy\n// In production, use the full URL\nconst API_BASE_URL = process.env.NODE_ENV === 'production' \n  ? (process.env.REACT_APP_API_URL || 'http://localhost:3001/api')\n  : '/api';\n\nexport const api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true, // Enable credentials for CORS\n});\n\n// Request interceptor to add auth token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor to handle errors\napi.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// API endpoints\nexport const authAPI = {\n  login: (data: { email: string; password: string }) =>\n    api.post('/auth/login', data),\n  register: (data: any) => api.post('/auth/register', data),\n  logout: () => api.post('/auth/logout'),\n  me: () => api.get('/auth/me'),\n};\n\nexport const proposalsAPI = {\n  getAll: (params?: any) => api.get('/proposals', { params }),\n  getById: (id: string) => api.get(`/proposals/${id}`),\n  create: (data: any) => api.post('/proposals', data),\n  update: (id: string, data: any) => api.put(`/proposals/${id}`, data),\n  delete: (id: string) => api.delete(`/proposals/${id}`),\n  generate: (data: any) => api.post('/proposals/generate', data),\n  publish: (id: string) => api.post(`/proposals/${id}/publish`),\n  duplicate: (id: string) => api.post(`/proposals/${id}/duplicate`),\n  sendEmail: (id: string, data: { recipientEmail: string; customMessage?: string }) => \n    api.post(`/proposals/${id}/send-email`, data),\n  sendProposal: (id: string, data: { email: string }) => \n    api.post(`/proposals/${id}/send-email`, data),\n  downloadPDF: (id: string) => api.get(`/proposals/${id}/download-pdf`, { responseType: 'blob' }),\n};\n\nexport const templatesAPI = {\n  getAll: (params?: any) => api.get('/templates', { params }),\n  getById: (id: string) => api.get(`/templates/${id}`),\n  create: (data: any) => api.post('/templates', data),\n  update: (id: string, data: any) => api.put(`/templates/${id}`, data),\n  delete: (id: string) => api.delete(`/templates/${id}`),\n};\n\nexport const snippetsAPI = {\n  getAll: (params?: any) => api.get('/snippets', { params }),\n  getById: (id: string) => api.get(`/snippets/${id}`),\n  create: (data: any) => api.post('/snippets', data),\n  update: (id: string, data: any) => api.put(`/snippets/${id}`, data),\n  delete: (id: string) => api.delete(`/snippets/${id}`),\n  incrementUsage: (id: string) => api.post(`/snippets/${id}/increment-usage`),\n};\n\nexport const caseStudiesAPI = {\n  getAll: (params?: any) => api.get('/case-studies', { params }),\n  getById: (id: string) => api.get(`/case-studies/${id}`),\n  create: (data: any) => api.post('/case-studies', data),\n  update: (id: string, data: any) => api.put(`/case-studies/${id}`, data),\n  delete: (id: string) => api.delete(`/case-studies/${id}`),\n};\n\nexport const pricingAPI = {\n  getAll: (params?: any) => api.get('/pricing', { params }),\n  getById: (id: string) => api.get(`/pricing/${id}`),\n  create: (data: any) => api.post('/pricing', data),\n  update: (id: string, data: any) => api.put(`/pricing/${id}`, data),\n  delete: (id: string) => api.delete(`/pricing/${id}`),\n};\n\nexport const analyticsAPI = {\n  getDashboard: () => api.get('/analytics'),\n  getProposals: (params?: any) => api.get('/analytics', { params }),\n};\n\nexport const organizationsAPI = {\n  getCurrent: () => api.get('/organizations/current'),\n  update: (data: any) => api.put('/organizations/current', data),\n  getBrandSettings: () => api.get('/organizations/brand-settings'),\n  updateBrandSettings: (data: any) => api.put('/organizations/brand-settings', data),\n};\n\nexport const usersAPI = {\n  getProfile: () => api.get('/users/profile'),\n  updateProfile: (data: any) => api.put('/users/profile', data),\n  changePassword: (data: any) => api.put('/users/password', data),\n};\n\nexport const publicAPI = {\n  getProposal: (id: string) => api.get(`/public/proposals/${id}`),\n}; \n\nexport const clientsAPI = {\n  getAll: (params?: any) => api.get('/clients', { params }),\n  getById: (id: string) => api.get(`/clients/${id}`),\n  create: (data: any) => api.post('/clients', data),\n  update: (id: string, data: any) => api.put(`/clients/${id}`, data),\n  delete: (id: string) => api.delete(`/clients/${id}`),\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}