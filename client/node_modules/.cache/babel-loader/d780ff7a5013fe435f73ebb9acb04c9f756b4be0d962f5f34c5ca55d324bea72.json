{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{proposalsAPI}from'../services/api';import{UserIcon,CalendarIcon,EyeIcon,TrashIcon,ArrowLeftIcon,PaperAirplaneIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SentProposals(){const navigate=useNavigate();const[sent,setSent]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{fetchSent();},[]);const fetchSent=async()=>{try{setLoading(true);const response=await proposalsAPI.getAll();setSent(response.data.data.filter(p=>p.status==='SENT'));}catch(err){setError('Failed to load sent proposals');}finally{setLoading(false);}};const handleView=id=>navigate(`/proposals/${id}/view`);const handleDelete=async id=>{if(window.confirm('Delete this sent proposal?')){await proposalsAPI.delete(id);fetchSent();}};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');window.location.href='/login';};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 pb-12\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"bg-gradient-to-r from-blue-600 to-blue-400 shadow-lg fixed w-full z-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center h-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-extrabold text-white tracking-wider drop-shadow\",children:\"ProposalAI\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-8\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard\",className:\"text-white/80 hover:text-white transition-colors\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/drafts\",className:\"text-white/80 hover:text-white transition-colors\",children:\"Drafts\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/sent-proposals\",className:\"text-white font-semibold border-b-2 border-white/80 pb-1 transition-colors\",children:\"Sent Proposals\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/profile\",className:\"text-white/80 hover:text-white transition-colors\",children:\"Profile\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"text-white/80 hover:text-white transition-colors\",children:\"Logout\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/dashboard'),className:\"flex items-center gap-2 mb-6 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-400 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-blue-500 transition shadow\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-5 w-5\"}),\" Back to Dashboard\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-blue-800 mb-8 text-center tracking-tight drop-shadow-lg\",children:\"Sent Proposals\"}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-40 text-lg text-blue-600 font-semibold animate-pulse\",children:\"Loading sent proposals...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-40 text-lg text-red-500 font-semibold\",children:error}):sent.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center h-60 text-blue-200\",children:[/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-16 w-16 mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-medium\",children:\"No sent proposals found\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm mt-2\",children:\"Send a proposal to see it here!\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\",children:sent.map(proposal=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl border-2 border-blue-200 p-6 flex flex-col justify-between hover:shadow-2xl transition-all duration-200\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-7 w-7 text-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-blue-900 truncate\",title:proposal.title,children:proposal.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-blue-700 mb-1\",children:[/*#__PURE__*/_jsx(UserIcon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:proposal.clientName||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-blue-400 mb-4\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(proposal.updatedAt).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-800 text-sm line-clamp-3 mb-4\",children:proposal.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mt-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center gap-1 px-3 py-2 rounded-lg bg-gradient-to-r from-green-400 to-green-300 text-white font-semibold hover:from-green-500 hover:to-green-400 transition\",onClick:()=>handleView(proposal.id),children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4\"}),\" View\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center gap-1 px-3 py-2 rounded-lg bg-gradient-to-r from-red-400 to-red-300 text-white font-semibold hover:from-red-500 hover:to-red-400 transition\",onClick:()=>handleDelete(proposal.id),children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"}),\" Delete\"]})]})]},proposal.id))})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","proposalsAPI","UserIcon","CalendarIcon","EyeIcon","TrashIcon","ArrowLeftIcon","PaperAirplaneIcon","jsx","_jsx","jsxs","_jsxs","SentProposals","navigate","sent","setSent","loading","setLoading","error","setError","fetchSent","response","getAll","data","filter","p","status","err","handleView","id","handleDelete","window","confirm","delete","handleLogout","localStorage","removeItem","location","href","className","children","onClick","length","map","proposal","title","clientName","Date","updatedAt","toLocaleDateString","description"],"sources":["/Users/davnishsingh/Documents/proposalai-main/client/src/pages/SentProposals.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { proposalsAPI } from '../services/api';\nimport { DocumentTextIcon, UserIcon, CalendarIcon, EyeIcon, TrashIcon, ArrowLeftIcon, PaperAirplaneIcon } from '@heroicons/react/24/outline';\n\nexport default function SentProposals() {\n  const navigate = useNavigate();\n  const [sent, setSent] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    fetchSent();\n  }, []);\n\n  const fetchSent = async () => {\n    try {\n      setLoading(true);\n      const response = await proposalsAPI.getAll();\n      setSent(response.data.data.filter((p: any) => p.status === 'SENT'));\n    } catch (err) {\n      setError('Failed to load sent proposals');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleView = (id: string) => navigate(`/proposals/${id}/view`);\n  const handleDelete = async (id: string) => {\n    if (window.confirm('Delete this sent proposal?')) {\n      await proposalsAPI.delete(id);\n      fetchSent();\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 pb-12\">\n      {/* Top Navigation Bar */}\n      <nav className=\"bg-gradient-to-r from-blue-600 to-blue-400 shadow-lg fixed w-full z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center\">\n              <h1 className=\"text-xl font-extrabold text-white tracking-wider drop-shadow\">ProposalAI</h1>\n            </div>\n            <div className=\"flex items-center space-x-8\">\n              <a href=\"/dashboard\" className=\"text-white/80 hover:text-white transition-colors\">Dashboard</a>\n              <a href=\"/drafts\" className=\"text-white/80 hover:text-white transition-colors\">Drafts</a>\n              <a href=\"/sent-proposals\" className=\"text-white font-semibold border-b-2 border-white/80 pb-1 transition-colors\">Sent Proposals</a>\n              <a href=\"/profile\" className=\"text-white/80 hover:text-white transition-colors\">Profile</a>\n              <button \n                onClick={handleLogout}\n                className=\"text-white/80 hover:text-white transition-colors\"\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </nav>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24\">\n        {/* Back Button */}\n        <button\n          onClick={() => navigate('/dashboard')}\n          className=\"flex items-center gap-2 mb-6 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-400 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-blue-500 transition shadow\"\n        >\n          <ArrowLeftIcon className=\"h-5 w-5\" /> Back to Dashboard\n        </button>\n        <h2 className=\"text-4xl font-extrabold text-blue-800 mb-8 text-center tracking-tight drop-shadow-lg\">Sent Proposals</h2>\n        {loading ? (\n          <div className=\"flex justify-center items-center h-40 text-lg text-blue-600 font-semibold animate-pulse\">Loading sent proposals...</div>\n        ) : error ? (\n          <div className=\"flex justify-center items-center h-40 text-lg text-red-500 font-semibold\">{error}</div>\n        ) : sent.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-60 text-blue-200\">\n            <PaperAirplaneIcon className=\"h-16 w-16 mb-4\" />\n            <div className=\"text-xl font-medium\">No sent proposals found</div>\n            <div className=\"text-sm mt-2\">Send a proposal to see it here!</div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\n            {sent.map((proposal) => (\n              <div key={proposal.id} className=\"bg-white rounded-2xl shadow-xl border-2 border-blue-200 p-6 flex flex-col justify-between hover:shadow-2xl transition-all duration-200\">\n                <div>\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <PaperAirplaneIcon className=\"h-7 w-7 text-blue-500\" />\n                    <span className=\"text-lg font-bold text-blue-900 truncate\" title={proposal.title}>{proposal.title}</span>\n                  </div>\n                  <div className=\"flex items-center gap-2 text-sm text-blue-700 mb-1\">\n                    <UserIcon className=\"h-4 w-4\" />\n                    <span>{proposal.clientName || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex items-center gap-2 text-sm text-blue-400 mb-4\">\n                    <CalendarIcon className=\"h-4 w-4\" />\n                    <span>{new Date(proposal.updatedAt).toLocaleDateString()}</span>\n                  </div>\n                  <div className=\"text-blue-800 text-sm line-clamp-3 mb-4\">{proposal.description}</div>\n                </div>\n                <div className=\"flex gap-3 mt-2\">\n                  <button\n                    className=\"flex items-center gap-1 px-3 py-2 rounded-lg bg-gradient-to-r from-green-400 to-green-300 text-white font-semibold hover:from-green-500 hover:to-green-400 transition\"\n                    onClick={() => handleView(proposal.id)}\n                  >\n                    <EyeIcon className=\"h-4 w-4\" /> View\n                  </button>\n                  <button\n                    className=\"flex items-center gap-1 px-3 py-2 rounded-lg bg-gradient-to-r from-red-400 to-red-300 text-white font-semibold hover:from-red-500 hover:to-red-400 transition\"\n                    onClick={() => handleDelete(proposal.id)}\n                  >\n                    <TrashIcon className=\"h-4 w-4\" /> Delete\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}