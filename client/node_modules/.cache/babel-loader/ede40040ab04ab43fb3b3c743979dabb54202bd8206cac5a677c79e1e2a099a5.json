{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{toast}from'react-hot-toast';import{ChatBubbleLeftIcon,CalendarIcon,PaperAirplaneIcon,BuildingOfficeIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Generate avatar initials from name or email\nconst getAvatarInitials=(name,email)=>{if(name){return name.split(' ').map(n=>n[0]).join('').toUpperCase().slice(0,2);}return email.split('@')[0].slice(0,2).toUpperCase();};// Generate avatar color based on string\nconst getAvatarColor=str=>{const colors=['bg-blue-500','bg-green-500','bg-purple-500','bg-pink-500','bg-indigo-500','bg-red-500','bg-yellow-500','bg-teal-500'];const index=str.split('').reduce((acc,char)=>acc+char.charCodeAt(0),0)%colors.length;return colors[index];};export default function PublicComments(_ref){let{proposalId,accessCode,clientName,clientEmail,className=''}=_ref;const[comments,setComments]=useState([]);const[loading,setLoading]=useState(true);const[newComment,setNewComment]=useState('');const[submitting,setSubmitting]=useState(false);const fetchComments=useCallback(async()=>{try{setLoading(true);// Use direct backend URL since proxy is having issues\nconst response=await fetch(`http://localhost:3001/api/public/proposals/${proposalId}/comments?accessCode=${accessCode}`);const data=await response.json();if(data.success){setComments(data.data);}else{console.error('Failed to fetch comments:',data.error);toast.error('Failed to load comments');}}catch(error){console.error('Failed to fetch comments:',error);toast.error('Failed to load comments');}finally{setLoading(false);}},[proposalId,accessCode]);useEffect(()=>{fetchComments();},[fetchComments]);const handleSubmit=async e=>{e.preventDefault();if(!newComment.trim()){toast.error('Please enter a comment');return;}if(!clientName||!clientEmail){toast.error('Client information is missing');return;}try{setSubmitting(true);// Use direct backend URL since proxy is having issues\nconst response=await fetch(`http://localhost:3001/api/public/proposals/${proposalId}/comments`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({accessCode,content:newComment.trim(),authorName:clientName,authorEmail:clientEmail})});const data=await response.json();if(data.success){setNewComment('');fetchComments();toast.success('Comment added successfully');}else{throw new Error(data.error||'Failed to add comment');}}catch(error){console.error('Failed to add comment:',error);toast.error('Failed to add comment');}finally{setSubmitting(false);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 ${className}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-50 rounded-lg\",children:/*#__PURE__*/_jsx(ChatBubbleLeftIcon,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Comments\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-gray-600\",children:\"Loading comments...\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 ${className}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-50 rounded-lg\",children:/*#__PURE__*/_jsx(ChatBubbleLeftIcon,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Comments\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[comments.length,\" comment\",comments.length!==1?'s':'']})]})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"mb-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-xl p-4 border border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm ${getAvatarColor(clientEmail||'guest')}`,children:getAvatarInitials(clientName||'Guest',clientEmail||'guest')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 mb-2\",children:[\"Commenting as: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:clientName||'Guest User'})]}),/*#__PURE__*/_jsx(\"textarea\",{value:newComment,onChange:e=>setNewComment(e.target.value),placeholder:\"Add a comment...\",className:\"w-full p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white\",rows:3,disabled:submitting,required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:!newComment.trim()||submitting,className:\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium transition-colors\",children:[submitting?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"}):/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-4 w-4\"}),\"Send\"]})})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:comments.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-50 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center\",children:/*#__PURE__*/_jsx(ChatBubbleLeftIcon,{className:\"h-8 w-8 text-gray-300\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium text-gray-400\",children:\"No comments yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-1\",children:\"Be the first to start the conversation!\"})]}):comments.map(comment=>{const avatarColor=getAvatarColor(comment.author.email);const initials=getAvatarInitials(comment.author.name,comment.author.email);return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-xl p-4 border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm ${avatarColor}`,children:initials})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900 truncate\",children:comment.author.name||comment.author.email.split('@')[0]}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700\",children:[/*#__PURE__*/_jsx(BuildingOfficeIcon,{className:\"h-3 w-3\"}),\"Client\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-3 w-3\"}),new Date(comment.createdAt).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-sm max-w-none\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 whitespace-pre-wrap leading-relaxed\",children:comment.content})})]})]})},comment.id);})})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","toast","ChatBubbleLeftIcon","CalendarIcon","PaperAirplaneIcon","BuildingOfficeIcon","jsx","_jsx","jsxs","_jsxs","getAvatarInitials","name","email","split","map","n","join","toUpperCase","slice","getAvatarColor","str","colors","index","reduce","acc","char","charCodeAt","length","PublicComments","_ref","proposalId","accessCode","clientName","clientEmail","className","comments","setComments","loading","setLoading","newComment","setNewComment","submitting","setSubmitting","fetchComments","response","fetch","data","json","success","console","error","handleSubmit","e","preventDefault","trim","method","headers","body","JSON","stringify","content","authorName","authorEmail","Error","children","onSubmit","value","onChange","target","placeholder","rows","disabled","required","type","comment","avatarColor","author","initials","Date","createdAt","toLocaleDateString","year","month","day","hour","minute","id"],"sources":["/Users/davnishsingh/Documents/proposalai-main/proposalai/client/src/components/PublicComments.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { \n  ChatBubbleLeftIcon, \n  CalendarIcon, \n  PaperAirplaneIcon,\n  BuildingOfficeIcon\n} from '@heroicons/react/24/outline';\n\ninterface Comment {\n  id: string;\n  content: string;\n  createdAt: string;\n  author: {\n    name: string;\n    email: string;\n  };\n}\n\ninterface PublicCommentsProps {\n  proposalId: string;\n  accessCode: string;\n  clientName?: string;\n  clientEmail?: string;\n  className?: string;\n}\n\n// Generate avatar initials from name or email\nconst getAvatarInitials = (name: string, email: string): string => {\n  if (name) {\n    return name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);\n  }\n  return email.split('@')[0].slice(0, 2).toUpperCase();\n};\n\n// Generate avatar color based on string\nconst getAvatarColor = (str: string): string => {\n  const colors = [\n    'bg-blue-500',\n    'bg-green-500', \n    'bg-purple-500',\n    'bg-pink-500',\n    'bg-indigo-500',\n    'bg-red-500',\n    'bg-yellow-500',\n    'bg-teal-500'\n  ];\n  const index = str.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0) % colors.length;\n  return colors[index];\n};\n\nexport default function PublicComments({ proposalId, accessCode, clientName, clientEmail, className = '' }: PublicCommentsProps) {\n  const [comments, setComments] = useState<Comment[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [newComment, setNewComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n\n  const fetchComments = useCallback(async () => {\n    try {\n      setLoading(true);\n      // Use direct backend URL since proxy is having issues\n      const response = await fetch(`http://localhost:3001/api/public/proposals/${proposalId}/comments?accessCode=${accessCode}`);\n      const data = await response.json();\n      \n      if (data.success) {\n        setComments(data.data);\n      } else {\n        console.error('Failed to fetch comments:', data.error);\n        toast.error('Failed to load comments');\n      }\n    } catch (error) {\n      console.error('Failed to fetch comments:', error);\n      toast.error('Failed to load comments');\n    } finally {\n      setLoading(false);\n    }\n  }, [proposalId, accessCode]);\n\n  useEffect(() => {\n    fetchComments();\n  }, [fetchComments]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newComment.trim()) {\n      toast.error('Please enter a comment');\n      return;\n    }\n\n    if (!clientName || !clientEmail) {\n      toast.error('Client information is missing');\n      return;\n    }\n\n    try {\n      setSubmitting(true);\n      // Use direct backend URL since proxy is having issues\n      const response = await fetch(`http://localhost:3001/api/public/proposals/${proposalId}/comments`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          accessCode,\n          content: newComment.trim(),\n          authorName: clientName,\n          authorEmail: clientEmail\n        })\n      });\n\n      const data = await response.json();\n      \n      if (data.success) {\n        setNewComment('');\n        fetchComments();\n        toast.success('Comment added successfully');\n      } else {\n        throw new Error(data.error || 'Failed to add comment');\n      }\n    } catch (error) {\n      console.error('Failed to add comment:', error);\n      toast.error('Failed to add comment');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className={`bg-white rounded-xl shadow-sm border border-gray-200 p-6 ${className}`}>\n        <div className=\"flex items-center gap-3 mb-6\">\n          <div className=\"p-2 bg-blue-50 rounded-lg\">\n            <ChatBubbleLeftIcon className=\"h-6 w-6 text-blue-600\" />\n          </div>\n          <h3 className=\"text-xl font-semibold text-gray-900\">Comments</h3>\n        </div>\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-3 text-gray-600\">Loading comments...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`bg-white rounded-xl shadow-sm border border-gray-200 p-6 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center gap-3 mb-6\">\n        <div className=\"p-2 bg-blue-50 rounded-lg\">\n          <ChatBubbleLeftIcon className=\"h-6 w-6 text-blue-600\" />\n        </div>\n        <div>\n          <h3 className=\"text-xl font-semibold text-gray-900\">Comments</h3>\n          <p className=\"text-sm text-gray-500\">{comments.length} comment{comments.length !== 1 ? 's' : ''}</p>\n        </div>\n      </div>\n\n      {/* Add new comment */}\n      <form onSubmit={handleSubmit} className=\"mb-8\">\n        <div className=\"bg-gray-50 rounded-xl p-4 border border-gray-100\">\n          <div className=\"flex gap-3\">\n            <div className=\"flex-shrink-0\">\n              <div className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm ${getAvatarColor(clientEmail || 'guest')}`}>\n                {getAvatarInitials(clientName || 'Guest', clientEmail || 'guest')}\n              </div>\n            </div>\n            <div className=\"flex-1 space-y-3\">\n              <div className=\"text-sm text-gray-600 mb-2\">\n                Commenting as: <span className=\"font-medium text-gray-900\">{clientName || 'Guest User'}</span>\n              </div>\n              <textarea\n                value={newComment}\n                onChange={(e) => setNewComment(e.target.value)}\n                placeholder=\"Add a comment...\"\n                className=\"w-full p-3 border border-gray-200 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white\"\n                rows={3}\n                disabled={submitting}\n                required\n              />\n              <div className=\"flex justify-end\">\n                <button\n                  type=\"submit\"\n                  disabled={!newComment.trim() || submitting}\n                  className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium transition-colors\"\n                >\n                  {submitting ? (\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                  ) : (\n                    <PaperAirplaneIcon className=\"h-4 w-4\" />\n                  )}\n                  Send\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </form>\n\n      {/* Comments list */}\n      <div className=\"space-y-6\">\n        {comments.length === 0 ? (\n          <div className=\"text-center py-12 text-gray-500\">\n            <div className=\"p-4 bg-gray-50 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center\">\n              <ChatBubbleLeftIcon className=\"h-8 w-8 text-gray-300\" />\n            </div>\n            <p className=\"text-lg font-medium text-gray-400\">No comments yet</p>\n            <p className=\"text-sm text-gray-400 mt-1\">Be the first to start the conversation!</p>\n          </div>\n        ) : (\n          comments.map((comment) => {\n            const avatarColor = getAvatarColor(comment.author.email);\n            const initials = getAvatarInitials(comment.author.name, comment.author.email);\n            \n            return (\n              <div key={comment.id} className=\"bg-gray-50 rounded-xl p-4 border border-gray-200\">\n                <div className=\"flex gap-3\">\n                  <div className=\"flex-shrink-0\">\n                    <div className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm ${avatarColor}`}>\n                      {initials}\n                    </div>\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <span className=\"font-semibold text-gray-900 truncate\">\n                        {comment.author.name || comment.author.email.split('@')[0]}\n                      </span>\n                      <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700\">\n                        <BuildingOfficeIcon className=\"h-3 w-3\" />\n                        Client\n                      </span>\n                      <span className=\"text-gray-400\">•</span>\n                      <div className=\"flex items-center gap-1 text-sm text-gray-500\">\n                        <CalendarIcon className=\"h-3 w-3\" />\n                        {new Date(comment.createdAt).toLocaleDateString('en-US', {\n                          year: 'numeric',\n                          month: 'short',\n                          day: 'numeric',\n                          hour: '2-digit',\n                          minute: '2-digit'\n                        })}\n                      </div>\n                    </div>\n                    <div className=\"prose prose-sm max-w-none\">\n                      <p className=\"text-gray-700 whitespace-pre-wrap leading-relaxed\">{comment.content}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}