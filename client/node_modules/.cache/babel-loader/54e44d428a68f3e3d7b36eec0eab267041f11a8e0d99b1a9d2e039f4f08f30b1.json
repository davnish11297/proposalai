{"ast":null,"code":"var _jsxFileName = \"/Users/davnishsingh/Documents/proposalai-main/proposalai/client/src/pages/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { toast } from 'react-hot-toast';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport { getOpenRouterChatCompletion } from '../services/api';\nimport { proposalsAPI } from '../services/api';\nimport NotificationBell from '../components/NotificationBell';\nimport { HomeIcon, DocumentTextIcon, PaperAirplaneIcon, UsersIcon, UserIcon } from '@heroicons/react/24/outline';\nimport '../ProposalMarkdown.css';\n\n// Utility to convert HTML tags to markdown\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction htmlToMarkdown(input) {\n  return input.replace(/<strong>(.*?)<\\/strong>/gi, '**$1**').replace(/<b>(.*?)<\\/b>/gi, '**$1**').replace(/<em>(.*?)<\\/em>/gi, '*$1*').replace(/<i>(.*?)<\\/i>/gi, '*$1*').replace(/<br\\s*\\/?>(\\s*)/gi, '\\n').replace(/<[^>]+>/g, '') // Remove any other HTML tags\n  .replace(/\\n{3,}/g, '\\n\\n'); // Collapse excessive newlines\n}\nconst Dashboard = () => {\n  _s();\n  const [proposalText, setProposalText] = useState('');\n  const [generating, setGenerating] = useState(false);\n  const [showContent, setShowContent] = useState(false);\n  const [generatedContent, setGeneratedContent] = useState({\n    executiveSummary: '',\n    approach: '',\n    budgetDetails: '',\n    timeline: '',\n    fullContent: '' // Added for react-markdown\n  });\n  const [savingDraft, setSavingDraft] = useState(false);\n  const [sendingEmail, setSendingEmail] = useState(false);\n  const [downloadingPdf, setDownloadingPdf] = useState(false);\n  const [showEmailModal, setShowEmailModal] = useState(false);\n  const [email, setEmail] = useState('');\n  const [clientName, setClientName] = useState('');\n  const [proposalId, setProposalId] = useState(null);\n  const [selectedSuggestions, setSelectedSuggestions] = useState([]);\n  const [loadingSuggestions, setLoadingSuggestions] = useState(false);\n  const [uploadingPdf, setUploadingPdf] = useState(false);\n  const [uploadedPdfContent, setUploadedPdfContent] = useState('');\n  const [showNotificationPrompt, setShowNotificationPrompt] = useState(false);\n\n  // State for suggestions\n  const [predefinedSuggestions, setPredefinedSuggestions] = useState([]);\n  const [refinementSuggestions, setRefinementSuggestions] = useState([]);\n\n  // Show notification prompt after a delay\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowNotificationPrompt(true);\n    }, 3000); // Show after 3 seconds\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Generate AI-based suggestions (generic)\n  const generateSuggestions = useCallback(async () => {\n    try {\n      var _response$choices$, _response$choices$$me;\n      console.log('Starting AI suggestion generation...');\n      const messages = [{\n        role: 'system',\n        content: 'You are an expert proposal writer. Generate 10 specific, actionable suggestions for improving a business proposal. Each suggestion should be concise (2-4 words) and focus on different aspects like content, structure, persuasion, and professionalism. Return only the suggestions, one per line, without numbering or bullet points.'\n      }, {\n        role: 'user',\n        content: 'Generate 10 proposal improvement suggestions.'\n      }];\n      console.log('Calling OpenRouter API...');\n      const response = await getOpenRouterChatCompletion(messages);\n      const aiSuggestions = ((_response$choices$ = response.choices[0]) === null || _response$choices$ === void 0 ? void 0 : (_response$choices$$me = _response$choices$.message) === null || _response$choices$$me === void 0 ? void 0 : _response$choices$$me.content) || '';\n      console.log('AI Response:', aiSuggestions);\n\n      // Parse AI suggestions and create suggestion objects\n      const suggestions = aiSuggestions.split('\\n').filter(line => line.trim()).slice(0, 10).map((suggestion, index) => {\n        const colors = ['blue', 'green', 'purple', 'orange', 'red', 'yellow'];\n        const icons = [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)\n        }, \"icon1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this)\n        }, \"icon2\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)\n        }, \"icon3\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)\n        }, \"icon4\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this)\n        }, \"icon5\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)];\n        return {\n          text: suggestion.trim(),\n          icon: icons[index % icons.length],\n          color: colors[index % colors.length]\n        };\n      });\n      console.log('Parsed suggestions:', suggestions);\n      setPredefinedSuggestions(suggestions);\n    } catch (error) {\n      console.error('Error generating suggestions:', error);\n      // Fallback to basic suggestions if AI fails\n      setPredefinedSuggestions([{\n        text: \"Add Executive Summary\",\n        icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }, this),\n        color: 'blue'\n      }, {\n        text: \"Include Budget Details\",\n        icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this),\n        color: 'green'\n      }, {\n        text: \"Add Timeline Section\",\n        icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }, this),\n        color: 'purple'\n      }]);\n    }\n  }, []);\n\n  // Generate AI-based suggestions based on existing drafts\n  const generateSuggestionsFromDrafts = useCallback(async () => {\n    try {\n      var _aiResponse$choices$, _aiResponse$choices$$;\n      console.log('Starting draft-based suggestion generation...');\n\n      // Fetch existing drafts to analyze\n      const response = await fetch('/api/proposals/drafts', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch drafts');\n      }\n      const data = await response.json();\n      const drafts = data.data || [];\n      if (drafts.length === 0) {\n        // If no drafts exist, fall back to generic suggestions\n        await generateSuggestions();\n        return;\n      }\n\n      // Combine content from recent drafts for analysis\n      const recentDrafts = drafts.slice(0, 3); // Take last 3 drafts\n      const draftContent = recentDrafts.map(draft => draft.content || draft.fullContent || '').filter(content => content.trim()).join('\\n\\n');\n      const messages = [{\n        role: 'system',\n        content: 'You are an expert proposal writer. Based on the provided existing proposal drafts, generate 10 specific, actionable suggestions for improving future proposals. Each suggestion should be concise (2-4 words) and focus on different aspects like content, structure, persuasion, and professionalism. Return only the suggestions, one per line, without numbering or bullet points.'\n      }, {\n        role: 'user',\n        content: `Generate 10 proposal improvement suggestions based on these existing drafts:\\n\\n${draftContent}`\n      }];\n      console.log('Calling OpenRouter API for draft-based suggestions...');\n      const aiResponse = await getOpenRouterChatCompletion(messages);\n      const aiSuggestions = ((_aiResponse$choices$ = aiResponse.choices[0]) === null || _aiResponse$choices$ === void 0 ? void 0 : (_aiResponse$choices$$ = _aiResponse$choices$.message) === null || _aiResponse$choices$$ === void 0 ? void 0 : _aiResponse$choices$$.content) || '';\n      console.log('AI Draft-Based Response:', aiSuggestions);\n\n      // Parse AI suggestions and create suggestion objects\n      const suggestions = aiSuggestions.split('\\n').filter(line => line.trim()).slice(0, 10).map((suggestion, index) => {\n        const colors = ['blue', 'green', 'purple', 'orange', 'red', 'yellow'];\n        const icons = [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)\n        }, \"icon1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this)\n        }, \"icon2\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this)\n        }, \"icon3\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)\n        }, \"icon4\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)\n        }, \"icon5\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this)];\n        return {\n          text: suggestion.trim(),\n          icon: icons[index % icons.length],\n          color: colors[index % colors.length]\n        };\n      });\n      console.log('Parsed draft-based suggestions:', suggestions);\n      setPredefinedSuggestions(suggestions);\n    } catch (error) {\n      console.error('Error generating draft-based suggestions:', error);\n      // Fall back to generic suggestions if draft-based generation fails\n      await generateSuggestions();\n    }\n  }, [generateSuggestions]);\n\n  // Generate AI-based refinement suggestions\n  const generateRefinementSuggestions = async proposalContent => {\n    try {\n      var _response$choices$2, _response$choices$2$m;\n      console.log('Starting refinement suggestion generation...');\n      console.log('Proposal content:', proposalContent);\n      const messages = [{\n        role: 'system',\n        content: 'You are an expert proposal writer. Based on the provided proposal content, generate 10 specific, actionable suggestions for refining and improving the proposal. Each suggestion should be concise (2-4 words) and focus on different aspects like clarity, persuasion, structure, and impact. Return only the suggestions, one per line, without numbering or bullet points.'\n      }, {\n        role: 'user',\n        content: `Generate 10 refinement suggestions for this proposal:\\n\\n${proposalContent}`\n      }];\n      console.log('Calling OpenRouter API for refinement suggestions...');\n      const response = await getOpenRouterChatCompletion(messages);\n      const aiSuggestions = ((_response$choices$2 = response.choices[0]) === null || _response$choices$2 === void 0 ? void 0 : (_response$choices$2$m = _response$choices$2.message) === null || _response$choices$2$m === void 0 ? void 0 : _response$choices$2$m.content) || '';\n      console.log('AI Refinement Response:', aiSuggestions);\n\n      // Parse AI suggestions and create suggestion objects\n      const suggestions = aiSuggestions.split('\\n').filter(line => line.trim()).slice(0, 10).map((suggestion, index) => {\n        const colors = ['blue', 'green', 'purple', 'orange', 'red', 'yellow'];\n        const icons = [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this)\n        }, \"icon1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this)\n        }, \"icon2\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this)\n        }, \"icon3\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this)\n        }, \"icon4\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M13 10V3L4 14h7v7l9-11h-7z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this)\n        }, \"icon5\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M13 7l5 5m0 0l-5 5m5-5H6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this)\n        }, \"icon6\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this)];\n        return {\n          text: suggestion.trim(),\n          icon: icons[index % icons.length],\n          color: colors[index % colors.length]\n        };\n      });\n      console.log('Parsed refinement suggestions:', suggestions);\n      setRefinementSuggestions(suggestions);\n    } catch (error) {\n      console.error('Error generating refinement suggestions:', error);\n      toast.error('Failed to generate refinement suggestions');\n    } finally {\n      // setLoadingRefinementSuggestions(false); // This line is removed\n    }\n  };\n\n  // Handle PDF file upload and extraction\n  const handlePdfUpload = async event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (!file) return;\n    if (file.type !== 'application/pdf') {\n      toast.error('Please upload a PDF file');\n      return;\n    }\n    setUploadingPdf(true);\n    try {\n      const formData = new FormData();\n      formData.append('pdf', file);\n\n      // Call backend API to extract text from PDF\n      const response = await fetch('/api/proposals/extract-pdf', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to extract PDF content');\n      }\n      const data = await response.json();\n      const extractedText = data.content || data.text || '';\n      if (extractedText.trim()) {\n        setUploadedPdfContent(extractedText);\n        toast.success('PDF uploaded successfully! You can now generate a refined proposal.');\n      } else {\n        toast.error('No readable text found in the PDF');\n      }\n    } catch (error) {\n      console.error('PDF extraction error:', error);\n      toast.error('Failed to extract PDF content. Please try again.');\n    } finally {\n      setUploadingPdf(false);\n      // Reset the file input\n      event.target.value = '';\n    }\n  };\n\n  // Handle suggestion bubble click (select/unselect up to 5)\n  const handleSuggestionClick = suggestion => {\n    // Toggle selection for predefined suggestions (allow multiple)\n    if (SUGGESTION_LONG_FORM[suggestion]) {\n      setSelectedSuggestions(prev => prev.includes(suggestion) ? prev.filter(s => s !== suggestion) : [...prev, suggestion]);\n    } else {\n      // fallback to old behavior for refinement suggestions\n      setSelectedSuggestions(prev => prev.includes(suggestion) ? prev.filter(s => s !== suggestion) : [...prev, suggestion]);\n    }\n  };\n  const handleGenerateWithAI = async () => {\n    // Check if we have either user input or uploaded PDF content\n    if (!proposalText.trim() && !uploadedPdfContent.trim()) {\n      toast.error('Please enter a proposal description or upload a PDF before generating content');\n      return;\n    }\n    try {\n      var _response$choices$3, _response$choices$3$m, _execMatch$, _approachMatch$, _budgetMatch$, _timelineMatch$;\n      setGenerating(true);\n\n      // Combine user input and uploaded PDF content\n      const combinedContent = uploadedPdfContent.trim() ? `${proposalText.trim() ? proposalText.trim() + '\\n\\n' : ''}PDF Content:\\n${uploadedPdfContent.trim()}` : proposalText.trim();\n      let systemPrompt = '';\n      let userPrompt = '';\n      if (uploadedPdfContent.trim()) {\n        // PDF uploaded: Only refine, do not rewrite\n        systemPrompt = `You are an expert proposal writer. Your task is to refine and improve the provided proposal content based on the user's instructions. Do NOT rewrite the entire proposal. Only make targeted improvements, edits, and enhancements. Preserve the original structure, sections, and as much of the original content as possible.`;\n        userPrompt = `Here is the current proposal content (from a PDF):\\n${uploadedPdfContent.trim()}\\n\\nUser's refinement instructions: ${proposalText.trim() ? proposalText.trim() : ''}${selectedSuggestions.length > 0 ? '\\nRefinements: ' + selectedSuggestions.map(s => SUGGESTION_LONG_FORM[s] || s).join(' | ') : ''}\\n\\nPlease return the improved proposal, keeping the original structure and content, but making it better according to the instructions.`;\n      } else {\n        // No PDF: Use original prompt for new proposals\n        systemPrompt = `You are an expert proposal writer. Generate a professional proposal with these sections: Executive Summary, Approach, Budget Details, Timeline. Use clear, persuasive language.`;\n        userPrompt = `Content: ${combinedContent}\\n\\n${proposalText.trim() ? 'Instructions: ' + proposalText.trim() + '\\n' : ''}${selectedSuggestions.length > 0 ? 'Refinements: ' + selectedSuggestions.map(s => SUGGESTION_LONG_FORM[s] || s).join(' | ') + '\\n' : ''}Generate a professional proposal with: 1. Executive Summary 2. Approach 3. Budget Details 4. Timeline`;\n      }\n\n      // Compose prompt for OpenRouter\n      const messages = [{\n        role: 'system',\n        content: systemPrompt\n      }, {\n        role: 'user',\n        content: userPrompt\n      }];\n      const response = await getOpenRouterChatCompletion(messages);\n      const aiContent = ((_response$choices$3 = response.choices[0]) === null || _response$choices$3 === void 0 ? void 0 : (_response$choices$3$m = _response$choices$3.message) === null || _response$choices$3$m === void 0 ? void 0 : _response$choices$3$m.content) || '';\n      let executiveSummary = '',\n        approach = '',\n        budgetDetails = '',\n        timeline = '';\n      const execMatch = aiContent.match(/(?:Executive Summary|EXECUTIVE SUMMARY)[:\\s\\n]*([\\s\\S]*?)(?=\\n\\s*(?:Approach|APPROACH|Budget|BUDGET|Timeline|TIMELINE|Next Steps|NEXT STEPS)[:\\s\\n]|$)/i);\n      const approachMatch = aiContent.match(/(?:Approach|APPROACH|Methodology|METHODOLOGY)[:\\s\\n]*([\\s\\S]*?)(?=\\n\\s*(?:Budget|BUDGET|Timeline|TIMELINE|Next Steps|NEXT STEPS)[:\\s\\n]|$)/i);\n      const budgetMatch = aiContent.match(/(?:Budget Details?|BUDGET DETAILS?|Pricing|PRICING)[:\\s\\n]*([\\s\\S]*?)(?=\\n\\s*(?:Timeline|TIMELINE|Next Steps|NEXT STEPS)[:\\s\\n]|$)/i);\n      const timelineMatch = aiContent.match(/(?:Timeline|TIMELINE|Schedule|SCHEDULE)[:\\s\\n]*([\\s\\S]*?)(?=\\n\\s*(?:Next Steps|NEXT STEPS|Conclusion|CONCLUSION)[:\\s\\n]|$)/i);\n      executiveSummary = (execMatch === null || execMatch === void 0 ? void 0 : (_execMatch$ = execMatch[1]) === null || _execMatch$ === void 0 ? void 0 : _execMatch$.trim()) || '';\n      approach = (approachMatch === null || approachMatch === void 0 ? void 0 : (_approachMatch$ = approachMatch[1]) === null || _approachMatch$ === void 0 ? void 0 : _approachMatch$.trim()) || '';\n      budgetDetails = (budgetMatch === null || budgetMatch === void 0 ? void 0 : (_budgetMatch$ = budgetMatch[1]) === null || _budgetMatch$ === void 0 ? void 0 : _budgetMatch$.trim()) || '';\n      timeline = (timelineMatch === null || timelineMatch === void 0 ? void 0 : (_timelineMatch$ = timelineMatch[1]) === null || _timelineMatch$ === void 0 ? void 0 : _timelineMatch$.trim()) || '';\n      const cleanContent = text => {\n        return text.replace(/\\n{3,}/g, '\\n\\n').replace(/^\\s+|\\s+$/g, '').replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>').replace(/\\*(.*?)\\*/g, '<em>$1</em>');\n      };\n      const fullContent = [htmlToMarkdown(cleanContent(executiveSummary)), htmlToMarkdown(cleanContent(approach)), htmlToMarkdown(cleanContent(budgetDetails)), htmlToMarkdown(cleanContent(timeline))].filter(Boolean).join('\\n\\n');\n\n      // Fallback: If fullContent is much shorter than aiContent, use aiContent directly\n      if (fullContent.length < aiContent.length * 0.7) {\n        setGeneratedContent({\n          executiveSummary: '',\n          approach: '',\n          budgetDetails: '',\n          timeline: '',\n          fullContent: htmlToMarkdown(cleanContent(aiContent))\n        });\n      } else {\n        setGeneratedContent({\n          executiveSummary: htmlToMarkdown(cleanContent(executiveSummary)),\n          approach: htmlToMarkdown(cleanContent(approach)),\n          budgetDetails: htmlToMarkdown(cleanContent(budgetDetails)),\n          timeline: htmlToMarkdown(cleanContent(timeline)),\n          fullContent\n        });\n      }\n      setTimeout(() => {\n        setShowContent(true);\n      }, 500);\n      toast.success('Proposal generated successfully!');\n      // Generate refinement suggestions for the new proposal\n      generateRefinementSuggestions(aiContent);\n    } catch (error) {\n      console.error('Error generating proposal:', error);\n\n      // Handle specific OpenRouter credit limit error\n      if (error instanceof Error && error.message.includes('OpenRouter credits exhausted')) {\n        toast.error('AI service credits exhausted. Please visit OpenRouter to add more credits or try again later.');\n      } else {\n        toast.error('Failed to generate proposal content. Please try again.');\n      }\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  // Save as Draft handler\n  const handleSaveDraft = async () => {\n    setSavingDraft(true);\n    try {\n      const payload = {\n        title: proposalText.slice(0, 60) || 'Untitled Proposal',\n        description: proposalText,\n        clientName: 'Client',\n        // Optionally make this dynamic\n        type: 'PROPOSAL',\n        status: 'DRAFT',\n        content: generatedContent.fullContent\n      };\n      let response;\n      if (proposalId) {\n        response = await proposalsAPI.update(proposalId, payload);\n      } else {\n        response = await proposalsAPI.create(payload);\n        setProposalId(response.data.data.id);\n      }\n      toast.success('Proposal saved as draft!');\n    } catch (error) {\n      toast.error('Failed to save draft.');\n    } finally {\n      setSavingDraft(false);\n    }\n  };\n\n  // Send as Email handler\n  const handleSendEmail = async () => {\n    if (!email) {\n      toast.error('Please enter a valid email address.');\n      return;\n    }\n    if (!clientName) {\n      toast.error('Please enter a client name.');\n      return;\n    }\n    if (!proposalId) {\n      toast.error('Please save the proposal as draft first.');\n      return;\n    }\n    setSendingEmail(true);\n    try {\n      await proposalsAPI.sendEmail(proposalId, {\n        recipientEmail: email,\n        clientName: clientName\n      });\n      toast.success('Proposal sent via email!');\n      setShowEmailModal(false);\n      setEmail('');\n      setClientName('');\n    } catch (error) {\n      toast.error('Failed to send email.');\n    } finally {\n      setSendingEmail(false);\n    }\n  };\n\n  // Download as PDF handler\n  const handleDownloadPdf = async () => {\n    if (!proposalId) {\n      toast.error('Please save the proposal as draft first.');\n      return;\n    }\n    setDownloadingPdf(true);\n    try {\n      var _link$parentNode;\n      const response = await proposalsAPI.downloadPDF(proposalId);\n      const url = window.URL.createObjectURL(new Blob([response.data], {\n        type: 'application/pdf'\n      }));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', 'proposal.pdf');\n      document.body.appendChild(link);\n      link.click();\n      (_link$parentNode = link.parentNode) === null || _link$parentNode === void 0 ? void 0 : _link$parentNode.removeChild(link);\n      window.URL.revokeObjectURL(url);\n      toast.success('PDF downloaded!');\n    } catch (error) {\n      toast.error('Failed to download PDF.');\n    } finally {\n      setDownloadingPdf(false);\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  };\n\n  // 1. Add the hardcoded generic suggestions array at the top of the component (after useState declarations)\n  const GENERIC_SUGGESTIONS = [\"Add Executive Summary\", \"Include Budget Details\", \"Add Timeline Section\", \"Highlight Key Benefits\", \"Clarify Project Scope\", \"Define Success Metrics\", \"Showcase Team Expertise\", \"Provide Case Studies\", \"Outline Deliverables\", \"Specify Payment Terms\", \"Include Visual Aids\", \"Summarize Next Steps\", \"Address Client Needs\", \"Demonstrate ROI\", \"List Project Milestones\", \"Add Contact Information\", \"Describe Methodology\", \"Include Testimonials\", \"Present Unique Value\", \"Explain Risk Mitigation\", \"Offer Flexible Options\", \"Detail Project Phases\", \"Show Compliance Info\", \"Add Legal Disclaimers\", \"Provide Support Plan\", \"Include Appendices\", \"Summarize Budget Assumptions\", \"Highlight Innovation\", \"Describe Communication Plan\", \"List Required Resources\"];\n\n  // Add this mapping after GENERIC_SUGGESTIONS\n  const SUGGESTION_LONG_FORM = {\n    \"Add Executive Summary\": \"Please include a concise executive summary that outlines the main objectives, value proposition, and key points of the proposal.\",\n    \"Include Budget Details\": \"Provide a detailed budget breakdown, including all costs, fees, and payment terms associated with the project.\",\n    \"Add Timeline Section\": \"Add a clear timeline section that outlines project phases, milestones, and expected completion dates.\",\n    \"Highlight Key Benefits\": \"Emphasize the key benefits and unique selling points that make this proposal stand out for the client.\",\n    \"Clarify Project Scope\": \"Clearly define the project scope, deliverables, and boundaries to set proper expectations.\",\n    \"Define Success Metrics\": \"Specify measurable success metrics and KPIs to track the effectiveness of the project.\",\n    \"Showcase Team Expertise\": \"Highlight the relevant experience and expertise of the team members who will work on this project.\",\n    \"Provide Case Studies\": \"Include relevant case studies or examples of similar successful projects completed in the past.\",\n    \"Outline Deliverables\": \"List all deliverables that will be provided to the client upon project completion.\",\n    \"Specify Payment Terms\": \"Detail the payment terms, schedule, and accepted payment methods for the project.\",\n    \"Include Visual Aids\": \"Incorporate charts, diagrams, or images to visually support and clarify proposal content.\",\n    \"Summarize Next Steps\": \"Add a section that summarizes the next steps and actions required from both parties.\",\n    \"Address Client Needs\": \"Demonstrate a clear understanding of the client's needs and how the proposal addresses them.\",\n    \"Demonstrate ROI\": \"Explain the expected return on investment (ROI) and value the client will receive.\",\n    \"List Project Milestones\": \"Break down the project into key milestones with associated deliverables and deadlines.\",\n    \"Add Contact Information\": \"Provide up-to-date contact information for the main point of contact for this proposal.\",\n    \"Describe Methodology\": \"Describe the methodology or approach that will be used to achieve the project goals.\",\n    \"Include Testimonials\": \"Add testimonials or endorsements from previous clients to build trust and credibility.\",\n    \"Present Unique Value\": \"Clearly articulate the unique value proposition that differentiates this proposal from competitors.\",\n    \"Explain Risk Mitigation\": \"Identify potential risks and describe strategies for mitigating them throughout the project.\",\n    \"Offer Flexible Options\": \"Present flexible options or packages to accommodate different client needs or budgets.\",\n    \"Detail Project Phases\": \"Break the project into distinct phases and describe the objectives and deliverables for each.\",\n    \"Show Compliance Info\": \"Include information about compliance with relevant standards, regulations, or certifications.\",\n    \"Add Legal Disclaimers\": \"Add any necessary legal disclaimers or terms and conditions relevant to the proposal.\",\n    \"Provide Support Plan\": \"Describe the support and maintenance plan offered after project delivery.\",\n    \"Include Appendices\": \"Attach appendices with supplementary information, data, or references as needed.\",\n    \"Summarize Budget Assumptions\": \"Summarize any assumptions made in the budget and clarify what is included or excluded.\",\n    \"Highlight Innovation\": \"Highlight any innovative aspects or creative solutions proposed for the project.\",\n    \"Describe Communication Plan\": \"Describe the communication plan, including frequency and methods of updates to the client.\",\n    \"List Required Resources\": \"List any resources, materials, or information required from the client to begin the project.\"\n  };\n\n  // 2. Replace the useEffect that initializes suggestions with logic to randomize and set 5 unique suggestions from the array\n  useEffect(() => {\n    setLoadingSuggestions(true);\n    // Shuffle and pick 5 unique suggestions\n    const shuffled = GENERIC_SUGGESTIONS.map(value => ({\n      value,\n      sort: Math.random()\n    })).sort((a, b) => a.sort - b.sort).map(({\n      value\n    }) => value).slice(0, 5);\n    // Use the same icon/color logic as before\n    const colors = ['blue', 'green', 'purple', 'orange', 'red', 'yellow'];\n    const icons = [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 9\n      }, this)\n    }, \"icon1\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 9\n      }, this)\n    }, \"icon2\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 660,\n        columnNumber: 9\n      }, this)\n    }, \"icon3\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 9\n      }, this)\n    }, \"icon4\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this)\n    }, \"icon5\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 7\n    }, this)];\n    setPredefinedSuggestions(shuffled.map((text, i) => ({\n      text,\n      icon: icons[i % icons.length],\n      color: colors[i % colors.length]\n    })));\n    setLoadingSuggestions(false);\n  }, []);\n\n  // REMOVED: Auto-generation useEffect that was causing unwanted generation when typing\n  // Now generation only happens when user explicitly clicks Generate/Refine button\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"bg-gradient-to-r from-blue-600 to-blue-400 shadow-lg w-full z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-extrabold text-white tracking-wider drop-shadow\",\n              children: \"ProposalAI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/dashboard\",\n              className: \"flex items-center space-x-1 text-white font-semibold border-b-2 border-white/80 pb-1 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(HomeIcon, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/drafts\",\n              className: \"flex items-center space-x-1 text-white/80 hover:text-white transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Drafts\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/sent-proposals\",\n              className: \"flex items-center space-x-1 text-white/80 hover:text-white transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Sent Proposals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/clients\",\n              className: \"flex items-center space-x-1 text-white/80 hover:text-white transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(UsersIcon, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 705,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Clients\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 706,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/profile\",\n              className: \"flex items-center space-x-1 text-white/80 hover:text-white transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(UserIcon, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(NotificationBell, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              className: \"text-white/80 hover:text-white transition-colors\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 685,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-[1400px] mx-auto py-8 px-4 sm:px-8\",\n      children: [!showContent ?\n      /*#__PURE__*/\n      // Single centered card when no content is generated\n      _jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center min-h-[80vh]\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-6xl bg-white/90 rounded-2xl shadow-xl border border-gray-100 p-10 flex flex-col items-center justify-center min-h-[480px] mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-extrabold text-gray-900 mb-6 text-center tracking-tight\",\n            children: \"What can I help with?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full relative mb-4\",\n            children: [uploadedPdfContent && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 text-sm text-green-600 bg-green-50 px-3 py-2 rounded-lg mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-4 h-4\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 737,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 21\n              }, this), \"PDF uploaded successfully\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"w-full h-[180px] rounded-lg border border-gray-200 px-4 py-3 text-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition bg-gray-50 resize-none font-normal\",\n              placeholder: \"Ask ProposalAI or type / to see prompts...\",\n              value: proposalText,\n              onChange: e => setProposalText(e.target.value),\n              disabled: generating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 743,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-3 right-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \".pdf\",\n                onChange: handlePdfUpload,\n                className: \"hidden\",\n                id: \"pdf-upload\",\n                disabled: uploadingPdf\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 753,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"pdf-upload\",\n                className: `inline-flex items-center justify-center w-8 h-8 rounded-full transition cursor-pointer ${uploadingPdf ? 'bg-gray-100 opacity-50 cursor-not-allowed' : uploadedPdfContent ? 'bg-green-100 hover:bg-green-200' : 'bg-gray-100 hover:bg-gray-200'}`,\n                title: uploadedPdfContent ? \"PDF uploaded - Click to replace\" : \"Upload PDF\",\n                children: uploadingPdf ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 773,\n                  columnNumber: 23\n                }, this) : uploadedPdfContent ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4 text-green-600\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 776,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 775,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4 text-gray-600\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 780,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 779,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 761,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 15\n          }, this), !showContent && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: loadingSuggestions ?\n              // Loading placeholders\n              Array.from({\n                length: 8\n              }).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-3 py-1.5 rounded-full border border-gray-200 bg-gray-100 animate-pulse inline-flex items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-3 bg-gray-200 rounded animate-pulse\",\n                  style: {\n                    width: `${60 + i * 10}px`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 795,\n                  columnNumber: 27\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 25\n              }, this)) : predefinedSuggestions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-8\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-400 mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"w-12 h-12 mx-auto\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 1,\n                      d: \"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 802,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 801,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500 text-sm\",\n                  children: \"No suggestions available. Generate a proposal to see AI-powered suggestions.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 805,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 23\n              }, this) : predefinedSuggestions.map((suggestion, i) => {\n                const isSelected = selectedSuggestions.includes(suggestion.text);\n                const isDisabled = !isSelected && selectedSuggestions.length >= 5;\n\n                // Small, transparent styling for initial suggestions\n                const baseClasses = \"px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 cursor-pointer border\";\n                const selectedClasses = isSelected ? \"bg-blue-100 text-blue-700 border-blue-300 shadow-sm\" : \"bg-gray-50 text-gray-600 border-gray-200 hover:bg-gray-100 hover:border-gray-300\";\n                const disabledClasses = isDisabled ? \"opacity-40 cursor-not-allowed bg-gray-50 text-gray-400 border-gray-200\" : \"\";\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => !isDisabled && !generating && handleSuggestionClick(suggestion.text),\n                  disabled: generating || isDisabled,\n                  className: `${baseClasses} ${generating || isDisabled ? disabledClasses : selectedClasses}`,\n                  children: suggestion.text\n                }, `initial-${i}-${suggestion.text}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 27\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 17\n          }, this), showContent && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3\",\n              children: refinementSuggestions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-full text-center text-gray-500 py-4 font-normal\",\n                children: \"No refinement suggestions available. Generate a proposal first to see AI-powered refinement suggestions.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-full flex flex-wrap gap-2\",\n                children: refinementSuggestions.map((suggestion, i) => {\n                  const isSelected = selectedSuggestions.includes(suggestion.text);\n                  const isDisabled = !isSelected && selectedSuggestions.length >= 5;\n\n                  // Small, transparent styling for refinement suggestions\n                  const baseClasses = \"px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 cursor-pointer border\";\n                  const selectedClasses = isSelected ? \"bg-blue-100 text-blue-700 border-blue-300 shadow-sm\" : \"bg-gray-50 text-gray-600 border-gray-200 hover:bg-gray-100 hover:border-gray-300\";\n                  const disabledClasses = isDisabled ? \"opacity-40 cursor-not-allowed bg-gray-50 text-gray-400 border-gray-200\" : \"\";\n                  return /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => !isDisabled && !generating && handleSuggestionClick(suggestion.text),\n                    disabled: generating || isDisabled,\n                    className: `${baseClasses} ${generating || isDisabled ? disabledClasses : selectedClasses}`,\n                    children: suggestion.text\n                  }, `refinement-${i}-${suggestion.text}`, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 862,\n                    columnNumber: 29\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 847,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 840,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 mt-2 w-full justify-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-6 py-2 rounded-lg bg-blue-600 text-white font-bold shadow-md hover:bg-blue-700 transition disabled:opacity-60\",\n              onClick: handleGenerateWithAI,\n              disabled: generating || !proposalText.trim(),\n              children: generating ? 'Generating...' : 'Generate'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 880,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-6 py-2 rounded-lg bg-gray-200 text-gray-700 font-bold shadow-md hover:bg-gray-300 transition\",\n              onClick: () => {\n                setProposalText('');\n                setSelectedSuggestions([]);\n                setUploadedPdfContent(''); // Clear PDF content\n              },\n              disabled: generating,\n              children: \"Clear\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 11\n      }, this) :\n      /*#__PURE__*/\n      // Side-by-side layout when content is generated\n      _jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 xl:grid-cols-2 gap-8 max-w-7xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/90 rounded-2xl shadow-xl border border-gray-100 p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-extrabold text-gray-900 mb-4\",\n            children: \"Refine Proposal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 906,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full relative mb-4\",\n            children: [uploadedPdfContent && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 text-sm text-green-600 bg-green-50 px-3 py-2 rounded-lg mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-4 h-4\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 21\n              }, this), \"PDF uploaded successfully\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"w-full h-[180px] rounded-lg border border-gray-200 px-4 py-3 text-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition bg-gray-50 resize-none\",\n              placeholder: uploadedPdfContent ? \"Add additional context or requirements (optional)...\" : \"Describe your client or project...\",\n              value: proposalText,\n              onChange: e => setProposalText(e.target.value),\n              disabled: generating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-3 right-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \".pdf\",\n                onChange: handlePdfUpload,\n                className: \"hidden\",\n                id: \"pdf-upload-refine\",\n                disabled: uploadingPdf\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 930,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"pdf-upload-refine\",\n                className: `inline-flex items-center justify-center w-8 h-8 rounded-full transition cursor-pointer ${uploadingPdf ? 'bg-gray-100 opacity-50 cursor-not-allowed' : uploadedPdfContent ? 'bg-green-100 hover:bg-green-200' : 'bg-gray-100 hover:bg-gray-200'}`,\n                title: uploadedPdfContent ? \"PDF uploaded - Click to replace\" : \"Upload PDF\",\n                children: uploadingPdf ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 950,\n                  columnNumber: 23\n                }, this) : uploadedPdfContent ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4 text-green-600\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 953,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 952,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4 text-gray-600\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 957,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 956,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full flex flex-wrap gap-2 mb-4 min-h-[40px]\",\n            children: refinementSuggestions.map((s, i) => {\n              const isSelected = selectedSuggestions.includes(s.text);\n              const isDisabled = !isSelected && selectedSuggestions.length >= 5;\n\n              // Small, transparent styling for refinement suggestions\n              const baseClasses = \"px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 cursor-pointer border\";\n              const selectedClasses = isSelected ? \"bg-blue-100 text-blue-700 border-blue-300 shadow-sm\" : \"bg-gray-50 text-gray-600 border-gray-200 hover:bg-gray-100 hover:border-gray-300\";\n              const disabledClasses = isDisabled ? \"opacity-40 cursor-not-allowed bg-gray-50 text-gray-400 border-gray-200\" : \"\";\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => !isDisabled && !generating && handleSuggestionClick(s.text),\n                disabled: generating || isDisabled,\n                className: `${baseClasses} ${generating || isDisabled ? disabledClasses : selectedClasses}`,\n                children: s.text\n              }, `refinement-${i}-${s.text}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 981,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 965,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-4 py-2 rounded-lg bg-blue-600 text-white font-bold shadow-md hover:bg-blue-700 transition disabled:opacity-60 flex-1\",\n              onClick: async () => {\n                setGenerating(true);\n                // Regenerate proposal with selected suggestions\n                await handleGenerateWithAI();\n              },\n              disabled: generating,\n              children: generating ? 'Generating...' : 'Refine'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 995,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-bold shadow-md hover:bg-gray-300 transition\",\n              onClick: () => {\n                setProposalText('');\n                setSelectedSuggestions([]);\n                setUploadedPdfContent('');\n                setShowContent(false);\n                setGeneratedContent({\n                  executiveSummary: '',\n                  approach: '',\n                  budgetDetails: '',\n                  timeline: '',\n                  fullContent: ''\n                });\n              },\n              disabled: generating,\n              children: \"New\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1006,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 994,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 905,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-xl border border-gray-100 p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-extrabold text-gray-900\",\n              children: \"Generated Proposal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1031,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-green-500 rounded-full animate-pulse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-green-600 font-medium\",\n                children: \"Ready\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1034,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1030,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 rounded-xl p-6 max-h-[500px] overflow-y-auto custom-scrollbar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prose prose-gray max-w-none\",\n              children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                remarkPlugins: [remarkGfm],\n                components: {\n                  h1: ({\n                    children\n                  }) => /*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"text-2xl font-bold text-gray-900 mb-4 mt-0\",\n                    children: children\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1043,\n                    columnNumber: 45\n                  }, this),\n                  h2: ({\n                    children\n                  }) => /*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"text-xl font-bold text-gray-900 mb-3 mt-6\",\n                    children: children\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1044,\n                    columnNumber: 45\n                  }, this),\n                  h3: ({\n                    children\n                  }) => /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-semibold text-gray-900 mb-2 mt-4\",\n                    children: children\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1045,\n                    columnNumber: 45\n                  }, this),\n                  p: ({\n                    children\n                  }) => /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-700 leading-7 mb-3\",\n                    children: children\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1046,\n                    columnNumber: 44\n                  }, this),\n                  ul: ({\n                    children\n                  }) => /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"list-disc list-inside text-gray-700 leading-7 mb-3 space-y-1\",\n                    children: children\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1047,\n                    columnNumber: 45\n                  }, this),\n                  ol: ({\n                    children\n                  }) => /*#__PURE__*/_jsxDEV(\"ol\", {\n                    className: \"list-decimal list-inside text-gray-700 leading-7 mb-3 space-y-1\",\n                    children: children\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1048,\n                    columnNumber: 45\n                  }, this),\n                  li: ({\n                    children\n                  }) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"text-gray-700\",\n                    children: children\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1049,\n                    columnNumber: 45\n                  }, this),\n                  strong: ({\n                    children\n                  }) => /*#__PURE__*/_jsxDEV(\"strong\", {\n                    className: \"font-semibold text-gray-900\",\n                    children: children\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1050,\n                    columnNumber: 49\n                  }, this),\n                  em: ({\n                    children\n                  }) => /*#__PURE__*/_jsxDEV(\"em\", {\n                    className: \"italic text-gray-700\",\n                    children: children\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1051,\n                    columnNumber: 45\n                  }, this)\n                },\n                children: generatedContent.fullContent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1040,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1038,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSaveDraft,\n              disabled: savingDraft,\n              className: \"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition disabled:opacity-60 flex-1\",\n              children: savingDraft ? 'Saving...' : 'Save Draft'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1061,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowEmailModal(true),\n              className: \"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition\",\n              children: \"Send Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1068,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleDownloadPdf,\n              disabled: downloadingPdf,\n              className: \"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-60\",\n              children: downloadingPdf ? 'Downloading...' : 'Download PDF'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1074,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1060,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1029,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 903,\n        columnNumber: 11\n      }, this), generating && !showContent && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center py-12 w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 animate-ping\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full opacity-20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1092,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1091,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 animate-ping\",\n            style: {\n              animationDelay: '0.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full opacity-20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1095,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-white rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1098,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1097,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1089,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-900 mt-6 mb-2\",\n          children: \"Generating Your Proposal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-center max-w-md\",\n          children: \"Our AI is crafting a professional proposal tailored to your requirements. This may take a few moments...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1088,\n        columnNumber: 11\n      }, this), generating && showContent && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl p-8 max-w-md mx-4 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 animate-ping\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 h-16 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full opacity-20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1115,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1114,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 animate-ping\",\n              style: {\n                animationDelay: '0.5s'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full opacity-20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1118,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-8 h-8 bg-white rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1121,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1120,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-gray-900 mb-2\",\n            children: \"Refining Your Proposal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Our AI is refining your proposal with the selected improvements. This may take a few moments...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1125,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1111,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1110,\n        columnNumber: 11\n      }, this), showEmailModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-lg p-8 w-full max-w-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold mb-4\",\n            children: \"Send Proposal via Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1135,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: [\"Client Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-500\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1140,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1139,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400\",\n                placeholder: \"Enter client's full name\",\n                value: clientName,\n                onChange: e => setClientName(e.target.value),\n                disabled: sendingEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1142,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: [\"Email Address \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-500\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1154,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400\",\n                placeholder: \"Recipient's email address\",\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                disabled: sendingEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1156,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1152,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 justify-end mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowEmailModal(false);\n                setEmail('');\n                setClientName('');\n              },\n              className: \"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300 transition\",\n              disabled: sendingEmail,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSendEmail,\n              className: \"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition disabled:opacity-60\",\n              disabled: sendingEmail || !email.trim() || !clientName.trim(),\n              children: sendingEmail ? 'Sending...' : 'Send'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1167,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1134,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1133,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: #f1f5f9;\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: #cbd5e1;\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: #94a3b8;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 683,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"NjR2LG7OGCTjGylMfHtCyuNuNEw=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","toast","ReactMarkdown","remarkGfm","getOpenRouterChatCompletion","proposalsAPI","NotificationBell","HomeIcon","DocumentTextIcon","PaperAirplaneIcon","UsersIcon","UserIcon","jsxDEV","_jsxDEV","htmlToMarkdown","input","replace","Dashboard","_s","proposalText","setProposalText","generating","setGenerating","showContent","setShowContent","generatedContent","setGeneratedContent","executiveSummary","approach","budgetDetails","timeline","fullContent","savingDraft","setSavingDraft","sendingEmail","setSendingEmail","downloadingPdf","setDownloadingPdf","showEmailModal","setShowEmailModal","email","setEmail","clientName","setClientName","proposalId","setProposalId","selectedSuggestions","setSelectedSuggestions","loadingSuggestions","setLoadingSuggestions","uploadingPdf","setUploadingPdf","uploadedPdfContent","setUploadedPdfContent","showNotificationPrompt","setShowNotificationPrompt","predefinedSuggestions","setPredefinedSuggestions","refinementSuggestions","setRefinementSuggestions","timer","setTimeout","clearTimeout","generateSuggestions","_response$choices$","_response$choices$$me","console","log","messages","role","content","response","aiSuggestions","choices","message","suggestions","split","filter","line","trim","slice","map","suggestion","index","colors","icons","className","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","text","icon","length","color","error","generateSuggestionsFromDrafts","_aiResponse$choices$","_aiResponse$choices$$","fetch","headers","localStorage","getItem","ok","Error","data","json","drafts","recentDrafts","draftContent","draft","join","aiResponse","generateRefinementSuggestions","proposalContent","_response$choices$2","_response$choices$2$m","handlePdfUpload","event","_event$target$files","file","target","files","type","formData","FormData","append","method","body","extractedText","success","value","handleSuggestionClick","SUGGESTION_LONG_FORM","prev","includes","s","handleGenerateWithAI","_response$choices$3","_response$choices$3$m","_execMatch$","_approachMatch$","_budgetMatch$","_timelineMatch$","combinedContent","systemPrompt","userPrompt","aiContent","execMatch","match","approachMatch","budgetMatch","timelineMatch","cleanContent","Boolean","handleSaveDraft","payload","title","description","status","update","create","id","handleSendEmail","sendEmail","recipientEmail","handleDownloadPdf","_link$parentNode","downloadPDF","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","appendChild","click","parentNode","removeChild","revokeObjectURL","handleLogout","removeItem","location","GENERIC_SUGGESTIONS","shuffled","sort","Math","random","a","b","i","onClick","placeholder","onChange","e","disabled","accept","htmlFor","Array","from","_","style","width","isSelected","isDisabled","baseClasses","selectedClasses","disabledClasses","remarkPlugins","components","h1","h2","h3","p","ul","ol","li","strong","em","animationDelay","_c","$RefreshReg$"],"sources":["/Users/davnishsingh/Documents/proposalai-main/proposalai/client/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { toast } from 'react-hot-toast';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport { getOpenRouterChatCompletion } from '../services/api';\nimport { proposalsAPI } from '../services/api';\nimport NotificationBell from '../components/NotificationBell';\nimport BrowserNotificationPrompt from '../components/BrowserNotificationPrompt';\nimport { \n  HomeIcon, \n  DocumentTextIcon, \n  PaperAirplaneIcon, \n  UsersIcon, \n  UserIcon \n} from '@heroicons/react/24/outline';\nimport '../ProposalMarkdown.css';\n\n// Utility to convert HTML tags to markdown\nfunction htmlToMarkdown(input: string): string {\n  return input\n    .replace(/<strong>(.*?)<\\/strong>/gi, '**$1**')\n    .replace(/<b>(.*?)<\\/b>/gi, '**$1**')\n    .replace(/<em>(.*?)<\\/em>/gi, '*$1*')\n    .replace(/<i>(.*?)<\\/i>/gi, '*$1*')\n    .replace(/<br\\s*\\/?>(\\s*)/gi, '\\n')\n    .replace(/<[^>]+>/g, '') // Remove any other HTML tags\n    .replace(/\\n{3,}/g, '\\n\\n'); // Collapse excessive newlines\n}\n\nconst Dashboard: React.FC = () => {\n  const [proposalText, setProposalText] = useState('');\n  const [generating, setGenerating] = useState(false);\n  const [showContent, setShowContent] = useState(false);\n  const [generatedContent, setGeneratedContent] = useState({\n    executiveSummary: '',\n    approach: '',\n    budgetDetails: '',\n    timeline: '',\n    fullContent: '' // Added for react-markdown\n  });\n  const [savingDraft, setSavingDraft] = useState(false);\n  const [sendingEmail, setSendingEmail] = useState(false);\n  const [downloadingPdf, setDownloadingPdf] = useState(false);\n  const [showEmailModal, setShowEmailModal] = useState(false);\n  const [email, setEmail] = useState('');\n  const [clientName, setClientName] = useState('');\n  const [proposalId, setProposalId] = useState<string | null>(null);\n  const [selectedSuggestions, setSelectedSuggestions] = useState<string[]>([]);\n  const [loadingSuggestions, setLoadingSuggestions] = useState(false);\n  const [uploadingPdf, setUploadingPdf] = useState(false);\n  const [uploadedPdfContent, setUploadedPdfContent] = useState<string>('');\n  const [showNotificationPrompt, setShowNotificationPrompt] = useState(false);\n\n  // State for suggestions\n  const [predefinedSuggestions, setPredefinedSuggestions] = useState<Array<{\n    text: string;\n    icon: React.ReactNode;\n    color: 'blue' | 'green' | 'purple' | 'orange' | 'red' | 'yellow';\n  }>>([]);\n  \n  const [refinementSuggestions, setRefinementSuggestions] = useState<Array<{\n    text: string;\n    icon: React.ReactNode;\n    color: 'blue' | 'green' | 'purple' | 'orange' | 'red' | 'yellow';\n  }>>([]);\n\n  // Show notification prompt after a delay\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowNotificationPrompt(true);\n    }, 3000); // Show after 3 seconds\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Generate AI-based suggestions (generic)\n  const generateSuggestions = useCallback(async () => {\n    try {\n      console.log('Starting AI suggestion generation...');\n      const messages = [\n        {\n          role: 'system',\n          content: 'You are an expert proposal writer. Generate 10 specific, actionable suggestions for improving a business proposal. Each suggestion should be concise (2-4 words) and focus on different aspects like content, structure, persuasion, and professionalism. Return only the suggestions, one per line, without numbering or bullet points.'\n        },\n        {\n          role: 'user',\n          content: 'Generate 10 proposal improvement suggestions.'\n        }\n      ];\n      \n      console.log('Calling OpenRouter API...');\n      const response = await getOpenRouterChatCompletion(messages);\n      const aiSuggestions = response.choices[0]?.message?.content || '';\n      console.log('AI Response:', aiSuggestions);\n      \n      // Parse AI suggestions and create suggestion objects\n      const suggestions = aiSuggestions\n        .split('\\n')\n        .filter((line: string) => line.trim())\n        .slice(0, 10)\n        .map((suggestion: string, index: number) => {\n          const colors: Array<'blue' | 'green' | 'purple' | 'orange' | 'red' | 'yellow'> = ['blue', 'green', 'purple', 'orange', 'red', 'yellow'];\n          const icons = [\n            <svg key=\"icon1\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n            </svg>,\n            <svg key=\"icon2\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n            </svg>,\n            <svg key=\"icon3\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>,\n            <svg key=\"icon4\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n            </svg>,\n            <svg key=\"icon5\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n            </svg>\n          ];\n          \n          return {\n            text: suggestion.trim(),\n            icon: icons[index % icons.length],\n            color: colors[index % colors.length]\n          };\n        });\n      \n      console.log('Parsed suggestions:', suggestions);\n      setPredefinedSuggestions(suggestions);\n    } catch (error) {\n      console.error('Error generating suggestions:', error);\n      // Fallback to basic suggestions if AI fails\n      setPredefinedSuggestions([\n        {\n          text: \"Add Executive Summary\",\n          icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>,\n          color: 'blue' as const\n        },\n        {\n          text: \"Include Budget Details\",\n          icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n          </svg>,\n          color: 'green' as const\n        },\n        {\n          text: \"Add Timeline Section\",\n          icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>,\n          color: 'purple' as const\n        }\n      ]);\n    }\n  }, []);\n\n  // Generate AI-based suggestions based on existing drafts\n  const generateSuggestionsFromDrafts = useCallback(async () => {\n    try {\n      console.log('Starting draft-based suggestion generation...');\n      \n      // Fetch existing drafts to analyze\n      const response = await fetch('/api/proposals/drafts', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      if (!response.ok) {\n        throw new Error('Failed to fetch drafts');\n      }\n      \n      const data = await response.json();\n      const drafts = data.data || [];\n      \n      if (drafts.length === 0) {\n        // If no drafts exist, fall back to generic suggestions\n        await generateSuggestions();\n        return;\n      }\n      \n      // Combine content from recent drafts for analysis\n      const recentDrafts = drafts.slice(0, 3); // Take last 3 drafts\n      const draftContent = recentDrafts\n        .map((draft: any) => draft.content || draft.fullContent || '')\n        .filter((content: string) => content.trim())\n        .join('\\n\\n');\n      \n      const messages = [\n        {\n          role: 'system',\n          content: 'You are an expert proposal writer. Based on the provided existing proposal drafts, generate 10 specific, actionable suggestions for improving future proposals. Each suggestion should be concise (2-4 words) and focus on different aspects like content, structure, persuasion, and professionalism. Return only the suggestions, one per line, without numbering or bullet points.'\n        },\n        {\n          role: 'user',\n          content: `Generate 10 proposal improvement suggestions based on these existing drafts:\\n\\n${draftContent}`\n        }\n      ];\n      \n      console.log('Calling OpenRouter API for draft-based suggestions...');\n      const aiResponse = await getOpenRouterChatCompletion(messages);\n      const aiSuggestions = aiResponse.choices[0]?.message?.content || '';\n      console.log('AI Draft-Based Response:', aiSuggestions);\n      \n      // Parse AI suggestions and create suggestion objects\n      const suggestions = aiSuggestions\n        .split('\\n')\n        .filter((line: string) => line.trim())\n        .slice(0, 10)\n        .map((suggestion: string, index: number) => {\n          const colors: Array<'blue' | 'green' | 'purple' | 'orange' | 'red' | 'yellow'> = ['blue', 'green', 'purple', 'orange', 'red', 'yellow'];\n          const icons = [\n            <svg key=\"icon1\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n            </svg>,\n            <svg key=\"icon2\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n            </svg>,\n            <svg key=\"icon3\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>,\n            <svg key=\"icon4\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n            </svg>,\n            <svg key=\"icon5\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n            </svg>\n          ];\n          \n          return {\n            text: suggestion.trim(),\n            icon: icons[index % icons.length],\n            color: colors[index % colors.length]\n          };\n        });\n      \n      console.log('Parsed draft-based suggestions:', suggestions);\n      setPredefinedSuggestions(suggestions);\n    } catch (error) {\n      console.error('Error generating draft-based suggestions:', error);\n      // Fall back to generic suggestions if draft-based generation fails\n      await generateSuggestions();\n    }\n  }, [generateSuggestions]);\n\n  // Generate AI-based refinement suggestions\n  const generateRefinementSuggestions = async (proposalContent: string) => {\n    try {\n      console.log('Starting refinement suggestion generation...');\n      console.log('Proposal content:', proposalContent);\n      const messages = [\n        {\n          role: 'system',\n          content: 'You are an expert proposal writer. Based on the provided proposal content, generate 10 specific, actionable suggestions for refining and improving the proposal. Each suggestion should be concise (2-4 words) and focus on different aspects like clarity, persuasion, structure, and impact. Return only the suggestions, one per line, without numbering or bullet points.'\n        },\n        {\n          role: 'user',\n          content: `Generate 10 refinement suggestions for this proposal:\\n\\n${proposalContent}`\n        }\n      ];\n      \n      console.log('Calling OpenRouter API for refinement suggestions...');\n      const response = await getOpenRouterChatCompletion(messages);\n      const aiSuggestions = response.choices[0]?.message?.content || '';\n      console.log('AI Refinement Response:', aiSuggestions);\n      \n      // Parse AI suggestions and create suggestion objects\n      const suggestions = aiSuggestions\n        .split('\\n')\n        .filter((line: string) => line.trim())\n        .slice(0, 10)\n        .map((suggestion: string, index: number) => {\n          const colors: Array<'blue' | 'green' | 'purple' | 'orange' | 'red' | 'yellow'> = ['blue', 'green', 'purple', 'orange', 'red', 'yellow'];\n          const icons = [\n            <svg key=\"icon1\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n            </svg>,\n            <svg key=\"icon2\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n            </svg>,\n            <svg key=\"icon3\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>,\n            <svg key=\"icon4\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n            </svg>,\n            <svg key=\"icon5\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n            </svg>,\n            <svg key=\"icon6\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\n            </svg>\n          ];\n          \n          return {\n            text: suggestion.trim(),\n            icon: icons[index % icons.length],\n            color: colors[index % colors.length]\n          };\n        });\n      \n      console.log('Parsed refinement suggestions:', suggestions);\n      setRefinementSuggestions(suggestions);\n    } catch (error) {\n      console.error('Error generating refinement suggestions:', error);\n      toast.error('Failed to generate refinement suggestions');\n    } finally {\n      // setLoadingRefinementSuggestions(false); // This line is removed\n    }\n  };\n\n  // Handle PDF file upload and extraction\n  const handlePdfUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    if (file.type !== 'application/pdf') {\n      toast.error('Please upload a PDF file');\n      return;\n    }\n\n    setUploadingPdf(true);\n    try {\n      const formData = new FormData();\n      formData.append('pdf', file);\n\n      // Call backend API to extract text from PDF\n      const response = await fetch('/api/proposals/extract-pdf', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to extract PDF content');\n      }\n\n      const data = await response.json();\n      const extractedText = data.content || data.text || '';\n      \n      if (extractedText.trim()) {\n        setUploadedPdfContent(extractedText);\n        toast.success('PDF uploaded successfully! You can now generate a refined proposal.');\n      } else {\n        toast.error('No readable text found in the PDF');\n      }\n    } catch (error) {\n      console.error('PDF extraction error:', error);\n      toast.error('Failed to extract PDF content. Please try again.');\n    } finally {\n      setUploadingPdf(false);\n      // Reset the file input\n      event.target.value = '';\n    }\n  };\n\n  // Handle suggestion bubble click (select/unselect up to 5)\n  const handleSuggestionClick = (suggestion: string) => {\n    // Toggle selection for predefined suggestions (allow multiple)\n    if (SUGGESTION_LONG_FORM[suggestion]) {\n      setSelectedSuggestions(prev =>\n        prev.includes(suggestion)\n          ? prev.filter(s => s !== suggestion)\n          : [...prev, suggestion]\n      );\n    } else {\n      // fallback to old behavior for refinement suggestions\n      setSelectedSuggestions(prev => \n        prev.includes(suggestion) \n          ? prev.filter(s => s !== suggestion)\n          : [...prev, suggestion]\n      );\n    }\n  };\n\n  const handleGenerateWithAI = async () => {\n    // Check if we have either user input or uploaded PDF content\n    if (!proposalText.trim() && !uploadedPdfContent.trim()) {\n      toast.error('Please enter a proposal description or upload a PDF before generating content');\n      return;\n    }\n    \n    try {\n      setGenerating(true);\n      \n      // Combine user input and uploaded PDF content\n      const combinedContent = uploadedPdfContent.trim() \n        ? `${proposalText.trim() ? proposalText.trim() + '\\n\\n' : ''}PDF Content:\\n${uploadedPdfContent.trim()}`\n        : proposalText.trim();\n      \n      let systemPrompt = '';\n      let userPrompt = '';\n      \n      if (uploadedPdfContent.trim()) {\n        // PDF uploaded: Only refine, do not rewrite\n        systemPrompt = `You are an expert proposal writer. Your task is to refine and improve the provided proposal content based on the user's instructions. Do NOT rewrite the entire proposal. Only make targeted improvements, edits, and enhancements. Preserve the original structure, sections, and as much of the original content as possible.`;\n        userPrompt = `Here is the current proposal content (from a PDF):\\n${uploadedPdfContent.trim()}\\n\\nUser's refinement instructions: ${proposalText.trim() ? proposalText.trim() : ''}${selectedSuggestions.length > 0 ? '\\nRefinements: ' + selectedSuggestions.map(s => SUGGESTION_LONG_FORM[s] || s).join(' | ') : ''}\\n\\nPlease return the improved proposal, keeping the original structure and content, but making it better according to the instructions.`;\n      } else {\n        // No PDF: Use original prompt for new proposals\n        systemPrompt = `You are an expert proposal writer. Generate a professional proposal with these sections: Executive Summary, Approach, Budget Details, Timeline. Use clear, persuasive language.`;\n        userPrompt = `Content: ${combinedContent}\\n\\n${proposalText.trim() ? 'Instructions: ' + proposalText.trim() + '\\n' : ''}${selectedSuggestions.length > 0 ? 'Refinements: ' + selectedSuggestions.map(s => SUGGESTION_LONG_FORM[s] || s).join(' | ') + '\\n' : ''}Generate a professional proposal with: 1. Executive Summary 2. Approach 3. Budget Details 4. Timeline`;\n      }\n      \n      // Compose prompt for OpenRouter\n      const messages = [\n        {\n          role: 'system',\n          content: systemPrompt,\n        },\n        {\n          role: 'user',\n          content: userPrompt,\n        },\n      ];\n      const response = await getOpenRouterChatCompletion(messages);\n      const aiContent = response.choices[0]?.message?.content || '';\n      let executiveSummary = '', approach = '', budgetDetails = '', timeline = '';\n      const execMatch = aiContent.match(/(?:Executive Summary|EXECUTIVE SUMMARY)[:\\s\\n]*([\\s\\S]*?)(?=\\n\\s*(?:Approach|APPROACH|Budget|BUDGET|Timeline|TIMELINE|Next Steps|NEXT STEPS)[:\\s\\n]|$)/i);\n      const approachMatch = aiContent.match(/(?:Approach|APPROACH|Methodology|METHODOLOGY)[:\\s\\n]*([\\s\\S]*?)(?=\\n\\s*(?:Budget|BUDGET|Timeline|TIMELINE|Next Steps|NEXT STEPS)[:\\s\\n]|$)/i);\n      const budgetMatch = aiContent.match(/(?:Budget Details?|BUDGET DETAILS?|Pricing|PRICING)[:\\s\\n]*([\\s\\S]*?)(?=\\n\\s*(?:Timeline|TIMELINE|Next Steps|NEXT STEPS)[:\\s\\n]|$)/i);\n      const timelineMatch = aiContent.match(/(?:Timeline|TIMELINE|Schedule|SCHEDULE)[:\\s\\n]*([\\s\\S]*?)(?=\\n\\s*(?:Next Steps|NEXT STEPS|Conclusion|CONCLUSION)[:\\s\\n]|$)/i);\n      executiveSummary = execMatch?.[1]?.trim() || '';\n      approach = approachMatch?.[1]?.trim() || '';\n      budgetDetails = budgetMatch?.[1]?.trim() || '';\n      timeline = timelineMatch?.[1]?.trim() || '';\n      const cleanContent = (text: string) => {\n        return text\n          .replace(/\\n{3,}/g, '\\n\\n')\n          .replace(/^\\s+|\\s+$/g, '')\n          .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n          .replace(/\\*(.*?)\\*/g, '<em>$1</em>');\n      };\n      const fullContent = [\n        htmlToMarkdown(cleanContent(executiveSummary)),\n        htmlToMarkdown(cleanContent(approach)),\n        htmlToMarkdown(cleanContent(budgetDetails)),\n        htmlToMarkdown(cleanContent(timeline))\n      ].filter(Boolean).join('\\n\\n');\n\n      // Fallback: If fullContent is much shorter than aiContent, use aiContent directly\n      if (fullContent.length < aiContent.length * 0.7) {\n        setGeneratedContent({\n          executiveSummary: '',\n          approach: '',\n          budgetDetails: '',\n          timeline: '',\n          fullContent: htmlToMarkdown(cleanContent(aiContent))\n        });\n      } else {\n        setGeneratedContent({\n          executiveSummary: htmlToMarkdown(cleanContent(executiveSummary)),\n          approach: htmlToMarkdown(cleanContent(approach)),\n          budgetDetails: htmlToMarkdown(cleanContent(budgetDetails)),\n          timeline: htmlToMarkdown(cleanContent(timeline)),\n          fullContent\n        });\n      }\n      setTimeout(() => {\n        setShowContent(true);\n      }, 500);\n      toast.success('Proposal generated successfully!');\n      // Generate refinement suggestions for the new proposal\n      generateRefinementSuggestions(aiContent);\n    } catch (error) {\n      console.error('Error generating proposal:', error);\n      \n      // Handle specific OpenRouter credit limit error\n      if (error instanceof Error && error.message.includes('OpenRouter credits exhausted')) {\n        toast.error('AI service credits exhausted. Please visit OpenRouter to add more credits or try again later.');\n      } else {\n        toast.error('Failed to generate proposal content. Please try again.');\n      }\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  // Save as Draft handler\n  const handleSaveDraft = async () => {\n    setSavingDraft(true);\n    try {\n      const payload = {\n        title: proposalText.slice(0, 60) || 'Untitled Proposal',\n        description: proposalText,\n        clientName: 'Client', // Optionally make this dynamic\n        type: 'PROPOSAL',\n        status: 'DRAFT',\n        content: generatedContent.fullContent,\n      };\n      let response;\n      if (proposalId) {\n        response = await proposalsAPI.update(proposalId, payload);\n      } else {\n        response = await proposalsAPI.create(payload);\n        setProposalId(response.data.data.id);\n      }\n      toast.success('Proposal saved as draft!');\n    } catch (error) {\n      toast.error('Failed to save draft.');\n    } finally {\n      setSavingDraft(false);\n    }\n  };\n\n  // Send as Email handler\n  const handleSendEmail = async () => {\n    if (!email) {\n      toast.error('Please enter a valid email address.');\n      return;\n    }\n\n    if (!clientName) {\n      toast.error('Please enter a client name.');\n      return;\n    }\n\n    if (!proposalId) {\n      toast.error('Please save the proposal as draft first.');\n      return;\n    }\n    setSendingEmail(true);\n    try {\n      await proposalsAPI.sendEmail(proposalId, { \n        recipientEmail: email,\n        clientName: clientName\n      });\n      toast.success('Proposal sent via email!');\n      setShowEmailModal(false);\n      setEmail('');\n      setClientName('');\n    } catch (error) {\n      toast.error('Failed to send email.');\n    } finally {\n      setSendingEmail(false);\n    }\n  };\n\n  // Download as PDF handler\n  const handleDownloadPdf = async () => {\n    if (!proposalId) {\n      toast.error('Please save the proposal as draft first.');\n      return;\n    }\n    setDownloadingPdf(true);\n    try {\n      const response = await proposalsAPI.downloadPDF(proposalId);\n      const url = window.URL.createObjectURL(new Blob([response.data], { type: 'application/pdf' }));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', 'proposal.pdf');\n      document.body.appendChild(link);\n      link.click();\n      link.parentNode?.removeChild(link);\n      window.URL.revokeObjectURL(url);\n      toast.success('PDF downloaded!');\n    } catch (error) {\n      toast.error('Failed to download PDF.');\n    } finally {\n      setDownloadingPdf(false);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  };\n\n  // 1. Add the hardcoded generic suggestions array at the top of the component (after useState declarations)\n  const GENERIC_SUGGESTIONS = [\n    \"Add Executive Summary\",\n    \"Include Budget Details\",\n    \"Add Timeline Section\",\n    \"Highlight Key Benefits\",\n    \"Clarify Project Scope\",\n    \"Define Success Metrics\",\n    \"Showcase Team Expertise\",\n    \"Provide Case Studies\",\n    \"Outline Deliverables\",\n    \"Specify Payment Terms\",\n    \"Include Visual Aids\",\n    \"Summarize Next Steps\",\n    \"Address Client Needs\",\n    \"Demonstrate ROI\",\n    \"List Project Milestones\",\n    \"Add Contact Information\",\n    \"Describe Methodology\",\n    \"Include Testimonials\",\n    \"Present Unique Value\",\n    \"Explain Risk Mitigation\",\n    \"Offer Flexible Options\",\n    \"Detail Project Phases\",\n    \"Show Compliance Info\",\n    \"Add Legal Disclaimers\",\n    \"Provide Support Plan\",\n    \"Include Appendices\",\n    \"Summarize Budget Assumptions\",\n    \"Highlight Innovation\",\n    \"Describe Communication Plan\",\n    \"List Required Resources\"\n  ];\n\n  // Add this mapping after GENERIC_SUGGESTIONS\n  const SUGGESTION_LONG_FORM: Record<string, string> = {\n    \"Add Executive Summary\": \"Please include a concise executive summary that outlines the main objectives, value proposition, and key points of the proposal.\",\n    \"Include Budget Details\": \"Provide a detailed budget breakdown, including all costs, fees, and payment terms associated with the project.\",\n    \"Add Timeline Section\": \"Add a clear timeline section that outlines project phases, milestones, and expected completion dates.\",\n    \"Highlight Key Benefits\": \"Emphasize the key benefits and unique selling points that make this proposal stand out for the client.\",\n    \"Clarify Project Scope\": \"Clearly define the project scope, deliverables, and boundaries to set proper expectations.\",\n    \"Define Success Metrics\": \"Specify measurable success metrics and KPIs to track the effectiveness of the project.\",\n    \"Showcase Team Expertise\": \"Highlight the relevant experience and expertise of the team members who will work on this project.\",\n    \"Provide Case Studies\": \"Include relevant case studies or examples of similar successful projects completed in the past.\",\n    \"Outline Deliverables\": \"List all deliverables that will be provided to the client upon project completion.\",\n    \"Specify Payment Terms\": \"Detail the payment terms, schedule, and accepted payment methods for the project.\",\n    \"Include Visual Aids\": \"Incorporate charts, diagrams, or images to visually support and clarify proposal content.\",\n    \"Summarize Next Steps\": \"Add a section that summarizes the next steps and actions required from both parties.\",\n    \"Address Client Needs\": \"Demonstrate a clear understanding of the client's needs and how the proposal addresses them.\",\n    \"Demonstrate ROI\": \"Explain the expected return on investment (ROI) and value the client will receive.\",\n    \"List Project Milestones\": \"Break down the project into key milestones with associated deliverables and deadlines.\",\n    \"Add Contact Information\": \"Provide up-to-date contact information for the main point of contact for this proposal.\",\n    \"Describe Methodology\": \"Describe the methodology or approach that will be used to achieve the project goals.\",\n    \"Include Testimonials\": \"Add testimonials or endorsements from previous clients to build trust and credibility.\",\n    \"Present Unique Value\": \"Clearly articulate the unique value proposition that differentiates this proposal from competitors.\",\n    \"Explain Risk Mitigation\": \"Identify potential risks and describe strategies for mitigating them throughout the project.\",\n    \"Offer Flexible Options\": \"Present flexible options or packages to accommodate different client needs or budgets.\",\n    \"Detail Project Phases\": \"Break the project into distinct phases and describe the objectives and deliverables for each.\",\n    \"Show Compliance Info\": \"Include information about compliance with relevant standards, regulations, or certifications.\",\n    \"Add Legal Disclaimers\": \"Add any necessary legal disclaimers or terms and conditions relevant to the proposal.\",\n    \"Provide Support Plan\": \"Describe the support and maintenance plan offered after project delivery.\",\n    \"Include Appendices\": \"Attach appendices with supplementary information, data, or references as needed.\",\n    \"Summarize Budget Assumptions\": \"Summarize any assumptions made in the budget and clarify what is included or excluded.\",\n    \"Highlight Innovation\": \"Highlight any innovative aspects or creative solutions proposed for the project.\",\n    \"Describe Communication Plan\": \"Describe the communication plan, including frequency and methods of updates to the client.\",\n    \"List Required Resources\": \"List any resources, materials, or information required from the client to begin the project.\"\n  };\n\n  // 2. Replace the useEffect that initializes suggestions with logic to randomize and set 5 unique suggestions from the array\n  useEffect(() => {\n    setLoadingSuggestions(true);\n    // Shuffle and pick 5 unique suggestions\n    const shuffled = GENERIC_SUGGESTIONS\n      .map(value => ({ value, sort: Math.random() }))\n      .sort((a, b) => a.sort - b.sort)\n      .map(({ value }) => value)\n      .slice(0, 5);\n    // Use the same icon/color logic as before\n    const colors = ['blue', 'green', 'purple', 'orange', 'red', 'yellow'];\n    const icons = [\n      <svg key=\"icon1\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n      </svg>,\n      <svg key=\"icon2\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n      </svg>,\n      <svg key=\"icon3\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n      </svg>,\n      <svg key=\"icon4\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n      </svg>,\n      <svg key=\"icon5\" className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n      </svg>\n    ];\n    setPredefinedSuggestions(\n      shuffled.map((text, i) => ({\n        text,\n        icon: icons[i % icons.length],\n        color: colors[i % colors.length] as 'blue' | 'green' | 'purple' | 'orange' | 'red' | 'yellow'\n      }))\n    );\n    setLoadingSuggestions(false);\n  }, []);\n\n  // REMOVED: Auto-generation useEffect that was causing unwanted generation when typing\n  // Now generation only happens when user explicitly clicks Generate/Refine button\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col\">\n      {/* Top Navigation Bar */}\n      <nav className=\"bg-gradient-to-r from-blue-600 to-blue-400 shadow-lg w-full z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center\">\n              <h1 className=\"text-xl font-extrabold text-white tracking-wider drop-shadow\">ProposalAI</h1>\n            </div>\n            <div className=\"flex items-center space-x-8\">\n              <a href=\"/dashboard\" className=\"flex items-center space-x-1 text-white font-semibold border-b-2 border-white/80 pb-1 transition-colors\">\n                <HomeIcon className=\"w-5 h-5\" />\n                <span>Dashboard</span>\n              </a>\n              <a href=\"/drafts\" className=\"flex items-center space-x-1 text-white/80 hover:text-white transition-colors\">\n                <DocumentTextIcon className=\"w-5 h-5\" />\n                <span>Drafts</span>\n              </a>\n              <a href=\"/sent-proposals\" className=\"flex items-center space-x-1 text-white/80 hover:text-white transition-colors\">\n                <PaperAirplaneIcon className=\"w-5 h-5\" />\n                <span>Sent Proposals</span>\n              </a>\n              <a href=\"/clients\" className=\"flex items-center space-x-1 text-white/80 hover:text-white transition-colors\">\n                <UsersIcon className=\"w-5 h-5\" />\n                <span>Clients</span>\n              </a>\n              <a href=\"/profile\" className=\"flex items-center space-x-1 text-white/80 hover:text-white transition-colors\">\n                <UserIcon className=\"w-5 h-5\" />\n                <span>Profile</span>\n              </a>\n              <NotificationBell />\n              <button \n                onClick={handleLogout}\n                className=\"text-white/80 hover:text-white transition-colors\"\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </nav>\n      {/* Main Content */}\n      <div className=\"w-full max-w-[1400px] mx-auto py-8 px-4 sm:px-8\">\n        {!showContent ? (\n          // Single centered card when no content is generated\n          <div className=\"flex flex-col items-center justify-center min-h-[80vh]\">\n            <div className=\"w-full max-w-6xl bg-white/90 rounded-2xl shadow-xl border border-gray-100 p-10 flex flex-col items-center justify-center min-h-[480px] mx-auto\">\n              <h2 className=\"text-3xl font-extrabold text-gray-900 mb-6 text-center tracking-tight\">What can I help with?</h2>\n              \n              {/* Text box with integrated PDF upload */}\n              <div className=\"w-full relative mb-4\">\n                {/* PDF Upload Status - moved above text box */}\n                {uploadedPdfContent && (\n                  <div className=\"flex items-center gap-2 text-sm text-green-600 bg-green-50 px-3 py-2 rounded-lg mb-2\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    PDF uploaded successfully\n                  </div>\n                )}\n                \n                <textarea\n                  className=\"w-full h-[180px] rounded-lg border border-gray-200 px-4 py-3 text-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition bg-gray-50 resize-none font-normal\"\n                  placeholder=\"Ask ProposalAI or type / to see prompts...\"\n                  value={proposalText}\n                  onChange={e => setProposalText(e.target.value)}\n                  disabled={generating}\n                />\n                \n                {/* PDF Upload Button inside text box */}\n                <div className=\"absolute bottom-3 right-3\">\n                  <input\n                    type=\"file\"\n                    accept=\".pdf\"\n                    onChange={handlePdfUpload}\n                    className=\"hidden\"\n                    id=\"pdf-upload\"\n                    disabled={uploadingPdf}\n                  />\n                  <label\n                    htmlFor=\"pdf-upload\"\n                    className={`inline-flex items-center justify-center w-8 h-8 rounded-full transition cursor-pointer ${\n                      uploadingPdf \n                        ? 'bg-gray-100 opacity-50 cursor-not-allowed' \n                        : uploadedPdfContent \n                        ? 'bg-green-100 hover:bg-green-200' \n                        : 'bg-gray-100 hover:bg-gray-200'\n                    }`}\n                    title={uploadedPdfContent ? \"PDF uploaded - Click to replace\" : \"Upload PDF\"}\n                  >\n                    {uploadingPdf ? (\n                      <div className=\"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\n                    ) : uploadedPdfContent ? (\n                      <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    ) : (\n                      <svg className=\"w-4 h-4 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                      </svg>\n                    )}\n                  </label>\n                </div>\n              </div>\n\n              {/* Initial Suggestions - SMALL TAGS STYLING */}\n              {!showContent && (\n                <div className=\"mb-6\">\n                  <div className=\"flex flex-wrap gap-2\">\n                    {loadingSuggestions ? (\n                      // Loading placeholders\n                      Array.from({ length: 8 }).map((_, i) => (\n                        <div key={i} className=\"px-3 py-1.5 rounded-full border border-gray-200 bg-gray-100 animate-pulse inline-flex items-center\">\n                          <div className=\"h-3 bg-gray-200 rounded animate-pulse\" style={{ width: `${60 + (i * 10)}px` }}></div>\n                        </div>\n                      ))\n                    ) : predefinedSuggestions.length === 0 ? (\n                      <div className=\"text-center py-8\">\n                        <div className=\"text-gray-400 mb-2\">\n                          <svg className=\"w-12 h-12 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                          </svg>\n                        </div>\n                        <p className=\"text-gray-500 text-sm\">No suggestions available. Generate a proposal to see AI-powered suggestions.</p>\n                      </div>\n                    ) : (\n                      predefinedSuggestions.map((suggestion, i) => {\n                        const isSelected = selectedSuggestions.includes(suggestion.text);\n                        const isDisabled = !isSelected && selectedSuggestions.length >= 5;\n                        \n                        // Small, transparent styling for initial suggestions\n                        const baseClasses = \"px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 cursor-pointer border\";\n                        const selectedClasses = isSelected \n                          ? \"bg-blue-100 text-blue-700 border-blue-300 shadow-sm\" \n                          : \"bg-gray-50 text-gray-600 border-gray-200 hover:bg-gray-100 hover:border-gray-300\";\n                        const disabledClasses = isDisabled \n                          ? \"opacity-40 cursor-not-allowed bg-gray-50 text-gray-400 border-gray-200\" \n                          : \"\";\n                        \n                        return (\n                          <button\n                            key={`initial-${i}-${suggestion.text}`}\n                            onClick={() => !isDisabled && !generating && handleSuggestionClick(suggestion.text)}\n                            disabled={generating || isDisabled}\n                            className={`${baseClasses} ${generating || isDisabled ? disabledClasses : selectedClasses}`}\n                          >\n                            {suggestion.text}\n                          </button>\n                        );\n                      })\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {/* Refinement Suggestions - SMALL TAGS STYLING */}\n              {showContent && (\n                <div className=\"mb-6\">\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3\">\n                    {/* Removed loadingRefinementSuggestions placeholder */}\n                    {refinementSuggestions.length === 0 ? (\n                      <div className=\"col-span-full text-center text-gray-500 py-4 font-normal\">\n                        No refinement suggestions available. Generate a proposal first to see AI-powered refinement suggestions.\n                      </div>\n                    ) : (\n                      <div className=\"col-span-full flex flex-wrap gap-2\">\n                        {refinementSuggestions.map((suggestion, i) => {\n                          const isSelected = selectedSuggestions.includes(suggestion.text);\n                          const isDisabled = !isSelected && selectedSuggestions.length >= 5;\n                          \n                          // Small, transparent styling for refinement suggestions\n                          const baseClasses = \"px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 cursor-pointer border\";\n                          const selectedClasses = isSelected \n                            ? \"bg-blue-100 text-blue-700 border-blue-300 shadow-sm\" \n                            : \"bg-gray-50 text-gray-600 border-gray-200 hover:bg-gray-100 hover:border-gray-300\";\n                          const disabledClasses = isDisabled \n                            ? \"opacity-40 cursor-not-allowed bg-gray-50 text-gray-400 border-gray-200\" \n                            : \"\";\n                          \n                          return (\n                            <button\n                              key={`refinement-${i}-${suggestion.text}`}\n                              onClick={() => !isDisabled && !generating && handleSuggestionClick(suggestion.text)}\n                              disabled={generating || isDisabled}\n                              className={`${baseClasses} ${generating || isDisabled ? disabledClasses : selectedClasses}`}\n                            >\n                              {suggestion.text}\n                            </button>\n                          );\n                        })}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n              \n              {/* Generate and Clear buttons */}\n              <div className=\"flex gap-4 mt-2 w-full justify-center\">\n                <button\n                  className=\"px-6 py-2 rounded-lg bg-blue-600 text-white font-bold shadow-md hover:bg-blue-700 transition disabled:opacity-60\"\n                  onClick={handleGenerateWithAI}\n                  disabled={generating || !proposalText.trim()}\n                >\n                  {generating ? 'Generating...' : 'Generate'}\n                </button>\n                <button\n                  className=\"px-6 py-2 rounded-lg bg-gray-200 text-gray-700 font-bold shadow-md hover:bg-gray-300 transition\"\n                  onClick={() => {\n                    setProposalText('');\n                    setSelectedSuggestions([]);\n                    setUploadedPdfContent(''); // Clear PDF content\n                  }}\n                  disabled={generating}\n                >\n                  Clear\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          // Side-by-side layout when content is generated\n          <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-8 max-w-7xl mx-auto\">\n            {/* Left side - Input and Refinement */}\n            <div className=\"bg-white/90 rounded-2xl shadow-xl border border-gray-100 p-8\">\n              <h2 className=\"text-xl font-extrabold text-gray-900 mb-4\">Refine Proposal</h2>\n              \n              {/* Text box with integrated PDF upload */}\n              <div className=\"w-full relative mb-4\">\n                {/* PDF Upload Status - moved above text box */}\n                {uploadedPdfContent && (\n                  <div className=\"flex items-center gap-2 text-sm text-green-600 bg-green-50 px-3 py-2 rounded-lg mb-2\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    PDF uploaded successfully\n                  </div>\n                )}\n                \n                <textarea\n                  className=\"w-full h-[180px] rounded-lg border border-gray-200 px-4 py-3 text-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition bg-gray-50 resize-none\"\n                  placeholder={uploadedPdfContent ? \"Add additional context or requirements (optional)...\" : \"Describe your client or project...\"}\n                  value={proposalText}\n                  onChange={e => setProposalText(e.target.value)}\n                  disabled={generating}\n                />\n                \n                {/* PDF Upload Button inside text box */}\n                <div className=\"absolute bottom-3 right-3\">\n                  <input\n                    type=\"file\"\n                    accept=\".pdf\"\n                    onChange={handlePdfUpload}\n                    className=\"hidden\"\n                    id=\"pdf-upload-refine\"\n                    disabled={uploadingPdf}\n                  />\n                  <label\n                    htmlFor=\"pdf-upload-refine\"\n                    className={`inline-flex items-center justify-center w-8 h-8 rounded-full transition cursor-pointer ${\n                      uploadingPdf \n                        ? 'bg-gray-100 opacity-50 cursor-not-allowed' \n                        : uploadedPdfContent \n                        ? 'bg-green-100 hover:bg-green-200' \n                        : 'bg-gray-100 hover:bg-gray-200'\n                    }`}\n                    title={uploadedPdfContent ? \"PDF uploaded - Click to replace\" : \"Upload PDF\"}\n                  >\n                    {uploadingPdf ? (\n                      <div className=\"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\n                    ) : uploadedPdfContent ? (\n                      <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    ) : (\n                      <svg className=\"w-4 h-4 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                      </svg>\n                    )}\n                  </label>\n                </div>\n              </div>\n\n              {/* Suggestions - SMALL TAGS STYLING */}\n              <div className=\"w-full flex flex-wrap gap-2 mb-4 min-h-[40px]\">\n                {/* Removed loadingRefinementSuggestions placeholder */}\n                {refinementSuggestions.map((s, i) => {\n                  const isSelected = selectedSuggestions.includes(s.text);\n                  const isDisabled = !isSelected && selectedSuggestions.length >= 5;\n                  \n                  // Small, transparent styling for refinement suggestions\n                  const baseClasses = \"px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 cursor-pointer border\";\n                  const selectedClasses = isSelected \n                    ? \"bg-blue-100 text-blue-700 border-blue-300 shadow-sm\" \n                    : \"bg-gray-50 text-gray-600 border-gray-200 hover:bg-gray-100 hover:border-gray-300\";\n                  const disabledClasses = isDisabled \n                    ? \"opacity-40 cursor-not-allowed bg-gray-50 text-gray-400 border-gray-200\" \n                    : \"\";\n                  \n                  return (\n                    <button\n                      key={`refinement-${i}-${s.text}`}\n                      onClick={() => !isDisabled && !generating && handleSuggestionClick(s.text)}\n                      disabled={generating || isDisabled}\n                      className={`${baseClasses} ${generating || isDisabled ? disabledClasses : selectedClasses}`}\n                    >\n                      {s.text}\n                    </button>\n                  );\n                })}\n              </div>\n              \n              {/* Refine and Clear buttons */}\n              <div className=\"flex gap-3\">\n                <button\n                  className=\"px-4 py-2 rounded-lg bg-blue-600 text-white font-bold shadow-md hover:bg-blue-700 transition disabled:opacity-60 flex-1\"\n                  onClick={async () => {\n                    setGenerating(true);\n                    // Regenerate proposal with selected suggestions\n                    await handleGenerateWithAI();\n                  }}\n                  disabled={generating}\n                >\n                  {generating ? 'Generating...' : 'Refine'}\n                </button>\n                <button\n                  className=\"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-bold shadow-md hover:bg-gray-300 transition\"\n                  onClick={() => {\n                    setProposalText('');\n                    setSelectedSuggestions([]);\n                    setUploadedPdfContent('');\n                    setShowContent(false);\n                    setGeneratedContent({\n                      executiveSummary: '',\n                      approach: '',\n                      budgetDetails: '',\n                      timeline: '',\n                      fullContent: ''\n                    });\n                  }}\n                  disabled={generating}\n                >\n                  New\n                </button>\n              </div>\n            </div>\n\n            {/* Right side - Generated Proposal */}\n            <div className=\"bg-white rounded-2xl shadow-xl border border-gray-100 p-8\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h2 className=\"text-xl font-extrabold text-gray-900\">Generated Proposal</h2>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 bg-green-500 rounded-full animate-pulse\"></div>\n                  <span className=\"text-sm text-green-600 font-medium\">Ready</span>\n                </div>\n              </div>\n              \n              <div className=\"bg-gray-50 rounded-xl p-6 max-h-[500px] overflow-y-auto custom-scrollbar\">\n                <div className=\"prose prose-gray max-w-none\">\n                  <ReactMarkdown\n                    remarkPlugins={[remarkGfm]}\n                    components={{\n                      h1: ({ children }) => <h1 className=\"text-2xl font-bold text-gray-900 mb-4 mt-0\">{children}</h1>,\n                      h2: ({ children }) => <h2 className=\"text-xl font-bold text-gray-900 mb-3 mt-6\">{children}</h2>,\n                      h3: ({ children }) => <h3 className=\"text-lg font-semibold text-gray-900 mb-2 mt-4\">{children}</h3>,\n                      p: ({ children }) => <p className=\"text-gray-700 leading-7 mb-3\">{children}</p>,\n                      ul: ({ children }) => <ul className=\"list-disc list-inside text-gray-700 leading-7 mb-3 space-y-1\">{children}</ul>,\n                      ol: ({ children }) => <ol className=\"list-decimal list-inside text-gray-700 leading-7 mb-3 space-y-1\">{children}</ol>,\n                      li: ({ children }) => <li className=\"text-gray-700\">{children}</li>,\n                      strong: ({ children }) => <strong className=\"font-semibold text-gray-900\">{children}</strong>,\n                      em: ({ children }) => <em className=\"italic text-gray-700\">{children}</em>,\n                    }}\n                  >\n                    {generatedContent.fullContent}\n                  </ReactMarkdown>\n                </div>\n              </div>\n\n              {/* Action buttons */}\n              <div className=\"flex gap-3 mt-6\">\n                <button\n                  onClick={handleSaveDraft}\n                  disabled={savingDraft}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition disabled:opacity-60 flex-1\"\n                >\n                  {savingDraft ? 'Saving...' : 'Save Draft'}\n                </button>\n                <button\n                  onClick={() => setShowEmailModal(true)}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition\"\n                >\n                  Send Email\n                </button>\n                <button\n                  onClick={handleDownloadPdf}\n                  disabled={downloadingPdf}\n                  className=\"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-60\"\n                >\n                  {downloadingPdf ? 'Downloading...' : 'Download PDF'}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Loading screen below the box when generating */}\n        {generating && !showContent && (\n          <div className=\"flex flex-col items-center justify-center py-12 w-full\">\n            <div className=\"relative\">\n              {/* Animated circles */}\n              <div className=\"absolute inset-0 animate-ping\">\n                <div className=\"w-16 h-16 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full opacity-20\"></div>\n              </div>\n              <div className=\"absolute inset-0 animate-ping\" style={{ animationDelay: '0.5s' }}>\n                <div className=\"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full opacity-20\"></div>\n              </div>\n              <div className=\"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n                <div className=\"w-8 h-8 bg-white rounded-full\"></div>\n              </div>\n            </div>\n            <h3 className=\"text-xl font-bold text-gray-900 mt-6 mb-2\">Generating Your Proposal</h3>\n            <p className=\"text-gray-600 text-center max-w-md\">\n              Our AI is crafting a professional proposal tailored to your requirements. This may take a few moments...\n            </p>\n          </div>\n        )}\n\n        {/* Loading screen for refinement state */}\n        {generating && showContent && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-2xl p-8 max-w-md mx-4 text-center\">\n              <div className=\"relative mb-6\">\n                {/* Animated circles */}\n                <div className=\"absolute inset-0 animate-ping\">\n                  <div className=\"w-16 h-16 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full opacity-20\"></div>\n                </div>\n                <div className=\"absolute inset-0 animate-ping\" style={{ animationDelay: '0.5s' }}>\n                  <div className=\"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full opacity-20\"></div>\n                </div>\n                <div className=\"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto\">\n                  <div className=\"w-8 h-8 bg-white rounded-full\"></div>\n                </div>\n              </div>\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Refining Your Proposal</h3>\n              <p className=\"text-gray-600\">\n                Our AI is refining your proposal with the selected improvements. This may take a few moments...\n              </p>\n            </div>\n          </div>\n        )}\n        {/* Email Modal (if needed) */}\n        {showEmailModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-xl shadow-lg p-8 w-full max-w-md\">\n              <h2 className=\"text-lg font-semibold mb-4\">Send Proposal via Email</h2>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Client Name <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n                    placeholder=\"Enter client's full name\"\n                    value={clientName}\n                    onChange={e => setClientName(e.target.value)}\n                    disabled={sendingEmail}\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Email Address <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"email\"\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400\"\n                    placeholder=\"Recipient's email address\"\n                    value={email}\n                    onChange={e => setEmail(e.target.value)}\n                    disabled={sendingEmail}\n                  />\n                </div>\n              </div>\n              \n              <div className=\"flex gap-3 justify-end mt-6\">\n                <button\n                  onClick={() => {\n                    setShowEmailModal(false);\n                    setEmail('');\n                    setClientName('');\n                  }}\n                  className=\"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300 transition\"\n                  disabled={sendingEmail}\n                >Cancel</button>\n                <button\n                  onClick={handleSendEmail}\n                  className=\"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition disabled:opacity-60\"\n                  disabled={sendingEmail || !email.trim() || !clientName.trim()}\n                >{sendingEmail ? 'Sending...' : 'Send'}</button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n      <style>{`\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: #f1f5f9;\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: #cbd5e1;\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: #94a3b8;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}