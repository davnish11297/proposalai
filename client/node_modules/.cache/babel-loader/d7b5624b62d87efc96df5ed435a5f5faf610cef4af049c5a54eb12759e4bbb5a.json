{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{proposalsAPI,organizationsAPI}from'../services/api';import{useTheme}from'../contexts/ThemeContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Removed unused metrics variable - now using realMetrics calculated from actual data\n// Removed unused proposals variable - now using real proposals from API\nexport default function Dashboard(){var _brandSettings$valueP;const navigate=useNavigate();const{updateTheme}=useTheme();const[proposals,setProposals]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');// Add state for Brand Settings modal\nconst[showBrandModal,setShowBrandModal]=useState(false);const[brandSettings,setBrandSettings]=useState({name:'',description:'',logo:'',website:'',industry:'',size:'',primaryColor:'#3B82F6',secondaryColor:'#1F2937',fontFamily:'Inter',brandVoice:'Professional and friendly',brandGuidelines:'',valueProps:[]});const[savingBrand,setSavingBrand]=useState(false);useEffect(()=>{fetchProposals();fetchBrandSettings();},[]);const fetchProposals=async()=>{try{setLoading(true);const response=await proposalsAPI.getAll({limit:5});setProposals(response.data.data);}catch(err){console.error('Failed to fetch proposals:',err);setError('Failed to load proposals');}finally{setLoading(false);}};const fetchBrandSettings=async()=>{try{const response=await organizationsAPI.getBrandSettings();setBrandSettings(response.data);// Apply brand colors to theme\nif(response.data.primaryColor&&response.data.secondaryColor&&response.data.fontFamily){updateTheme({primaryColor:response.data.primaryColor,secondaryColor:response.data.secondaryColor,fontFamily:response.data.fontFamily});}}catch(err){console.error('Failed to fetch brand settings:',err);}};const saveBrandSettings=async settings=>{try{setSavingBrand(true);const response=await organizationsAPI.updateBrandSettings(settings);setBrandSettings(response.data);setShowBrandModal(false);}catch(err){console.error('Failed to save brand settings:',err);alert('Failed to save brand settings');}finally{setSavingBrand(false);}};// Calculate metrics from real data\nconst totalProposals=proposals.length;const wonProposals=proposals.filter(p=>p.status==='WON').length;const winRate=totalProposals>0?(wonProposals/totalProposals*100).toFixed(1):'0';const pipelineValue=proposals.filter(p=>['DRAFT','IN_REVIEW','SENT'].includes(p.status)).reduce((sum,p)=>{var _p$content;const budget=((_p$content=p.content)===null||_p$content===void 0?void 0:_p$content.budget)||'$0';const value=parseInt(budget.replace(/[^0-9]/g,''));return sum+value;},0);const realMetrics=[{label:'Total Proposals',value:totalProposals,change:'+12% this month',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-primary-500\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M9 17v-2a2 2 0 012-2h2a2 2 0 012 2v2m-6 4h6a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v12a2 2 0 002 2z\"})}),bg:'bg-blue-50',text:'text-primary-700'},{label:'Win Rate',value:`${winRate}%`,change:'+5.2% vs last month',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-green-500\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M12 8v4l3 3\"})}),bg:'bg-green-50',text:'text-green-700'},{label:'Pipeline Value',value:`$${(pipelineValue/1000).toFixed(0)}K`,change:'+18% this quarter',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-purple-500\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm0 0V4m0 7v7\"})}),bg:'bg-purple-50',text:'text-purple-700'},{label:'Avg. Time Saved',value:'3.2h',change:'75% faster than manual',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-orange-500\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M12 8v4l3 3\"})}),bg:'bg-orange-50',text:'text-orange-700'}];const getStatusColor=status=>{switch(status){case'WON':return'bg-green-100 text-green-800';case'LOST':return'bg-red-100 text-red-800';case'IN_REVIEW':return'bg-yellow-100 text-yellow-800';case'SENT':return'bg-blue-100 text-blue-800';case'DRAFT':return'bg-gray-100 text-gray-800';default:return'bg-gray-100 text-gray-800';}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"pb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-1\",children:\"Welcome back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-lg\",children:\"Your AI-powered proposal workspace is ready to create winning proposals\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-4 md:mt-0\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>navigate('/knowledge-base'),children:\"Knowledge Base\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>navigate('/proposals/new'),children:\"Create Proposal\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\",children:realMetrics.map((metric,i)=>/*#__PURE__*/_jsxs(\"div\",{className:`rounded-xl p-5 flex flex-col gap-2 shadow-soft ${metric.bg}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg p-2 bg-white shadow-sm\",children:metric.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-500\",children:metric.label})]}),/*#__PURE__*/_jsx(\"div\",{className:`text-2xl font-bold ${metric.text}`,children:metric.value}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:metric.change})]},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Recent Proposals\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-primary-600 font-medium hover:underline\",onClick:()=>navigate('/proposals'),children:\"View All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-soft divide-y divide-gray-100\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 text-center text-gray-500\",children:\"Loading proposals...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 text-center text-red-500\",children:error}):proposals.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 text-center text-gray-500\",children:\"No proposals found\"}):proposals.map((proposal,i)=>{var _proposal$content;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-primary-400\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M9 17v-2a2 2 0 012-2h2a2 2 0 012 2v2m-6 4h6a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v12a2 2 0 002 2z\"})}),proposal.title]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 flex gap-2 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:proposal.clientName}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(proposal.createdAt)}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:((_proposal$content=proposal.content)===null||_proposal$content===void 0?void 0:_proposal$content.budget)||'N/A'})]})]}),/*#__PURE__*/_jsx(\"span\",{className:`badge ${getStatusColor(proposal.status)} capitalize`,children:proposal.status.toLowerCase()})]},proposal.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full lg:w-80 flex-shrink-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-soft p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary w-full mb-3\",onClick:()=>navigate('/proposals/new'),children:\"+ Create New Proposal\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary w-full mb-3\",onClick:()=>navigate('/knowledge-base'),children:\"Manage Knowledge Base\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary w-full\",onClick:()=>setShowBrandModal(true),children:\"Brand Settings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-soft p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-4\",children:\"Top Knowledge Items\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center justify-between text-sm text-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Client Testimonial - Manufacturing\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:\"18 uses\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center justify-between text-sm text-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Cloud Migration Service Offering\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:\"15 uses\"})]})]})]})]})]}),showBrandModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center p-4 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl max-w-2xl w-full p-8 shadow-2xl relative my-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center text-primary-600 text-xl font-bold\",children:\"\\uD83C\\uDFE2\"}),\"Brand Settings\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>{e.preventDefault();saveBrandSettings(brandSettings);},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Company Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Company Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input w-full\",placeholder:\"e.g. TechCorp Solutions\",value:brandSettings.name,onChange:e=>setBrandSettings({...brandSettings,name:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Industry\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input w-full\",placeholder:\"e.g. SaaS, Healthcare\",value:brandSettings.industry||'',onChange:e=>setBrandSettings({...brandSettings,industry:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Website\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",className:\"input w-full\",placeholder:\"https://yourcompany.com\",value:brandSettings.website||'',onChange:e=>setBrandSettings({...brandSettings,website:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Company Size\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"input w-full\",value:brandSettings.size||'',onChange:e=>setBrandSettings({...brandSettings,size:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select size\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1-10\",children:\"1-10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"11-50\",children:\"11-50\"}),/*#__PURE__*/_jsx(\"option\",{value:\"51-200\",children:\"51-200\"}),/*#__PURE__*/_jsx(\"option\",{value:\"201-1000\",children:\"201-1000\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1000+\",children:\"1000+\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"input w-full\",rows:2,placeholder:\"Describe your company...\",value:brandSettings.description||'',onChange:e=>setBrandSettings({...brandSettings,description:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Logo URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",className:\"input w-full\",placeholder:\"https://yourcompany.com/logo.png\",value:brandSettings.logo||'',onChange:e=>setBrandSettings({...brandSettings,logo:e.target.value})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Brand Colors\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Primary Color\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"color\",className:\"w-12 h-12 p-0 border-none bg-transparent rounded cursor-pointer\",value:brandSettings.primaryColor,onChange:e=>setBrandSettings({...brandSettings,primaryColor:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input flex-1\",value:brandSettings.primaryColor,onChange:e=>setBrandSettings({...brandSettings,primaryColor:e.target.value})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Secondary Color\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"color\",className:\"w-12 h-12 p-0 border-none bg-transparent rounded cursor-pointer\",value:brandSettings.secondaryColor,onChange:e=>setBrandSettings({...brandSettings,secondaryColor:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input flex-1\",value:brandSettings.secondaryColor,onChange:e=>setBrandSettings({...brandSettings,secondaryColor:e.target.value})})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Brand Voice & Tone\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"input w-full\",value:brandSettings.brandVoice,onChange:e=>setBrandSettings({...brandSettings,brandVoice:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"Professional and friendly\",children:\"Professional and friendly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Professional and formal\",children:\"Professional and formal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Friendly and conversational\",children:\"Friendly and conversational\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Confident and authoritative\",children:\"Confident and authoritative\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Innovative and cutting-edge\",children:\"Innovative and cutting-edge\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Font Family\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"input w-full\",value:brandSettings.fontFamily,onChange:e=>setBrandSettings({...brandSettings,fontFamily:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"Inter\",children:\"Inter (Modern)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Roboto\",children:\"Roboto (Clean)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Open Sans\",children:\"Open Sans (Friendly)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Lato\",children:\"Lato (Professional)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Poppins\",children:\"Poppins (Contemporary)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Value Propositions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[(_brandSettings$valueP=brandSettings.valueProps)===null||_brandSettings$valueP===void 0?void 0:_brandSettings$valueP.map((prop,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input flex-1\",placeholder:\"Enter value proposition...\",value:prop,onChange:e=>{const newValueProps=[...(brandSettings.valueProps||[])];newValueProps[index]=e.target.value;setBrandSettings({...brandSettings,valueProps:newValueProps});}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-red-500 hover:text-red-700 p-2\",onClick:()=>{var _brandSettings$valueP2;const newValueProps=((_brandSettings$valueP2=brandSettings.valueProps)===null||_brandSettings$valueP2===void 0?void 0:_brandSettings$valueP2.filter((_,i)=>i!==index))||[];setBrandSettings({...brandSettings,valueProps:newValueProps});},children:\"\\u2715\"})]},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center gap-1\",onClick:()=>{const newValueProps=[...(brandSettings.valueProps||[]),''];setBrandSettings({...brandSettings,valueProps:newValueProps});},children:\"+ Add Value Proposition\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Brand Guidelines\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"input w-full\",rows:3,placeholder:\"Additional brand guidelines, tone preferences, or specific requirements...\",value:brandSettings.brandGuidelines||'',onChange:e=>setBrandSettings({...brandSettings,brandGuidelines:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-6 rounded-lg font-medium\",onClick:()=>setShowBrandModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-primary-600 hover:bg-primary-700 text-white py-2 px-6 rounded-lg font-medium disabled:opacity-50\",disabled:savingBrand,children:savingBrand?'Saving...':'Save Changes'})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl\",onClick:()=>setShowBrandModal(false),title:\"Close\",children:\"\\xD7\"})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","proposalsAPI","organizationsAPI","useTheme","jsx","_jsx","jsxs","_jsxs","Dashboard","_brandSettings$valueP","navigate","updateTheme","proposals","setProposals","loading","setLoading","error","setError","showBrandModal","setShowBrandModal","brandSettings","setBrandSettings","name","description","logo","website","industry","size","primaryColor","secondaryColor","fontFamily","brandVoice","brandGuidelines","valueProps","savingBrand","setSavingBrand","fetchProposals","fetchBrandSettings","response","getAll","limit","data","err","console","getBrandSettings","saveBrandSettings","settings","updateBrandSettings","alert","totalProposals","length","wonProposals","filter","p","status","winRate","toFixed","pipelineValue","includes","reduce","sum","_p$content","budget","content","value","parseInt","replace","realMetrics","label","change","icon","className","fill","stroke","strokeWidth","viewBox","children","strokeLinecap","strokeLinejoin","d","bg","text","getStatusColor","formatDate","dateString","Date","toLocaleDateString","month","day","year","onClick","map","metric","i","proposal","_proposal$content","title","clientName","createdAt","toLowerCase","id","onSubmit","e","preventDefault","type","placeholder","onChange","target","rows","prop","index","newValueProps","_brandSettings$valueP2","_","disabled"],"sources":["/Users/davnishsingh/Documents/proposalai/client/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { proposalsAPI, organizationsAPI } from '../services/api';\nimport { useTheme } from '../contexts/ThemeContext';\n\ninterface Proposal {\n  id: string;\n  title: string;\n  clientName: string;\n  status: string;\n  content: any;\n  createdAt: string;\n  updatedAt: string;\n}\n\n// Removed unused metrics variable - now using realMetrics calculated from actual data\n\n// Removed unused proposals variable - now using real proposals from API\n\nexport default function Dashboard() {\n  const navigate = useNavigate();\n  const { updateTheme } = useTheme();\n  const [proposals, setProposals] = useState<Proposal[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  // Add state for Brand Settings modal\n  const [showBrandModal, setShowBrandModal] = useState(false);\n  const [brandSettings, setBrandSettings] = useState({\n    name: '',\n    description: '',\n    logo: '',\n    website: '',\n    industry: '',\n    size: '',\n    primaryColor: '#3B82F6',\n    secondaryColor: '#1F2937',\n    fontFamily: 'Inter',\n    brandVoice: 'Professional and friendly',\n    brandGuidelines: '',\n    valueProps: [] as string[]\n  });\n  const [savingBrand, setSavingBrand] = useState(false);\n\n  useEffect(() => {\n    fetchProposals();\n    fetchBrandSettings();\n  }, []);\n\n  const fetchProposals = async () => {\n    try {\n      setLoading(true);\n      const response = await proposalsAPI.getAll({ limit: 5 });\n      setProposals(response.data.data);\n    } catch (err) {\n      console.error('Failed to fetch proposals:', err);\n      setError('Failed to load proposals');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchBrandSettings = async () => {\n    try {\n      const response = await organizationsAPI.getBrandSettings();\n      setBrandSettings(response.data);\n      \n      // Apply brand colors to theme\n      if (response.data.primaryColor && response.data.secondaryColor && response.data.fontFamily) {\n        updateTheme({\n          primaryColor: response.data.primaryColor,\n          secondaryColor: response.data.secondaryColor,\n          fontFamily: response.data.fontFamily\n        });\n      }\n    } catch (err) {\n      console.error('Failed to fetch brand settings:', err);\n    }\n  };\n\n  const saveBrandSettings = async (settings: any) => {\n    try {\n      setSavingBrand(true);\n      const response = await organizationsAPI.updateBrandSettings(settings);\n      setBrandSettings(response.data);\n      setShowBrandModal(false);\n    } catch (err) {\n      console.error('Failed to save brand settings:', err);\n      alert('Failed to save brand settings');\n    } finally {\n      setSavingBrand(false);\n    }\n  };\n\n  // Calculate metrics from real data\n  const totalProposals = proposals.length;\n  const wonProposals = proposals.filter(p => p.status === 'WON').length;\n  const winRate = totalProposals > 0 ? ((wonProposals / totalProposals) * 100).toFixed(1) : '0';\n  const pipelineValue = proposals\n    .filter(p => ['DRAFT', 'IN_REVIEW', 'SENT'].includes(p.status))\n    .reduce((sum, p) => {\n      const budget = p.content?.budget || '$0';\n      const value = parseInt(budget.replace(/[^0-9]/g, ''));\n      return sum + value;\n    }, 0);\n\n  const realMetrics = [\n    {\n      label: 'Total Proposals',\n      value: totalProposals,\n      change: '+12% this month',\n      icon: (\n        <svg className=\"w-6 h-6 text-primary-500\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 17v-2a2 2 0 012-2h2a2 2 0 012 2v2m-6 4h6a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v12a2 2 0 002 2z\" /></svg>\n      ),\n      bg: 'bg-blue-50',\n      text: 'text-primary-700',\n    },\n    {\n      label: 'Win Rate',\n      value: `${winRate}%`,\n      change: '+5.2% vs last month',\n      icon: (\n        <svg className=\"w-6 h-6 text-green-500\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 8v4l3 3\" /></svg>\n      ),\n      bg: 'bg-green-50',\n      text: 'text-green-700',\n    },\n    {\n      label: 'Pipeline Value',\n      value: `$${(pipelineValue / 1000).toFixed(0)}K`,\n      change: '+18% this quarter',\n      icon: (\n        <svg className=\"w-6 h-6 text-purple-500\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 8c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm0 0V4m0 7v7\" /></svg>\n      ),\n      bg: 'bg-purple-50',\n      text: 'text-purple-700',\n    },\n    {\n      label: 'Avg. Time Saved',\n      value: '3.2h',\n      change: '75% faster than manual',\n      icon: (\n        <svg className=\"w-6 h-6 text-orange-500\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 8v4l3 3\" /></svg>\n      ),\n      bg: 'bg-orange-50',\n      text: 'text-orange-700',\n    },\n  ];\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'WON': return 'bg-green-100 text-green-800';\n      case 'LOST': return 'bg-red-100 text-red-800';\n      case 'IN_REVIEW': return 'bg-yellow-100 text-yellow-800';\n      case 'SENT': return 'bg-blue-100 text-blue-800';\n      case 'DRAFT': return 'bg-gray-100 text-gray-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    });\n  };\n  \n  return (\n    <div className=\"pb-8\">\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-6\">\n        <div>\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-1\">Welcome back</h2>\n          <p className=\"text-gray-500 text-lg\">Your AI-powered proposal workspace is ready to create winning proposals</p>\n        </div>\n        <div className=\"flex gap-2 mt-4 md:mt-0\">\n          <button className=\"btn btn-secondary\" onClick={() => navigate('/knowledge-base')}>Knowledge Base</button>\n          <button className=\"btn btn-primary\" onClick={() => navigate('/proposals/new')}>Create Proposal</button>\n        </div>\n      </div>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n        {realMetrics.map((metric, i) => (\n          <div key={i} className={`rounded-xl p-5 flex flex-col gap-2 shadow-soft ${metric.bg}`}>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"rounded-lg p-2 bg-white shadow-sm\">\n                {metric.icon}\n              </div>\n              <span className=\"text-xs font-medium text-gray-500\">{metric.label}</span>\n            </div>\n            <div className={`text-2xl font-bold ${metric.text}`}>{metric.value}</div>\n            <div className=\"text-xs text-gray-400\">{metric.change}</div>\n          </div>\n        ))}\n      </div>\n      <div className=\"flex flex-col lg:flex-row gap-8\">\n        <div className=\"flex-1\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-xl font-semibold text-gray-900\">Recent Proposals</h3>\n            <button className=\"text-primary-600 font-medium hover:underline\" onClick={() => navigate('/proposals')}>View All</button>\n          </div>\n          <div className=\"bg-white rounded-xl shadow-soft divide-y divide-gray-100\">\n            {loading ? (\n              <div className=\"px-6 py-4 text-center text-gray-500\">Loading proposals...</div>\n            ) : error ? (\n              <div className=\"px-6 py-4 text-center text-red-500\">{error}</div>\n            ) : proposals.length === 0 ? (\n              <div className=\"px-6 py-4 text-center text-gray-500\">No proposals found</div>\n            ) : (\n              proposals.map((proposal, i) => (\n                <div key={proposal.id} className=\"flex items-center justify-between px-6 py-4\">\n                  <div>\n                    <div className=\"font-medium text-gray-900 flex items-center gap-2\">\n                      <svg className=\"w-5 h-5 text-primary-400\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 17v-2a2 2 0 012-2h2a2 2 0 012 2v2m-6 4h6a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v12a2 2 0 002 2z\" /></svg>\n                      {proposal.title}\n                    </div>\n                    <div className=\"text-xs text-gray-500 flex gap-2 mt-1\">\n                      <span>{proposal.clientName}</span>\n                      <span>‚Ä¢</span>\n                      <span>{formatDate(proposal.createdAt)}</span>\n                      <span>‚Ä¢</span>\n                      <span>{proposal.content?.budget || 'N/A'}</span>\n                    </div>\n                  </div>\n                  <span className={`badge ${getStatusColor(proposal.status)} capitalize`}>{proposal.status.toLowerCase()}</span>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n        <div className=\"w-full lg:w-80 flex-shrink-0\">\n          <div className=\"bg-white rounded-xl shadow-soft p-6 mb-6\">\n            <h4 className=\"text-lg font-semibold mb-4\">Quick Actions</h4>\n            <button className=\"btn btn-primary w-full mb-3\" onClick={() => navigate('/proposals/new')}>+ Create New Proposal</button>\n            <button className=\"btn btn-secondary w-full mb-3\" onClick={() => navigate('/knowledge-base')}>Manage Knowledge Base</button>\n            <button className=\"btn btn-secondary w-full\" onClick={() => setShowBrandModal(true)}>Brand Settings</button>\n          </div>\n          <div className=\"bg-white rounded-xl shadow-soft p-6\">\n            <h4 className=\"text-lg font-semibold mb-4\">Top Knowledge Items</h4>\n            <ul className=\"space-y-2\">\n              <li className=\"flex items-center justify-between text-sm text-gray-700\">\n                <span>Client Testimonial - Manufacturing</span>\n                <span className=\"text-xs text-gray-400\">18 uses</span>\n              </li>\n              <li className=\"flex items-center justify-between text-sm text-gray-700\">\n                <span>Cloud Migration Service Offering</span>\n                <span className=\"text-xs text-gray-400\">15 uses</span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      {/* Brand Settings Modal */}\n      {showBrandModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center p-4 z-50 overflow-y-auto\">\n          <div className=\"bg-white rounded-2xl max-w-2xl w-full p-8 shadow-2xl relative my-8\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2\">\n              <span className=\"inline-block w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center text-primary-600 text-xl font-bold\">üè¢</span>\n              Brand Settings\n            </h2>\n            <form onSubmit={(e) => {\n              e.preventDefault();\n              saveBrandSettings(brandSettings);\n            }} className=\"space-y-6\">\n              {/* Company Info */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Company Information</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Company Name</label>\n                    <input \n                      type=\"text\" \n                      className=\"input w-full\" \n                      placeholder=\"e.g. TechCorp Solutions\"\n                      value={brandSettings.name}\n                      onChange={(e) => setBrandSettings({...brandSettings, name: e.target.value})}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Industry</label>\n                    <input \n                      type=\"text\" \n                      className=\"input w-full\" \n                      placeholder=\"e.g. SaaS, Healthcare\"\n                      value={brandSettings.industry || ''}\n                      onChange={(e) => setBrandSettings({...brandSettings, industry: e.target.value})}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Website</label>\n                    <input \n                      type=\"url\" \n                      className=\"input w-full\" \n                      placeholder=\"https://yourcompany.com\"\n                      value={brandSettings.website || ''}\n                      onChange={(e) => setBrandSettings({...brandSettings, website: e.target.value})}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Company Size</label>\n                    <select \n                      className=\"input w-full\"\n                      value={brandSettings.size || ''}\n                      onChange={(e) => setBrandSettings({...brandSettings, size: e.target.value})}\n                    >\n                      <option value=\"\">Select size</option>\n                      <option value=\"1-10\">1-10</option>\n                      <option value=\"11-50\">11-50</option>\n                      <option value=\"51-200\">51-200</option>\n                      <option value=\"201-1000\">201-1000</option>\n                      <option value=\"1000+\">1000+</option>\n                    </select>\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                    <textarea \n                      className=\"input w-full\" \n                      rows={2} \n                      placeholder=\"Describe your company...\"\n                      value={brandSettings.description || ''}\n                      onChange={(e) => setBrandSettings({...brandSettings, description: e.target.value})}\n                    />\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Logo URL</label>\n                    <input \n                      type=\"url\" \n                      className=\"input w-full\" \n                      placeholder=\"https://yourcompany.com/logo.png\"\n                      value={brandSettings.logo || ''}\n                      onChange={(e) => setBrandSettings({...brandSettings, logo: e.target.value})}\n                    />\n                  </div>\n                </div>\n              </div>\n              {/* Brand Colors */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Brand Colors</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Primary Color</label>\n                    <div className=\"flex items-center gap-2\">\n                      <input \n                        type=\"color\" \n                        className=\"w-12 h-12 p-0 border-none bg-transparent rounded cursor-pointer\" \n                        value={brandSettings.primaryColor}\n                        onChange={(e) => setBrandSettings({...brandSettings, primaryColor: e.target.value})}\n                      />\n                      <input \n                        type=\"text\" \n                        className=\"input flex-1\" \n                        value={brandSettings.primaryColor}\n                        onChange={(e) => setBrandSettings({...brandSettings, primaryColor: e.target.value})}\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Secondary Color</label>\n                    <div className=\"flex items-center gap-2\">\n                      <input \n                        type=\"color\" \n                        className=\"w-12 h-12 p-0 border-none bg-transparent rounded cursor-pointer\" \n                        value={brandSettings.secondaryColor}\n                        onChange={(e) => setBrandSettings({...brandSettings, secondaryColor: e.target.value})}\n                      />\n                      <input \n                        type=\"text\" \n                        className=\"input flex-1\" \n                        value={brandSettings.secondaryColor}\n                        onChange={(e) => setBrandSettings({...brandSettings, secondaryColor: e.target.value})}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              {/* Brand Voice & Tone */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Brand Voice & Tone</h3>\n                <select \n                  className=\"input w-full\"\n                  value={brandSettings.brandVoice}\n                  onChange={(e) => setBrandSettings({...brandSettings, brandVoice: e.target.value})}\n                >\n                  <option value=\"Professional and friendly\">Professional and friendly</option>\n                  <option value=\"Professional and formal\">Professional and formal</option>\n                  <option value=\"Friendly and conversational\">Friendly and conversational</option>\n                  <option value=\"Confident and authoritative\">Confident and authoritative</option>\n                  <option value=\"Innovative and cutting-edge\">Innovative and cutting-edge</option>\n                </select>\n              </div>\n              {/* Font Family */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Font Family</h3>\n                <select \n                  className=\"input w-full\"\n                  value={brandSettings.fontFamily}\n                  onChange={(e) => setBrandSettings({...brandSettings, fontFamily: e.target.value})}\n                >\n                  <option value=\"Inter\">Inter (Modern)</option>\n                  <option value=\"Roboto\">Roboto (Clean)</option>\n                  <option value=\"Open Sans\">Open Sans (Friendly)</option>\n                  <option value=\"Lato\">Lato (Professional)</option>\n                  <option value=\"Poppins\">Poppins (Contemporary)</option>\n                </select>\n              </div>\n              {/* Value Propositions */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Value Propositions</h3>\n                <div className=\"space-y-3\">\n                  {brandSettings.valueProps?.map((prop: string, index: number) => (\n                    <div key={index} className=\"flex items-center gap-2\">\n                      <input \n                        type=\"text\" \n                        className=\"input flex-1\" \n                        placeholder=\"Enter value proposition...\"\n                        value={prop}\n                        onChange={(e) => {\n                          const newValueProps = [...(brandSettings.valueProps || [])];\n                          newValueProps[index] = e.target.value;\n                          setBrandSettings({...brandSettings, valueProps: newValueProps});\n                        }}\n                      />\n                      <button \n                        type=\"button\"\n                        className=\"text-red-500 hover:text-red-700 p-2\"\n                        onClick={() => {\n                          const newValueProps = brandSettings.valueProps?.filter((_, i) => i !== index) || [];\n                          setBrandSettings({...brandSettings, valueProps: newValueProps});\n                        }}\n                      >\n                        ‚úï\n                      </button>\n                    </div>\n                  ))}\n                  <button \n                    type=\"button\"\n                    className=\"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center gap-1\"\n                    onClick={() => {\n                      const newValueProps = [...(brandSettings.valueProps || []), ''];\n                      setBrandSettings({...brandSettings, valueProps: newValueProps});\n                    }}\n                  >\n                    + Add Value Proposition\n                  </button>\n                </div>\n              </div>\n              {/* Brand Guidelines */}\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Brand Guidelines</h3>\n                <textarea \n                  className=\"input w-full\" \n                  rows={3} \n                  placeholder=\"Additional brand guidelines, tone preferences, or specific requirements...\"\n                  value={brandSettings.brandGuidelines || ''}\n                  onChange={(e) => setBrandSettings({...brandSettings, brandGuidelines: e.target.value})}\n                />\n              </div>\n              <div className=\"flex justify-end gap-3 pt-4\">\n                <button \n                  type=\"button\" \n                  className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-6 rounded-lg font-medium\" \n                  onClick={() => setShowBrandModal(false)}\n                >\n                  Cancel\n                </button>\n                <button \n                  type=\"submit\" \n                  className=\"bg-primary-600 hover:bg-primary-700 text-white py-2 px-6 rounded-lg font-medium disabled:opacity-50\"\n                  disabled={savingBrand}\n                >\n                  {savingBrand ? 'Saving...' : 'Save Changes'}\n                </button>\n              </div>\n            </form>\n            <button className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl\" onClick={() => setShowBrandModal(false)} title=\"Close\">&times;</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n} "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,YAAY,CAAEC,gBAAgB,KAAQ,iBAAiB,CAChE,OAASC,QAAQ,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAYpD;AAEA;AAEA,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,KAAAC,qBAAA,CAClC,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEW,WAAY,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAClC,KAAM,CAACS,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAa,EAAE,CAAC,CAC1D,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACkB,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CACtC;AACA,KAAM,CAACoB,cAAc,CAAEC,iBAAiB,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACsB,aAAa,CAAEC,gBAAgB,CAAC,CAAGvB,QAAQ,CAAC,CACjDwB,IAAI,CAAE,EAAE,CACRC,WAAW,CAAE,EAAE,CACfC,IAAI,CAAE,EAAE,CACRC,OAAO,CAAE,EAAE,CACXC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,EAAE,CACRC,YAAY,CAAE,SAAS,CACvBC,cAAc,CAAE,SAAS,CACzBC,UAAU,CAAE,OAAO,CACnBC,UAAU,CAAE,2BAA2B,CACvCC,eAAe,CAAE,EAAE,CACnBC,UAAU,CAAE,EACd,CAAC,CAAC,CACF,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CAErDC,SAAS,CAAC,IAAM,CACdqC,cAAc,CAAC,CAAC,CAChBC,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAD,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACFrB,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAuB,QAAQ,CAAG,KAAM,CAAArC,YAAY,CAACsC,MAAM,CAAC,CAAEC,KAAK,CAAE,CAAE,CAAC,CAAC,CACxD3B,YAAY,CAACyB,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,CAClC,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAAC3B,KAAK,CAAC,4BAA4B,CAAE0B,GAAG,CAAC,CAChDzB,QAAQ,CAAC,0BAA0B,CAAC,CACtC,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAsB,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAApC,gBAAgB,CAAC0C,gBAAgB,CAAC,CAAC,CAC1DvB,gBAAgB,CAACiB,QAAQ,CAACG,IAAI,CAAC,CAE/B;AACA,GAAIH,QAAQ,CAACG,IAAI,CAACb,YAAY,EAAIU,QAAQ,CAACG,IAAI,CAACZ,cAAc,EAAIS,QAAQ,CAACG,IAAI,CAACX,UAAU,CAAE,CAC1FnB,WAAW,CAAC,CACViB,YAAY,CAAEU,QAAQ,CAACG,IAAI,CAACb,YAAY,CACxCC,cAAc,CAAES,QAAQ,CAACG,IAAI,CAACZ,cAAc,CAC5CC,UAAU,CAAEQ,QAAQ,CAACG,IAAI,CAACX,UAC5B,CAAC,CAAC,CACJ,CACF,CAAE,MAAOY,GAAG,CAAE,CACZC,OAAO,CAAC3B,KAAK,CAAC,iCAAiC,CAAE0B,GAAG,CAAC,CACvD,CACF,CAAC,CAED,KAAM,CAAAG,iBAAiB,CAAG,KAAO,CAAAC,QAAa,EAAK,CACjD,GAAI,CACFX,cAAc,CAAC,IAAI,CAAC,CACpB,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAApC,gBAAgB,CAAC6C,mBAAmB,CAACD,QAAQ,CAAC,CACrEzB,gBAAgB,CAACiB,QAAQ,CAACG,IAAI,CAAC,CAC/BtB,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CAAE,MAAOuB,GAAG,CAAE,CACZC,OAAO,CAAC3B,KAAK,CAAC,gCAAgC,CAAE0B,GAAG,CAAC,CACpDM,KAAK,CAAC,+BAA+B,CAAC,CACxC,CAAC,OAAS,CACRb,cAAc,CAAC,KAAK,CAAC,CACvB,CACF,CAAC,CAED;AACA,KAAM,CAAAc,cAAc,CAAGrC,SAAS,CAACsC,MAAM,CACvC,KAAM,CAAAC,YAAY,CAAGvC,SAAS,CAACwC,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACC,MAAM,GAAK,KAAK,CAAC,CAACJ,MAAM,CACrE,KAAM,CAAAK,OAAO,CAAGN,cAAc,CAAG,CAAC,CAAG,CAAEE,YAAY,CAAGF,cAAc,CAAI,GAAG,EAAEO,OAAO,CAAC,CAAC,CAAC,CAAG,GAAG,CAC7F,KAAM,CAAAC,aAAa,CAAG7C,SAAS,CAC5BwC,MAAM,CAACC,CAAC,EAAI,CAAC,OAAO,CAAE,WAAW,CAAE,MAAM,CAAC,CAACK,QAAQ,CAACL,CAAC,CAACC,MAAM,CAAC,CAAC,CAC9DK,MAAM,CAAC,CAACC,GAAG,CAAEP,CAAC,GAAK,KAAAQ,UAAA,CAClB,KAAM,CAAAC,MAAM,CAAG,EAAAD,UAAA,CAAAR,CAAC,CAACU,OAAO,UAAAF,UAAA,iBAATA,UAAA,CAAWC,MAAM,GAAI,IAAI,CACxC,KAAM,CAAAE,KAAK,CAAGC,QAAQ,CAACH,MAAM,CAACI,OAAO,CAAC,SAAS,CAAE,EAAE,CAAC,CAAC,CACrD,MAAO,CAAAN,GAAG,CAAGI,KAAK,CACpB,CAAC,CAAE,CAAC,CAAC,CAEP,KAAM,CAAAG,WAAW,CAAG,CAClB,CACEC,KAAK,CAAE,iBAAiB,CACxBJ,KAAK,CAAEf,cAAc,CACrBoB,MAAM,CAAE,iBAAiB,CACzBC,IAAI,cACFjE,IAAA,QAAKkE,SAAS,CAAC,0BAA0B,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,OAAO,CAAC,WAAW,CAAAC,QAAA,cAACvE,IAAA,SAAMwE,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,CAAC,CAAC,uGAAuG,CAAE,CAAC,CAAK,CACrR,CACDC,EAAE,CAAE,YAAY,CAChBC,IAAI,CAAE,kBACR,CAAC,CACD,CACEb,KAAK,CAAE,UAAU,CACjBJ,KAAK,CAAE,GAAGT,OAAO,GAAG,CACpBc,MAAM,CAAE,qBAAqB,CAC7BC,IAAI,cACFjE,IAAA,QAAKkE,SAAS,CAAC,wBAAwB,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,OAAO,CAAC,WAAW,CAAAC,QAAA,cAACvE,IAAA,SAAMwE,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,CAAC,CAAC,aAAa,CAAE,CAAC,CAAK,CACzL,CACDC,EAAE,CAAE,aAAa,CACjBC,IAAI,CAAE,gBACR,CAAC,CACD,CACEb,KAAK,CAAE,gBAAgB,CACvBJ,KAAK,CAAE,IAAI,CAACP,aAAa,CAAG,IAAI,EAAED,OAAO,CAAC,CAAC,CAAC,GAAG,CAC/Ca,MAAM,CAAE,mBAAmB,CAC3BC,IAAI,cACFjE,IAAA,QAAKkE,SAAS,CAAC,yBAAyB,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,OAAO,CAAC,WAAW,CAAAC,QAAA,cAACvE,IAAA,SAAMwE,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,CAAC,CAAC,6EAA6E,CAAE,CAAC,CAAK,CAC1P,CACDC,EAAE,CAAE,cAAc,CAClBC,IAAI,CAAE,iBACR,CAAC,CACD,CACEb,KAAK,CAAE,iBAAiB,CACxBJ,KAAK,CAAE,MAAM,CACbK,MAAM,CAAE,wBAAwB,CAChCC,IAAI,cACFjE,IAAA,QAAKkE,SAAS,CAAC,yBAAyB,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,OAAO,CAAC,WAAW,CAAAC,QAAA,cAACvE,IAAA,SAAMwE,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,CAAC,CAAC,aAAa,CAAE,CAAC,CAAK,CAC1L,CACDC,EAAE,CAAE,cAAc,CAClBC,IAAI,CAAE,iBACR,CAAC,CACF,CAED,KAAM,CAAAC,cAAc,CAAI5B,MAAc,EAAK,CACzC,OAAQA,MAAM,EACZ,IAAK,KAAK,CAAE,MAAO,6BAA6B,CAChD,IAAK,MAAM,CAAE,MAAO,yBAAyB,CAC7C,IAAK,WAAW,CAAE,MAAO,+BAA+B,CACxD,IAAK,MAAM,CAAE,MAAO,2BAA2B,CAC/C,IAAK,OAAO,CAAE,MAAO,2BAA2B,CAChD,QAAS,MAAO,2BAA2B,CAC7C,CACF,CAAC,CAED,KAAM,CAAA6B,UAAU,CAAIC,UAAkB,EAAK,CACzC,MAAO,IAAI,CAAAC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAE,CACtDC,KAAK,CAAE,OAAO,CACdC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAE,SACR,CAAC,CAAC,CACJ,CAAC,CAED,mBACElF,KAAA,QAAKgE,SAAS,CAAC,MAAM,CAAAK,QAAA,eACnBrE,KAAA,QAAKgE,SAAS,CAAC,mEAAmE,CAAAK,QAAA,eAChFrE,KAAA,QAAAqE,QAAA,eACEvE,IAAA,OAAIkE,SAAS,CAAC,uCAAuC,CAAAK,QAAA,CAAC,cAAY,CAAI,CAAC,cACvEvE,IAAA,MAAGkE,SAAS,CAAC,uBAAuB,CAAAK,QAAA,CAAC,yEAAuE,CAAG,CAAC,EAC7G,CAAC,cACNrE,KAAA,QAAKgE,SAAS,CAAC,yBAAyB,CAAAK,QAAA,eACtCvE,IAAA,WAAQkE,SAAS,CAAC,mBAAmB,CAACmB,OAAO,CAAEA,CAAA,GAAMhF,QAAQ,CAAC,iBAAiB,CAAE,CAAAkE,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACzGvE,IAAA,WAAQkE,SAAS,CAAC,iBAAiB,CAACmB,OAAO,CAAEA,CAAA,GAAMhF,QAAQ,CAAC,gBAAgB,CAAE,CAAAkE,QAAA,CAAC,iBAAe,CAAQ,CAAC,EACpG,CAAC,EACH,CAAC,cACNvE,IAAA,QAAKkE,SAAS,CAAC,2DAA2D,CAAAK,QAAA,CACvET,WAAW,CAACwB,GAAG,CAAC,CAACC,MAAM,CAAEC,CAAC,gBACzBtF,KAAA,QAAagE,SAAS,CAAE,kDAAkDqB,MAAM,CAACZ,EAAE,EAAG,CAAAJ,QAAA,eACpFrE,KAAA,QAAKgE,SAAS,CAAC,yBAAyB,CAAAK,QAAA,eACtCvE,IAAA,QAAKkE,SAAS,CAAC,mCAAmC,CAAAK,QAAA,CAC/CgB,MAAM,CAACtB,IAAI,CACT,CAAC,cACNjE,IAAA,SAAMkE,SAAS,CAAC,mCAAmC,CAAAK,QAAA,CAAEgB,MAAM,CAACxB,KAAK,CAAO,CAAC,EACtE,CAAC,cACN/D,IAAA,QAAKkE,SAAS,CAAE,sBAAsBqB,MAAM,CAACX,IAAI,EAAG,CAAAL,QAAA,CAAEgB,MAAM,CAAC5B,KAAK,CAAM,CAAC,cACzE3D,IAAA,QAAKkE,SAAS,CAAC,uBAAuB,CAAAK,QAAA,CAAEgB,MAAM,CAACvB,MAAM,CAAM,CAAC,GARpDwB,CASL,CACN,CAAC,CACC,CAAC,cACNtF,KAAA,QAAKgE,SAAS,CAAC,iCAAiC,CAAAK,QAAA,eAC9CrE,KAAA,QAAKgE,SAAS,CAAC,QAAQ,CAAAK,QAAA,eACrBrE,KAAA,QAAKgE,SAAS,CAAC,wCAAwC,CAAAK,QAAA,eACrDvE,IAAA,OAAIkE,SAAS,CAAC,qCAAqC,CAAAK,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACzEvE,IAAA,WAAQkE,SAAS,CAAC,8CAA8C,CAACmB,OAAO,CAAEA,CAAA,GAAMhF,QAAQ,CAAC,YAAY,CAAE,CAAAkE,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACtH,CAAC,cACNvE,IAAA,QAAKkE,SAAS,CAAC,0DAA0D,CAAAK,QAAA,CACtE9D,OAAO,cACNT,IAAA,QAAKkE,SAAS,CAAC,qCAAqC,CAAAK,QAAA,CAAC,sBAAoB,CAAK,CAAC,CAC7E5D,KAAK,cACPX,IAAA,QAAKkE,SAAS,CAAC,oCAAoC,CAAAK,QAAA,CAAE5D,KAAK,CAAM,CAAC,CAC/DJ,SAAS,CAACsC,MAAM,GAAK,CAAC,cACxB7C,IAAA,QAAKkE,SAAS,CAAC,qCAAqC,CAAAK,QAAA,CAAC,oBAAkB,CAAK,CAAC,CAE7EhE,SAAS,CAAC+E,GAAG,CAAC,CAACG,QAAQ,CAAED,CAAC,QAAAE,iBAAA,oBACxBxF,KAAA,QAAuBgE,SAAS,CAAC,6CAA6C,CAAAK,QAAA,eAC5ErE,KAAA,QAAAqE,QAAA,eACErE,KAAA,QAAKgE,SAAS,CAAC,mDAAmD,CAAAK,QAAA,eAChEvE,IAAA,QAAKkE,SAAS,CAAC,0BAA0B,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACC,OAAO,CAAC,WAAW,CAAAC,QAAA,cAACvE,IAAA,SAAMwE,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,CAAC,CAAC,uGAAuG,CAAE,CAAC,CAAK,CAAC,CACpRe,QAAQ,CAACE,KAAK,EACZ,CAAC,cACNzF,KAAA,QAAKgE,SAAS,CAAC,uCAAuC,CAAAK,QAAA,eACpDvE,IAAA,SAAAuE,QAAA,CAAOkB,QAAQ,CAACG,UAAU,CAAO,CAAC,cAClC5F,IAAA,SAAAuE,QAAA,CAAM,QAAC,CAAM,CAAC,cACdvE,IAAA,SAAAuE,QAAA,CAAOO,UAAU,CAACW,QAAQ,CAACI,SAAS,CAAC,CAAO,CAAC,cAC7C7F,IAAA,SAAAuE,QAAA,CAAM,QAAC,CAAM,CAAC,cACdvE,IAAA,SAAAuE,QAAA,CAAO,EAAAmB,iBAAA,CAAAD,QAAQ,CAAC/B,OAAO,UAAAgC,iBAAA,iBAAhBA,iBAAA,CAAkBjC,MAAM,GAAI,KAAK,CAAO,CAAC,EAC7C,CAAC,EACH,CAAC,cACNzD,IAAA,SAAMkE,SAAS,CAAE,SAASW,cAAc,CAACY,QAAQ,CAACxC,MAAM,CAAC,aAAc,CAAAsB,QAAA,CAAEkB,QAAQ,CAACxC,MAAM,CAAC6C,WAAW,CAAC,CAAC,CAAO,CAAC,GAdtGL,QAAQ,CAACM,EAed,CAAC,EACP,CACF,CACE,CAAC,EACH,CAAC,cACN7F,KAAA,QAAKgE,SAAS,CAAC,8BAA8B,CAAAK,QAAA,eAC3CrE,KAAA,QAAKgE,SAAS,CAAC,0CAA0C,CAAAK,QAAA,eACvDvE,IAAA,OAAIkE,SAAS,CAAC,4BAA4B,CAAAK,QAAA,CAAC,eAAa,CAAI,CAAC,cAC7DvE,IAAA,WAAQkE,SAAS,CAAC,6BAA6B,CAACmB,OAAO,CAAEA,CAAA,GAAMhF,QAAQ,CAAC,gBAAgB,CAAE,CAAAkE,QAAA,CAAC,uBAAqB,CAAQ,CAAC,cACzHvE,IAAA,WAAQkE,SAAS,CAAC,+BAA+B,CAACmB,OAAO,CAAEA,CAAA,GAAMhF,QAAQ,CAAC,iBAAiB,CAAE,CAAAkE,QAAA,CAAC,uBAAqB,CAAQ,CAAC,cAC5HvE,IAAA,WAAQkE,SAAS,CAAC,0BAA0B,CAACmB,OAAO,CAAEA,CAAA,GAAMvE,iBAAiB,CAAC,IAAI,CAAE,CAAAyD,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACzG,CAAC,cACNrE,KAAA,QAAKgE,SAAS,CAAC,qCAAqC,CAAAK,QAAA,eAClDvE,IAAA,OAAIkE,SAAS,CAAC,4BAA4B,CAAAK,QAAA,CAAC,qBAAmB,CAAI,CAAC,cACnErE,KAAA,OAAIgE,SAAS,CAAC,WAAW,CAAAK,QAAA,eACvBrE,KAAA,OAAIgE,SAAS,CAAC,yDAAyD,CAAAK,QAAA,eACrEvE,IAAA,SAAAuE,QAAA,CAAM,oCAAkC,CAAM,CAAC,cAC/CvE,IAAA,SAAMkE,SAAS,CAAC,uBAAuB,CAAAK,QAAA,CAAC,SAAO,CAAM,CAAC,EACpD,CAAC,cACLrE,KAAA,OAAIgE,SAAS,CAAC,yDAAyD,CAAAK,QAAA,eACrEvE,IAAA,SAAAuE,QAAA,CAAM,kCAAgC,CAAM,CAAC,cAC7CvE,IAAA,SAAMkE,SAAS,CAAC,uBAAuB,CAAAK,QAAA,CAAC,SAAO,CAAM,CAAC,EACpD,CAAC,EACH,CAAC,EACF,CAAC,EACH,CAAC,EACH,CAAC,CAEL1D,cAAc,eACbb,IAAA,QAAKkE,SAAS,CAAC,+FAA+F,CAAAK,QAAA,cAC5GrE,KAAA,QAAKgE,SAAS,CAAC,oEAAoE,CAAAK,QAAA,eACjFrE,KAAA,OAAIgE,SAAS,CAAC,+DAA+D,CAAAK,QAAA,eAC3EvE,IAAA,SAAMkE,SAAS,CAAC,sHAAsH,CAAAK,QAAA,CAAC,cAAE,CAAM,CAAC,iBAElJ,EAAI,CAAC,cACLrE,KAAA,SAAM8F,QAAQ,CAAGC,CAAC,EAAK,CACrBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB1D,iBAAiB,CAACzB,aAAa,CAAC,CAClC,CAAE,CAACmD,SAAS,CAAC,WAAW,CAAAK,QAAA,eAEtBrE,KAAA,QAAAqE,QAAA,eACEvE,IAAA,OAAIkE,SAAS,CAAC,0CAA0C,CAAAK,QAAA,CAAC,qBAAmB,CAAI,CAAC,cACjFrE,KAAA,QAAKgE,SAAS,CAAC,uCAAuC,CAAAK,QAAA,eACpDrE,KAAA,QAAAqE,QAAA,eACEvE,IAAA,UAAOkE,SAAS,CAAC,8CAA8C,CAAAK,QAAA,CAAC,cAAY,CAAO,CAAC,cACpFvE,IAAA,UACEmG,IAAI,CAAC,MAAM,CACXjC,SAAS,CAAC,cAAc,CACxBkC,WAAW,CAAC,yBAAyB,CACrCzC,KAAK,CAAE5C,aAAa,CAACE,IAAK,CAC1BoF,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEE,IAAI,CAAEgF,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CAC7E,CAAC,EACC,CAAC,cACNzD,KAAA,QAAAqE,QAAA,eACEvE,IAAA,UAAOkE,SAAS,CAAC,8CAA8C,CAAAK,QAAA,CAAC,UAAQ,CAAO,CAAC,cAChFvE,IAAA,UACEmG,IAAI,CAAC,MAAM,CACXjC,SAAS,CAAC,cAAc,CACxBkC,WAAW,CAAC,uBAAuB,CACnCzC,KAAK,CAAE5C,aAAa,CAACM,QAAQ,EAAI,EAAG,CACpCgF,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEM,QAAQ,CAAE4E,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CACjF,CAAC,EACC,CAAC,cACNzD,KAAA,QAAAqE,QAAA,eACEvE,IAAA,UAAOkE,SAAS,CAAC,8CAA8C,CAAAK,QAAA,CAAC,SAAO,CAAO,CAAC,cAC/EvE,IAAA,UACEmG,IAAI,CAAC,KAAK,CACVjC,SAAS,CAAC,cAAc,CACxBkC,WAAW,CAAC,yBAAyB,CACrCzC,KAAK,CAAE5C,aAAa,CAACK,OAAO,EAAI,EAAG,CACnCiF,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEK,OAAO,CAAE6E,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CAChF,CAAC,EACC,CAAC,cACNzD,KAAA,QAAAqE,QAAA,eACEvE,IAAA,UAAOkE,SAAS,CAAC,8CAA8C,CAAAK,QAAA,CAAC,cAAY,CAAO,CAAC,cACpFrE,KAAA,WACEgE,SAAS,CAAC,cAAc,CACxBP,KAAK,CAAE5C,aAAa,CAACO,IAAI,EAAI,EAAG,CAChC+E,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEO,IAAI,CAAE2E,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CAAAY,QAAA,eAE5EvE,IAAA,WAAQ2D,KAAK,CAAC,EAAE,CAAAY,QAAA,CAAC,aAAW,CAAQ,CAAC,cACrCvE,IAAA,WAAQ2D,KAAK,CAAC,MAAM,CAAAY,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClCvE,IAAA,WAAQ2D,KAAK,CAAC,OAAO,CAAAY,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpCvE,IAAA,WAAQ2D,KAAK,CAAC,QAAQ,CAAAY,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCvE,IAAA,WAAQ2D,KAAK,CAAC,UAAU,CAAAY,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CvE,IAAA,WAAQ2D,KAAK,CAAC,OAAO,CAAAY,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC9B,CAAC,EACN,CAAC,cACNrE,KAAA,QAAKgE,SAAS,CAAC,eAAe,CAAAK,QAAA,eAC5BvE,IAAA,UAAOkE,SAAS,CAAC,8CAA8C,CAAAK,QAAA,CAAC,aAAW,CAAO,CAAC,cACnFvE,IAAA,aACEkE,SAAS,CAAC,cAAc,CACxBqC,IAAI,CAAE,CAAE,CACRH,WAAW,CAAC,0BAA0B,CACtCzC,KAAK,CAAE5C,aAAa,CAACG,WAAW,EAAI,EAAG,CACvCmF,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEG,WAAW,CAAE+E,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CACpF,CAAC,EACC,CAAC,cACNzD,KAAA,QAAKgE,SAAS,CAAC,eAAe,CAAAK,QAAA,eAC5BvE,IAAA,UAAOkE,SAAS,CAAC,8CAA8C,CAAAK,QAAA,CAAC,UAAQ,CAAO,CAAC,cAChFvE,IAAA,UACEmG,IAAI,CAAC,KAAK,CACVjC,SAAS,CAAC,cAAc,CACxBkC,WAAW,CAAC,kCAAkC,CAC9CzC,KAAK,CAAE5C,aAAa,CAACI,IAAI,EAAI,EAAG,CAChCkF,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEI,IAAI,CAAE8E,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CAC7E,CAAC,EACC,CAAC,EACH,CAAC,EACH,CAAC,cAENzD,KAAA,QAAAqE,QAAA,eACEvE,IAAA,OAAIkE,SAAS,CAAC,0CAA0C,CAAAK,QAAA,CAAC,cAAY,CAAI,CAAC,cAC1ErE,KAAA,QAAKgE,SAAS,CAAC,uCAAuC,CAAAK,QAAA,eACpDrE,KAAA,QAAAqE,QAAA,eACEvE,IAAA,UAAOkE,SAAS,CAAC,8CAA8C,CAAAK,QAAA,CAAC,eAAa,CAAO,CAAC,cACrFrE,KAAA,QAAKgE,SAAS,CAAC,yBAAyB,CAAAK,QAAA,eACtCvE,IAAA,UACEmG,IAAI,CAAC,OAAO,CACZjC,SAAS,CAAC,iEAAiE,CAC3EP,KAAK,CAAE5C,aAAa,CAACQ,YAAa,CAClC8E,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEQ,YAAY,CAAE0E,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CACrF,CAAC,cACF3D,IAAA,UACEmG,IAAI,CAAC,MAAM,CACXjC,SAAS,CAAC,cAAc,CACxBP,KAAK,CAAE5C,aAAa,CAACQ,YAAa,CAClC8E,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEQ,YAAY,CAAE0E,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CACrF,CAAC,EACC,CAAC,EACH,CAAC,cACNzD,KAAA,QAAAqE,QAAA,eACEvE,IAAA,UAAOkE,SAAS,CAAC,8CAA8C,CAAAK,QAAA,CAAC,iBAAe,CAAO,CAAC,cACvFrE,KAAA,QAAKgE,SAAS,CAAC,yBAAyB,CAAAK,QAAA,eACtCvE,IAAA,UACEmG,IAAI,CAAC,OAAO,CACZjC,SAAS,CAAC,iEAAiE,CAC3EP,KAAK,CAAE5C,aAAa,CAACS,cAAe,CACpC6E,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAES,cAAc,CAAEyE,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CACvF,CAAC,cACF3D,IAAA,UACEmG,IAAI,CAAC,MAAM,CACXjC,SAAS,CAAC,cAAc,CACxBP,KAAK,CAAE5C,aAAa,CAACS,cAAe,CACpC6E,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAES,cAAc,CAAEyE,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CACvF,CAAC,EACC,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,cAENzD,KAAA,QAAAqE,QAAA,eACEvE,IAAA,OAAIkE,SAAS,CAAC,0CAA0C,CAAAK,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAChFrE,KAAA,WACEgE,SAAS,CAAC,cAAc,CACxBP,KAAK,CAAE5C,aAAa,CAACW,UAAW,CAChC2E,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEW,UAAU,CAAEuE,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CAAAY,QAAA,eAElFvE,IAAA,WAAQ2D,KAAK,CAAC,2BAA2B,CAAAY,QAAA,CAAC,2BAAyB,CAAQ,CAAC,cAC5EvE,IAAA,WAAQ2D,KAAK,CAAC,yBAAyB,CAAAY,QAAA,CAAC,yBAAuB,CAAQ,CAAC,cACxEvE,IAAA,WAAQ2D,KAAK,CAAC,6BAA6B,CAAAY,QAAA,CAAC,6BAA2B,CAAQ,CAAC,cAChFvE,IAAA,WAAQ2D,KAAK,CAAC,6BAA6B,CAAAY,QAAA,CAAC,6BAA2B,CAAQ,CAAC,cAChFvE,IAAA,WAAQ2D,KAAK,CAAC,6BAA6B,CAAAY,QAAA,CAAC,6BAA2B,CAAQ,CAAC,EAC1E,CAAC,EACN,CAAC,cAENrE,KAAA,QAAAqE,QAAA,eACEvE,IAAA,OAAIkE,SAAS,CAAC,0CAA0C,CAAAK,QAAA,CAAC,aAAW,CAAI,CAAC,cACzErE,KAAA,WACEgE,SAAS,CAAC,cAAc,CACxBP,KAAK,CAAE5C,aAAa,CAACU,UAAW,CAChC4E,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEU,UAAU,CAAEwE,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CAAAY,QAAA,eAElFvE,IAAA,WAAQ2D,KAAK,CAAC,OAAO,CAAAY,QAAA,CAAC,gBAAc,CAAQ,CAAC,cAC7CvE,IAAA,WAAQ2D,KAAK,CAAC,QAAQ,CAAAY,QAAA,CAAC,gBAAc,CAAQ,CAAC,cAC9CvE,IAAA,WAAQ2D,KAAK,CAAC,WAAW,CAAAY,QAAA,CAAC,sBAAoB,CAAQ,CAAC,cACvDvE,IAAA,WAAQ2D,KAAK,CAAC,MAAM,CAAAY,QAAA,CAAC,qBAAmB,CAAQ,CAAC,cACjDvE,IAAA,WAAQ2D,KAAK,CAAC,SAAS,CAAAY,QAAA,CAAC,wBAAsB,CAAQ,CAAC,EACjD,CAAC,EACN,CAAC,cAENrE,KAAA,QAAAqE,QAAA,eACEvE,IAAA,OAAIkE,SAAS,CAAC,0CAA0C,CAAAK,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAChFrE,KAAA,QAAKgE,SAAS,CAAC,WAAW,CAAAK,QAAA,GAAAnE,qBAAA,CACvBW,aAAa,CAACa,UAAU,UAAAxB,qBAAA,iBAAxBA,qBAAA,CAA0BkF,GAAG,CAAC,CAACkB,IAAY,CAAEC,KAAa,gBACzDvG,KAAA,QAAiBgE,SAAS,CAAC,yBAAyB,CAAAK,QAAA,eAClDvE,IAAA,UACEmG,IAAI,CAAC,MAAM,CACXjC,SAAS,CAAC,cAAc,CACxBkC,WAAW,CAAC,4BAA4B,CACxCzC,KAAK,CAAE6C,IAAK,CACZH,QAAQ,CAAGJ,CAAC,EAAK,CACf,KAAM,CAAAS,aAAa,CAAG,CAAC,IAAI3F,aAAa,CAACa,UAAU,EAAI,EAAE,CAAC,CAAC,CAC3D8E,aAAa,CAACD,KAAK,CAAC,CAAGR,CAAC,CAACK,MAAM,CAAC3C,KAAK,CACrC3C,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEa,UAAU,CAAE8E,aAAa,CAAC,CAAC,CACjE,CAAE,CACH,CAAC,cACF1G,IAAA,WACEmG,IAAI,CAAC,QAAQ,CACbjC,SAAS,CAAC,qCAAqC,CAC/CmB,OAAO,CAAEA,CAAA,GAAM,KAAAsB,sBAAA,CACb,KAAM,CAAAD,aAAa,CAAG,EAAAC,sBAAA,CAAA5F,aAAa,CAACa,UAAU,UAAA+E,sBAAA,iBAAxBA,sBAAA,CAA0B5D,MAAM,CAAC,CAAC6D,CAAC,CAAEpB,CAAC,GAAKA,CAAC,GAAKiB,KAAK,CAAC,GAAI,EAAE,CACnFzF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEa,UAAU,CAAE8E,aAAa,CAAC,CAAC,CACjE,CAAE,CAAAnC,QAAA,CACH,QAED,CAAQ,CAAC,GArBDkC,KAsBL,CACN,CAAC,cACFzG,IAAA,WACEmG,IAAI,CAAC,QAAQ,CACbjC,SAAS,CAAC,qFAAqF,CAC/FmB,OAAO,CAAEA,CAAA,GAAM,CACb,KAAM,CAAAqB,aAAa,CAAG,CAAC,IAAI3F,aAAa,CAACa,UAAU,EAAI,EAAE,CAAC,CAAE,EAAE,CAAC,CAC/DZ,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEa,UAAU,CAAE8E,aAAa,CAAC,CAAC,CACjE,CAAE,CAAAnC,QAAA,CACH,yBAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAENrE,KAAA,QAAAqE,QAAA,eACEvE,IAAA,OAAIkE,SAAS,CAAC,0CAA0C,CAAAK,QAAA,CAAC,kBAAgB,CAAI,CAAC,cAC9EvE,IAAA,aACEkE,SAAS,CAAC,cAAc,CACxBqC,IAAI,CAAE,CAAE,CACRH,WAAW,CAAC,4EAA4E,CACxFzC,KAAK,CAAE5C,aAAa,CAACY,eAAe,EAAI,EAAG,CAC3C0E,QAAQ,CAAGJ,CAAC,EAAKjF,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEY,eAAe,CAAEsE,CAAC,CAACK,MAAM,CAAC3C,KAAK,CAAC,CAAE,CACxF,CAAC,EACC,CAAC,cACNzD,KAAA,QAAKgE,SAAS,CAAC,6BAA6B,CAAAK,QAAA,eAC1CvE,IAAA,WACEmG,IAAI,CAAC,QAAQ,CACbjC,SAAS,CAAC,8EAA8E,CACxFmB,OAAO,CAAEA,CAAA,GAAMvE,iBAAiB,CAAC,KAAK,CAAE,CAAAyD,QAAA,CACzC,QAED,CAAQ,CAAC,cACTvE,IAAA,WACEmG,IAAI,CAAC,QAAQ,CACbjC,SAAS,CAAC,qGAAqG,CAC/G2C,QAAQ,CAAEhF,WAAY,CAAA0C,QAAA,CAErB1C,WAAW,CAAG,WAAW,CAAG,cAAc,CACrC,CAAC,EACN,CAAC,EACF,CAAC,cACP7B,IAAA,WAAQkE,SAAS,CAAC,mEAAmE,CAACmB,OAAO,CAAEA,CAAA,GAAMvE,iBAAiB,CAAC,KAAK,CAAE,CAAC6E,KAAK,CAAC,OAAO,CAAApB,QAAA,CAAC,MAAO,CAAQ,CAAC,EAC1J,CAAC,CACH,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}