{"ast":null,"code":"var _jsxFileName = \"/Users/davnishsingh/Documents/proposalai-main/proposalai/client/src/pages/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { toast } from 'react-hot-toast';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport { getOpenRouterChatCompletion } from '../services/api';\nimport { proposalsAPI } from '../services/api';\nimport DashboardCard from '../components/DashboardCard';\nimport ModernTable from '../components/ModernTable';\nimport { DocumentTextIcon, PaperAirplaneIcon, UsersIcon, PlusIcon } from '@heroicons/react/24/outline';\nimport '../ProposalMarkdown.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [proposalText, setProposalText] = useState('');\n  const [generating, setGenerating] = useState(false);\n  const [showContent, setShowContent] = useState(false);\n  const [generatedContent, setGeneratedContent] = useState({\n    executiveSummary: '',\n    approach: '',\n    budgetDetails: '',\n    timeline: '',\n    fullContent: ''\n  });\n  const [savingDraft, setSavingDraft] = useState(false);\n  const [sendingEmail, setSendingEmail] = useState(false);\n  const [downloadingPdf, setDownloadingPdf] = useState(false);\n  const [showEmailModal, setShowEmailModal] = useState(false);\n  const [email, setEmail] = useState('');\n  const [clientName, setClientName] = useState('');\n  const [proposalId, setProposalId] = useState(null);\n  const [selectedSuggestions, setSelectedSuggestions] = useState([]);\n  const [loadingSuggestions, setLoadingSuggestions] = useState(false);\n  const [uploadingPdf, setUploadingPdf] = useState(false);\n  const [uploadedPdfContent, setUploadedPdfContent] = useState('');\n  const [showNotificationPrompt, setShowNotificationPrompt] = useState(false);\n\n  // Mock data for dashboard stats\n  const dashboardStats = [{\n    title: 'Total Proposals',\n    value: '24',\n    change: {\n      value: 12,\n      isPositive: true\n    },\n    icon: /*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n      className: \"w-6 h-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this),\n    iconBg: 'primary'\n  }, {\n    title: 'Draft Proposals',\n    value: '8',\n    change: {\n      value: 3,\n      isPositive: true\n    },\n    icon: /*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n      className: \"w-6 h-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this),\n    iconBg: 'warning'\n  }, {\n    title: 'Sent Proposals',\n    value: '16',\n    change: {\n      value: 8,\n      isPositive: true\n    },\n    icon: /*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n      className: \"w-6 h-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this),\n    iconBg: 'success'\n  }, {\n    title: 'Active Clients',\n    value: '12',\n    change: {\n      value: 2,\n      isPositive: true\n    },\n    icon: /*#__PURE__*/_jsxDEV(UsersIcon, {\n      className: \"w-6 h-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this),\n    iconBg: 'info'\n  }];\n\n  // Mock data for recent proposals\n  const recentProposals = [{\n    id: '1',\n    title: 'Web Development Proposal',\n    client: 'TechCorp Inc.',\n    status: 'Draft',\n    date: '2024-01-15',\n    value: '$15,000'\n  }, {\n    id: '2',\n    title: 'Marketing Strategy Proposal',\n    client: 'StartupXYZ',\n    status: 'Sent',\n    date: '2024-01-14',\n    value: '$8,500'\n  }, {\n    id: '3',\n    title: 'Consulting Services Proposal',\n    client: 'Enterprise Solutions',\n    status: 'Approved',\n    date: '2024-01-13',\n    value: '$25,000'\n  }];\n  const proposalColumns = [{\n    key: 'title',\n    label: 'Proposal Title'\n  }, {\n    key: 'client',\n    label: 'Client'\n  }, {\n    key: 'status',\n    label: 'Status',\n    render: value => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `badge-${value.toLowerCase() === 'approved' ? 'success' : value.toLowerCase() === 'sent' ? 'primary' : 'warning'}`,\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this)\n  }, {\n    key: 'date',\n    label: 'Date'\n  }, {\n    key: 'value',\n    label: 'Value'\n  }];\n\n  // Show notification prompt after a delay\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowNotificationPrompt(true);\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, []);\n  const handleGenerateWithAI = async () => {\n    if (!proposalText.trim() && !uploadedPdfContent.trim()) {\n      toast.error('Please enter a proposal description or upload a PDF before generating content');\n      return;\n    }\n    try {\n      var _response$choices$, _response$choices$$me;\n      setGenerating(true);\n      const combinedContent = uploadedPdfContent.trim() ? `${proposalText.trim() ? proposalText.trim() + '\\n\\n' : ''}PDF Content:\\n${uploadedPdfContent.trim()}` : proposalText.trim();\n      const messages = [{\n        role: 'system',\n        content: 'You are an expert proposal writer. Generate a professional proposal with these sections: Executive Summary, Approach, Budget Details, Timeline. Use clear, persuasive language.'\n      }, {\n        role: 'user',\n        content: `Content: ${combinedContent}\\n\\nGenerate a professional proposal with: 1. Executive Summary 2. Approach 3. Budget Details 4. Timeline`\n      }];\n      const response = await getOpenRouterChatCompletion(messages);\n      const aiContent = ((_response$choices$ = response.choices[0]) === null || _response$choices$ === void 0 ? void 0 : (_response$choices$$me = _response$choices$.message) === null || _response$choices$$me === void 0 ? void 0 : _response$choices$$me.content) || '';\n      setGeneratedContent({\n        executiveSummary: '',\n        approach: '',\n        budgetDetails: '',\n        timeline: '',\n        fullContent: aiContent\n      });\n      setTimeout(() => {\n        setShowContent(true);\n      }, 500);\n      toast.success('Proposal generated successfully!');\n    } catch (error) {\n      console.error('Error generating proposal:', error);\n      toast.error('Failed to generate proposal content. Please try again.');\n    } finally {\n      setGenerating(false);\n    }\n  };\n  const handleSaveDraft = async () => {\n    setSavingDraft(true);\n    try {\n      const payload = {\n        title: proposalText.slice(0, 60) || 'Untitled Proposal',\n        description: proposalText,\n        clientName: 'Client',\n        type: 'PROPOSAL',\n        status: 'DRAFT',\n        content: generatedContent.fullContent\n      };\n      let response;\n      if (proposalId) {\n        response = await proposalsAPI.update(proposalId, payload);\n      } else {\n        response = await proposalsAPI.create(payload);\n        setProposalId(response.data.data.id);\n      }\n      toast.success('Proposal saved as draft!');\n    } catch (error) {\n      toast.error('Failed to save draft.');\n    } finally {\n      setSavingDraft(false);\n    }\n  };\n  const handlePdfUpload = async event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (!file) return;\n    if (file.type !== 'application/pdf') {\n      toast.error('Please upload a PDF file');\n      return;\n    }\n    setUploadingPdf(true);\n    try {\n      const formData = new FormData();\n      formData.append('pdf', file);\n      const response = await fetch('/api/proposals/extract-pdf', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to extract PDF content');\n      }\n      const data = await response.json();\n      const extractedText = data.content || data.text || '';\n      if (extractedText.trim()) {\n        setUploadedPdfContent(extractedText);\n        toast.success('PDF uploaded successfully!');\n      } else {\n        toast.error('No readable text found in the PDF');\n      }\n    } catch (error) {\n      console.error('PDF extraction error:', error);\n      toast.error('Failed to extract PDF content. Please try again.');\n    } finally {\n      setUploadingPdf(false);\n      event.target.value = '';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-slate-900\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-600 mt-1\",\n          children: \"Welcome back! Here's what's happening with your proposals.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary\",\n        children: [/*#__PURE__*/_jsxDEV(PlusIcon, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), \"New Proposal\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n      children: dashboardStats.map((stat, index) => /*#__PURE__*/_jsxDEV(DashboardCard, {\n        title: stat.title,\n        value: stat.value,\n        change: stat.change,\n        icon: stat.icon,\n        iconBg: stat.iconBg\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 xl:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-slate-900\",\n              children: \"Quick Proposal Generator\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-slate-600\",\n              children: \"Generate a professional proposal in seconds\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [uploadedPdfContent && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 text-sm text-emerald-600 bg-emerald-50 px-3 py-2 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this), \"PDF uploaded successfully\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"input h-32\",\n                  placeholder: \"Describe your project or client requirements...\",\n                  value: proposalText,\n                  onChange: e => setProposalText(e.target.value),\n                  disabled: generating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute bottom-3 right-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    accept: \".pdf\",\n                    onChange: handlePdfUpload,\n                    className: \"hidden\",\n                    id: \"pdf-upload\",\n                    disabled: uploadingPdf\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"pdf-upload\",\n                    className: `inline-flex items-center justify-center w-8 h-8 rounded-full transition cursor-pointer ${uploadingPdf ? 'bg-slate-100 opacity-50 cursor-not-allowed' : uploadedPdfContent ? 'bg-emerald-100 hover:bg-emerald-200' : 'bg-slate-100 hover:bg-slate-200'}`,\n                    title: uploadedPdfContent ? \"PDF uploaded - Click to replace\" : \"Upload PDF\",\n                    children: uploadingPdf ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-4 h-4 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 25\n                    }, this) : uploadedPdfContent ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"w-4 h-4 text-emerald-600\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      viewBox: \"0 0 24 24\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 337,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"w-4 h-4 text-slate-600\",\n                      fill: \"none\",\n                      stroke: \"currentColor\",\n                      viewBox: \"0 0 24 24\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 341,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-primary flex-1\",\n                  onClick: handleGenerateWithAI,\n                  disabled: generating || !proposalText.trim() && !uploadedPdfContent.trim(),\n                  children: generating ? 'Generating...' : 'Generate Proposal'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-secondary\",\n                  onClick: () => {\n                    setProposalText('');\n                    setUploadedPdfContent('');\n                    setSelectedSuggestions([]);\n                  },\n                  disabled: generating,\n                  children: \"Clear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-slate-900\",\n              children: \"Recent Activity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3 p-3 bg-slate-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n                    className: \"w-4 h-4 text-emerald-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-slate-900\",\n                    children: \"New proposal created\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-slate-500\",\n                    children: \"Web Development Proposal for TechCorp\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-slate-400\",\n                  children: \"2h ago\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3 p-3 bg-slate-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n                    className: \"w-4 h-4 text-blue-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-slate-900\",\n                    children: \"Proposal sent\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-slate-500\",\n                    children: \"Marketing Strategy to StartupXYZ\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-slate-400\",\n                  children: \"1d ago\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3 p-3 bg-slate-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(UsersIcon, {\n                    className: \"w-4 h-4 text-emerald-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-slate-900\",\n                    children: \"New client added\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-slate-500\",\n                    children: \"Enterprise Solutions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-slate-400\",\n                  children: \"2d ago\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-slate-900\",\n              children: \"Recent Proposals\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/sent-proposals\",\n              className: \"text-sm text-indigo-600 hover:text-indigo-700 font-medium\",\n              children: \"View All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body p-0\",\n            children: /*#__PURE__*/_jsxDEV(ModernTable, {\n              columns: proposalColumns,\n              data: recentProposals,\n              onRowClick: row => console.log('Clicked proposal:', row),\n              emptyMessage: \"No proposals yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), showContent && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-slate-900\",\n              children: \"Generated Proposal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-emerald-600 font-medium\",\n                children: \"Ready\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-slate-50 rounded-lg p-4 max-h-64 overflow-y-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prose prose-slate max-w-none text-sm\",\n                children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                  remarkPlugins: [remarkGfm],\n                  children: generatedContent.fullContent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSaveDraft,\n                disabled: savingDraft,\n                className: \"btn-success flex-1\",\n                children: savingDraft ? 'Saving...' : 'Save Draft'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowEmailModal(true),\n                className: \"btn-primary\",\n                children: \"Send Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this), showEmailModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold mb-4\",\n            children: \"Send Proposal via Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-slate-700 mb-1\",\n                children: [\"Client Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-500\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input\",\n                placeholder: \"Enter client's full name\",\n                value: clientName,\n                onChange: e => setClientName(e.target.value),\n                disabled: sendingEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-slate-700 mb-1\",\n                children: [\"Email Address \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-500\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                className: \"input\",\n                placeholder: \"Recipient's email address\",\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                disabled: sendingEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 justify-end mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowEmailModal(false);\n                setEmail('');\n                setClientName('');\n              },\n              className: \"btn-secondary\",\n              disabled: sendingEmail,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: async () => {\n                if (!email || !clientName) {\n                  toast.error('Please fill in all required fields');\n                  return;\n                }\n                if (!proposalId) {\n                  toast.error('Please save the proposal as draft first');\n                  return;\n                }\n                setSendingEmail(true);\n                try {\n                  await proposalsAPI.sendEmail(proposalId, {\n                    recipientEmail: email,\n                    clientName: clientName\n                  });\n                  toast.success('Proposal sent via email!');\n                  setShowEmailModal(false);\n                  setEmail('');\n                  setClientName('');\n                } catch (error) {\n                  toast.error('Failed to send email');\n                } finally {\n                  setSendingEmail(false);\n                }\n              },\n              className: \"btn-primary\",\n              disabled: sendingEmail || !email.trim() || !clientName.trim(),\n              children: sendingEmail ? 'Sending...' : 'Send'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 9\n    }, this), generating && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-8 max-w-md mx-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 animate-ping\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-full opacity-20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 animate-ping\",\n            style: {\n              animationDelay: '0.5s'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full opacity-20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mx-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-white rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-slate-900 mb-2\",\n          children: \"Generating Your Proposal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-600\",\n          children: \"Our AI is crafting a professional proposal tailored to your requirements. This may take a few moments...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"CiYOiTHvGFhcF/DyF8yN6Mzkdjo=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","toast","ReactMarkdown","remarkGfm","getOpenRouterChatCompletion","proposalsAPI","DashboardCard","ModernTable","DocumentTextIcon","PaperAirplaneIcon","UsersIcon","PlusIcon","jsxDEV","_jsxDEV","Dashboard","_s","proposalText","setProposalText","generating","setGenerating","showContent","setShowContent","generatedContent","setGeneratedContent","executiveSummary","approach","budgetDetails","timeline","fullContent","savingDraft","setSavingDraft","sendingEmail","setSendingEmail","downloadingPdf","setDownloadingPdf","showEmailModal","setShowEmailModal","email","setEmail","clientName","setClientName","proposalId","setProposalId","selectedSuggestions","setSelectedSuggestions","loadingSuggestions","setLoadingSuggestions","uploadingPdf","setUploadingPdf","uploadedPdfContent","setUploadedPdfContent","showNotificationPrompt","setShowNotificationPrompt","dashboardStats","title","value","change","isPositive","icon","className","fileName","_jsxFileName","lineNumber","columnNumber","iconBg","recentProposals","id","client","status","date","proposalColumns","key","label","render","toLowerCase","children","timer","setTimeout","clearTimeout","handleGenerateWithAI","trim","error","_response$choices$","_response$choices$$me","combinedContent","messages","role","content","response","aiContent","choices","message","success","console","handleSaveDraft","payload","slice","description","type","update","create","data","handlePdfUpload","event","_event$target$files","file","target","files","formData","FormData","append","fetch","method","body","headers","localStorage","getItem","ok","Error","json","extractedText","text","map","stat","index","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","placeholder","onChange","e","disabled","accept","htmlFor","onClick","href","columns","onRowClick","row","log","emptyMessage","remarkPlugins","sendEmail","recipientEmail","style","animationDelay","_c","$RefreshReg$"],"sources":["/Users/davnishsingh/Documents/proposalai-main/proposalai/client/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { toast } from 'react-hot-toast';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport { getOpenRouterChatCompletion } from '../services/api';\nimport { proposalsAPI } from '../services/api';\nimport DashboardCard from '../components/DashboardCard';\nimport ModernTable from '../components/ModernTable';\nimport { \n  HomeIcon, \n  DocumentTextIcon, \n  PaperAirplaneIcon, \n  UsersIcon,\n  ChartBarIcon,\n  Cog6ToothIcon,\n  PlusIcon,\n  MagnifyingGlassIcon,\n  BellIcon,\n  UserCircleIcon,\n  ArrowUpIcon,\n  ArrowDownIcon,\n} from '@heroicons/react/24/outline';\nimport '../ProposalMarkdown.css';\n\nconst Dashboard: React.FC = () => {\n  const [proposalText, setProposalText] = useState('');\n  const [generating, setGenerating] = useState(false);\n  const [showContent, setShowContent] = useState(false);\n  const [generatedContent, setGeneratedContent] = useState({\n    executiveSummary: '',\n    approach: '',\n    budgetDetails: '',\n    timeline: '',\n    fullContent: ''\n  });\n  const [savingDraft, setSavingDraft] = useState(false);\n  const [sendingEmail, setSendingEmail] = useState(false);\n  const [downloadingPdf, setDownloadingPdf] = useState(false);\n  const [showEmailModal, setShowEmailModal] = useState(false);\n  const [email, setEmail] = useState('');\n  const [clientName, setClientName] = useState('');\n  const [proposalId, setProposalId] = useState<string | null>(null);\n  const [selectedSuggestions, setSelectedSuggestions] = useState<string[]>([]);\n  const [loadingSuggestions, setLoadingSuggestions] = useState(false);\n  const [uploadingPdf, setUploadingPdf] = useState(false);\n  const [uploadedPdfContent, setUploadedPdfContent] = useState<string>('');\n  const [showNotificationPrompt, setShowNotificationPrompt] = useState(false);\n\n  // Mock data for dashboard stats\n  const dashboardStats = [\n    {\n      title: 'Total Proposals',\n      value: '24',\n      change: { value: 12, isPositive: true },\n      icon: <DocumentTextIcon className=\"w-6 h-6\" />,\n      iconBg: 'primary' as const,\n    },\n    {\n      title: 'Draft Proposals',\n      value: '8',\n      change: { value: 3, isPositive: true },\n      icon: <DocumentTextIcon className=\"w-6 h-6\" />,\n      iconBg: 'warning' as const,\n    },\n    {\n      title: 'Sent Proposals',\n      value: '16',\n      change: { value: 8, isPositive: true },\n      icon: <PaperAirplaneIcon className=\"w-6 h-6\" />,\n      iconBg: 'success' as const,\n    },\n    {\n      title: 'Active Clients',\n      value: '12',\n      change: { value: 2, isPositive: true },\n      icon: <UsersIcon className=\"w-6 h-6\" />,\n      iconBg: 'info' as const,\n    },\n  ];\n\n  // Mock data for recent proposals\n  const recentProposals = [\n    {\n      id: '1',\n      title: 'Web Development Proposal',\n      client: 'TechCorp Inc.',\n      status: 'Draft',\n      date: '2024-01-15',\n      value: '$15,000'\n    },\n    {\n      id: '2',\n      title: 'Marketing Strategy Proposal',\n      client: 'StartupXYZ',\n      status: 'Sent',\n      date: '2024-01-14',\n      value: '$8,500'\n    },\n    {\n      id: '3',\n      title: 'Consulting Services Proposal',\n      client: 'Enterprise Solutions',\n      status: 'Approved',\n      date: '2024-01-13',\n      value: '$25,000'\n    },\n  ];\n\n  const proposalColumns = [\n    { key: 'title', label: 'Proposal Title' },\n    { key: 'client', label: 'Client' },\n    { \n      key: 'status', \n      label: 'Status',\n      render: (value: string) => (\n        <span className={`badge-${value.toLowerCase() === 'approved' ? 'success' : value.toLowerCase() === 'sent' ? 'primary' : 'warning'}`}>\n          {value}\n        </span>\n      )\n    },\n    { key: 'date', label: 'Date' },\n    { key: 'value', label: 'Value' },\n  ];\n\n  // Show notification prompt after a delay\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowNotificationPrompt(true);\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  const handleGenerateWithAI = async () => {\n    if (!proposalText.trim() && !uploadedPdfContent.trim()) {\n      toast.error('Please enter a proposal description or upload a PDF before generating content');\n      return;\n    }\n    \n    try {\n      setGenerating(true);\n      \n      const combinedContent = uploadedPdfContent.trim() \n        ? `${proposalText.trim() ? proposalText.trim() + '\\n\\n' : ''}PDF Content:\\n${uploadedPdfContent.trim()}`\n        : proposalText.trim();\n      \n      const messages = [\n        {\n          role: 'system',\n          content: 'You are an expert proposal writer. Generate a professional proposal with these sections: Executive Summary, Approach, Budget Details, Timeline. Use clear, persuasive language.',\n        },\n        {\n          role: 'user',\n          content: `Content: ${combinedContent}\\n\\nGenerate a professional proposal with: 1. Executive Summary 2. Approach 3. Budget Details 4. Timeline`,\n        },\n      ];\n      \n      const response = await getOpenRouterChatCompletion(messages);\n      const aiContent = response.choices[0]?.message?.content || '';\n      \n      setGeneratedContent({\n        executiveSummary: '',\n        approach: '',\n        budgetDetails: '',\n        timeline: '',\n        fullContent: aiContent\n      });\n      \n      setTimeout(() => {\n        setShowContent(true);\n      }, 500);\n      \n      toast.success('Proposal generated successfully!');\n    } catch (error) {\n      console.error('Error generating proposal:', error);\n      toast.error('Failed to generate proposal content. Please try again.');\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  const handleSaveDraft = async () => {\n    setSavingDraft(true);\n    try {\n      const payload = {\n        title: proposalText.slice(0, 60) || 'Untitled Proposal',\n        description: proposalText,\n        clientName: 'Client',\n        type: 'PROPOSAL',\n        status: 'DRAFT',\n        content: generatedContent.fullContent,\n      };\n      \n      let response;\n      if (proposalId) {\n        response = await proposalsAPI.update(proposalId, payload);\n      } else {\n        response = await proposalsAPI.create(payload);\n        setProposalId(response.data.data.id);\n      }\n      toast.success('Proposal saved as draft!');\n    } catch (error) {\n      toast.error('Failed to save draft.');\n    } finally {\n      setSavingDraft(false);\n    }\n  };\n\n  const handlePdfUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    if (file.type !== 'application/pdf') {\n      toast.error('Please upload a PDF file');\n      return;\n    }\n\n    setUploadingPdf(true);\n    try {\n      const formData = new FormData();\n      formData.append('pdf', file);\n\n      const response = await fetch('/api/proposals/extract-pdf', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to extract PDF content');\n      }\n\n      const data = await response.json();\n      const extractedText = data.content || data.text || '';\n      \n      if (extractedText.trim()) {\n        setUploadedPdfContent(extractedText);\n        toast.success('PDF uploaded successfully!');\n      } else {\n        toast.error('No readable text found in the PDF');\n      }\n    } catch (error) {\n      console.error('PDF extraction error:', error);\n      toast.error('Failed to extract PDF content. Please try again.');\n    } finally {\n      setUploadingPdf(false);\n      event.target.value = '';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-slate-900\">Dashboard</h1>\n          <p className=\"text-slate-600 mt-1\">Welcome back! Here's what's happening with your proposals.</p>\n        </div>\n        <button className=\"btn-primary\">\n          <PlusIcon className=\"w-4 h-4 mr-2\" />\n          New Proposal\n        </button>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {dashboardStats.map((stat, index) => (\n          <DashboardCard\n            key={index}\n            title={stat.title}\n            value={stat.value}\n            change={stat.change}\n            icon={stat.icon}\n            iconBg={stat.iconBg}\n          />\n        ))}\n      </div>\n\n      {/* Main Content Area */}\n      <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-6\">\n        {/* Left Column - Proposal Generator */}\n        <div className=\"space-y-6\">\n          {/* Quick Proposal Generator */}\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h3 className=\"text-lg font-semibold text-slate-900\">Quick Proposal Generator</h3>\n              <p className=\"text-sm text-slate-600\">Generate a professional proposal in seconds</p>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"space-y-4\">\n                {/* PDF Upload Status */}\n                {uploadedPdfContent && (\n                  <div className=\"flex items-center gap-2 text-sm text-emerald-600 bg-emerald-50 px-3 py-2 rounded-lg\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    PDF uploaded successfully\n                  </div>\n                )}\n                \n                {/* Text Input */}\n                <div className=\"relative\">\n                  <textarea\n                    className=\"input h-32\"\n                    placeholder=\"Describe your project or client requirements...\"\n                    value={proposalText}\n                    onChange={(e) => setProposalText(e.target.value)}\n                    disabled={generating}\n                  />\n                  \n                  {/* PDF Upload Button */}\n                  <div className=\"absolute bottom-3 right-3\">\n                    <input\n                      type=\"file\"\n                      accept=\".pdf\"\n                      onChange={handlePdfUpload}\n                      className=\"hidden\"\n                      id=\"pdf-upload\"\n                      disabled={uploadingPdf}\n                    />\n                    <label\n                      htmlFor=\"pdf-upload\"\n                      className={`inline-flex items-center justify-center w-8 h-8 rounded-full transition cursor-pointer ${\n                        uploadingPdf \n                          ? 'bg-slate-100 opacity-50 cursor-not-allowed' \n                          : uploadedPdfContent \n                          ? 'bg-emerald-100 hover:bg-emerald-200' \n                          : 'bg-slate-100 hover:bg-slate-200'\n                      }`}\n                      title={uploadedPdfContent ? \"PDF uploaded - Click to replace\" : \"Upload PDF\"}\n                    >\n                      {uploadingPdf ? (\n                        <div className=\"w-4 h-4 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin\"></div>\n                      ) : uploadedPdfContent ? (\n                        <svg className=\"w-4 h-4 text-emerald-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                        </svg>\n                      ) : (\n                        <svg className=\"w-4 h-4 text-slate-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                        </svg>\n                      )}\n                    </label>\n                  </div>\n                </div>\n                \n                {/* Action Buttons */}\n                <div className=\"flex gap-3\">\n                  <button\n                    className=\"btn-primary flex-1\"\n                    onClick={handleGenerateWithAI}\n                    disabled={generating || (!proposalText.trim() && !uploadedPdfContent.trim())}\n                  >\n                    {generating ? 'Generating...' : 'Generate Proposal'}\n                  </button>\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={() => {\n                      setProposalText('');\n                      setUploadedPdfContent('');\n                      setSelectedSuggestions([]);\n                    }}\n                    disabled={generating}\n                  >\n                    Clear\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Recent Activity */}\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h3 className=\"text-lg font-semibold text-slate-900\">Recent Activity</h3>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center gap-3 p-3 bg-slate-50 rounded-lg\">\n                  <div className=\"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center\">\n                    <DocumentTextIcon className=\"w-4 h-4 text-emerald-600\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-medium text-slate-900\">New proposal created</p>\n                    <p className=\"text-xs text-slate-500\">Web Development Proposal for TechCorp</p>\n                  </div>\n                  <span className=\"text-xs text-slate-400\">2h ago</span>\n                </div>\n                \n                <div className=\"flex items-center gap-3 p-3 bg-slate-50 rounded-lg\">\n                  <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                    <PaperAirplaneIcon className=\"w-4 h-4 text-blue-600\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-medium text-slate-900\">Proposal sent</p>\n                    <p className=\"text-xs text-slate-500\">Marketing Strategy to StartupXYZ</p>\n                  </div>\n                  <span className=\"text-xs text-slate-400\">1d ago</span>\n                </div>\n                \n                <div className=\"flex items-center gap-3 p-3 bg-slate-50 rounded-lg\">\n                  <div className=\"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center\">\n                    <UsersIcon className=\"w-4 h-4 text-emerald-600\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm font-medium text-slate-900\">New client added</p>\n                    <p className=\"text-xs text-slate-500\">Enterprise Solutions</p>\n                  </div>\n                  <span className=\"text-xs text-slate-400\">2d ago</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Right Column - Recent Proposals & Generated Content */}\n        <div className=\"space-y-6\">\n          {/* Recent Proposals */}\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h3 className=\"text-lg font-semibold text-slate-900\">Recent Proposals</h3>\n              <a href=\"/sent-proposals\" className=\"text-sm text-indigo-600 hover:text-indigo-700 font-medium\">\n                View All\n              </a>\n            </div>\n            <div className=\"card-body p-0\">\n              <ModernTable\n                columns={proposalColumns}\n                data={recentProposals}\n                onRowClick={(row) => console.log('Clicked proposal:', row)}\n                emptyMessage=\"No proposals yet\"\n              />\n            </div>\n          </div>\n\n          {/* Generated Content Display */}\n          {showContent && (\n            <div className=\"card\">\n              <div className=\"card-header\">\n                <h3 className=\"text-lg font-semibold text-slate-900\">Generated Proposal</h3>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"></div>\n                  <span className=\"text-sm text-emerald-600 font-medium\">Ready</span>\n                </div>\n              </div>\n              <div className=\"card-body\">\n                <div className=\"bg-slate-50 rounded-lg p-4 max-h-64 overflow-y-auto\">\n                  <div className=\"prose prose-slate max-w-none text-sm\">\n                    <ReactMarkdown remarkPlugins={[remarkGfm]}>\n                      {generatedContent.fullContent}\n                    </ReactMarkdown>\n                  </div>\n                </div>\n                \n                <div className=\"flex gap-3 mt-4\">\n                  <button\n                    onClick={handleSaveDraft}\n                    disabled={savingDraft}\n                    className=\"btn-success flex-1\"\n                  >\n                    {savingDraft ? 'Saving...' : 'Save Draft'}\n                  </button>\n                  <button\n                    onClick={() => setShowEmailModal(true)}\n                    className=\"btn-primary\"\n                  >\n                    Send Email\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Email Modal */}\n      {showEmailModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"p-6\">\n              <h2 className=\"text-lg font-semibold mb-4\">Send Proposal via Email</h2>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-1\">\n                    Client Name <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"input\"\n                    placeholder=\"Enter client's full name\"\n                    value={clientName}\n                    onChange={(e) => setClientName(e.target.value)}\n                    disabled={sendingEmail}\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-slate-700 mb-1\">\n                    Email Address <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"email\"\n                    className=\"input\"\n                    placeholder=\"Recipient's email address\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    disabled={sendingEmail}\n                  />\n                </div>\n              </div>\n              \n              <div className=\"flex gap-3 justify-end mt-6\">\n                <button\n                  onClick={() => {\n                    setShowEmailModal(false);\n                    setEmail('');\n                    setClientName('');\n                  }}\n                  className=\"btn-secondary\"\n                  disabled={sendingEmail}\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={async () => {\n                    if (!email || !clientName) {\n                      toast.error('Please fill in all required fields');\n                      return;\n                    }\n                    if (!proposalId) {\n                      toast.error('Please save the proposal as draft first');\n                      return;\n                    }\n                    setSendingEmail(true);\n                    try {\n                      await proposalsAPI.sendEmail(proposalId, { \n                        recipientEmail: email,\n                        clientName: clientName\n                      });\n                      toast.success('Proposal sent via email!');\n                      setShowEmailModal(false);\n                      setEmail('');\n                      setClientName('');\n                    } catch (error) {\n                      toast.error('Failed to send email');\n                    } finally {\n                      setSendingEmail(false);\n                    }\n                  }}\n                  className=\"btn-primary\"\n                  disabled={sendingEmail || !email.trim() || !clientName.trim()}\n                >\n                  {sendingEmail ? 'Sending...' : 'Send'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Loading Overlay */}\n      {generating && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-xl p-8 max-w-md mx-4 text-center\">\n            <div className=\"relative mb-6\">\n              <div className=\"absolute inset-0 animate-ping\">\n                <div className=\"w-16 h-16 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-full opacity-20\"></div>\n              </div>\n              <div className=\"absolute inset-0 animate-ping\" style={{ animationDelay: '0.5s' }}>\n                <div className=\"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full opacity-20\"></div>\n              </div>\n              <div className=\"w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mx-auto\">\n                <div className=\"w-8 h-8 bg-white rounded-full\"></div>\n              </div>\n            </div>\n            <h3 className=\"text-xl font-bold text-slate-900 mb-2\">Generating Your Proposal</h3>\n            <p className=\"text-slate-600\">\n              Our AI is crafting a professional proposal tailored to your requirements. This may take a few moments...\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAqB,OAAO;AAC/D,SAASC,KAAK,QAAQ,iBAAiB;AACvC,OAAOC,aAAa,MAAM,gBAAgB;AAC1C,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,2BAA2B,QAAQ,iBAAiB;AAC7D,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,OAAOC,aAAa,MAAM,6BAA6B;AACvD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,SAEEC,gBAAgB,EAChBC,iBAAiB,EACjBC,SAAS,EAGTC,QAAQ,QAMH,6BAA6B;AACpC,OAAO,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,SAAmB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACmB,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACqB,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACuB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGxB,QAAQ,CAAC;IACvDyB,gBAAgB,EAAE,EAAE;IACpBC,QAAQ,EAAE,EAAE;IACZC,aAAa,EAAE,EAAE;IACjBC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE;EACf,CAAC,CAAC;EACF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACgC,YAAY,EAAEC,eAAe,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACkC,cAAc,EAAEC,iBAAiB,CAAC,GAAGnC,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACoC,cAAc,EAAEC,iBAAiB,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACsC,KAAK,EAAEC,QAAQ,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwC,UAAU,EAAEC,aAAa,CAAC,GAAGzC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC0C,UAAU,EAAEC,aAAa,CAAC,GAAG3C,QAAQ,CAAgB,IAAI,CAAC;EACjE,MAAM,CAAC4C,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG7C,QAAQ,CAAW,EAAE,CAAC;EAC5E,MAAM,CAAC8C,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG/C,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACgD,YAAY,EAAEC,eAAe,CAAC,GAAGjD,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACkD,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGnD,QAAQ,CAAS,EAAE,CAAC;EACxE,MAAM,CAACoD,sBAAsB,EAAEC,yBAAyB,CAAC,GAAGrD,QAAQ,CAAC,KAAK,CAAC;;EAE3E;EACA,MAAMsD,cAAc,GAAG,CACrB;IACEC,KAAK,EAAE,iBAAiB;IACxBC,KAAK,EAAE,IAAI;IACXC,MAAM,EAAE;MAAED,KAAK,EAAE,EAAE;MAAEE,UAAU,EAAE;IAAK,CAAC;IACvCC,IAAI,eAAE7C,OAAA,CAACL,gBAAgB;MAACmD,SAAS,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;IAC9CC,MAAM,EAAE;EACV,CAAC,EACD;IACEV,KAAK,EAAE,iBAAiB;IACxBC,KAAK,EAAE,GAAG;IACVC,MAAM,EAAE;MAAED,KAAK,EAAE,CAAC;MAAEE,UAAU,EAAE;IAAK,CAAC;IACtCC,IAAI,eAAE7C,OAAA,CAACL,gBAAgB;MAACmD,SAAS,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;IAC9CC,MAAM,EAAE;EACV,CAAC,EACD;IACEV,KAAK,EAAE,gBAAgB;IACvBC,KAAK,EAAE,IAAI;IACXC,MAAM,EAAE;MAAED,KAAK,EAAE,CAAC;MAAEE,UAAU,EAAE;IAAK,CAAC;IACtCC,IAAI,eAAE7C,OAAA,CAACJ,iBAAiB;MAACkD,SAAS,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;IAC/CC,MAAM,EAAE;EACV,CAAC,EACD;IACEV,KAAK,EAAE,gBAAgB;IACvBC,KAAK,EAAE,IAAI;IACXC,MAAM,EAAE;MAAED,KAAK,EAAE,CAAC;MAAEE,UAAU,EAAE;IAAK,CAAC;IACtCC,IAAI,eAAE7C,OAAA,CAACH,SAAS;MAACiD,SAAS,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;IACvCC,MAAM,EAAE;EACV,CAAC,CACF;;EAED;EACA,MAAMC,eAAe,GAAG,CACtB;IACEC,EAAE,EAAE,GAAG;IACPZ,KAAK,EAAE,0BAA0B;IACjCa,MAAM,EAAE,eAAe;IACvBC,MAAM,EAAE,OAAO;IACfC,IAAI,EAAE,YAAY;IAClBd,KAAK,EAAE;EACT,CAAC,EACD;IACEW,EAAE,EAAE,GAAG;IACPZ,KAAK,EAAE,6BAA6B;IACpCa,MAAM,EAAE,YAAY;IACpBC,MAAM,EAAE,MAAM;IACdC,IAAI,EAAE,YAAY;IAClBd,KAAK,EAAE;EACT,CAAC,EACD;IACEW,EAAE,EAAE,GAAG;IACPZ,KAAK,EAAE,8BAA8B;IACrCa,MAAM,EAAE,sBAAsB;IAC9BC,MAAM,EAAE,UAAU;IAClBC,IAAI,EAAE,YAAY;IAClBd,KAAK,EAAE;EACT,CAAC,CACF;EAED,MAAMe,eAAe,GAAG,CACtB;IAAEC,GAAG,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAiB,CAAC,EACzC;IAAED,GAAG,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAS,CAAC,EAClC;IACED,GAAG,EAAE,QAAQ;IACbC,KAAK,EAAE,QAAQ;IACfC,MAAM,EAAGlB,KAAa,iBACpB1C,OAAA;MAAM8C,SAAS,EAAE,SAASJ,KAAK,CAACmB,WAAW,CAAC,CAAC,KAAK,UAAU,GAAG,SAAS,GAAGnB,KAAK,CAACmB,WAAW,CAAC,CAAC,KAAK,MAAM,GAAG,SAAS,GAAG,SAAS,EAAG;MAAAC,QAAA,EACjIpB;IAAK;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF;EAEV,CAAC,EACD;IAAEQ,GAAG,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAO,CAAC,EAC9B;IAAED,GAAG,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAQ,CAAC,CACjC;;EAED;EACAxE,SAAS,CAAC,MAAM;IACd,MAAM4E,KAAK,GAAGC,UAAU,CAAC,MAAM;MAC7BzB,yBAAyB,CAAC,IAAI,CAAC;IACjC,CAAC,EAAE,IAAI,CAAC;IACR,OAAO,MAAM0B,YAAY,CAACF,KAAK,CAAC;EAClC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI,CAAC/D,YAAY,CAACgE,IAAI,CAAC,CAAC,IAAI,CAAC/B,kBAAkB,CAAC+B,IAAI,CAAC,CAAC,EAAE;MACtD/E,KAAK,CAACgF,KAAK,CAAC,+EAA+E,CAAC;MAC5F;IACF;IAEA,IAAI;MAAA,IAAAC,kBAAA,EAAAC,qBAAA;MACFhE,aAAa,CAAC,IAAI,CAAC;MAEnB,MAAMiE,eAAe,GAAGnC,kBAAkB,CAAC+B,IAAI,CAAC,CAAC,GAC7C,GAAGhE,YAAY,CAACgE,IAAI,CAAC,CAAC,GAAGhE,YAAY,CAACgE,IAAI,CAAC,CAAC,GAAG,MAAM,GAAG,EAAE,iBAAiB/B,kBAAkB,CAAC+B,IAAI,CAAC,CAAC,EAAE,GACtGhE,YAAY,CAACgE,IAAI,CAAC,CAAC;MAEvB,MAAMK,QAAQ,GAAG,CACf;QACEC,IAAI,EAAE,QAAQ;QACdC,OAAO,EAAE;MACX,CAAC,EACD;QACED,IAAI,EAAE,MAAM;QACZC,OAAO,EAAE,YAAYH,eAAe;MACtC,CAAC,CACF;MAED,MAAMI,QAAQ,GAAG,MAAMpF,2BAA2B,CAACiF,QAAQ,CAAC;MAC5D,MAAMI,SAAS,GAAG,EAAAP,kBAAA,GAAAM,QAAQ,CAACE,OAAO,CAAC,CAAC,CAAC,cAAAR,kBAAA,wBAAAC,qBAAA,GAAnBD,kBAAA,CAAqBS,OAAO,cAAAR,qBAAA,uBAA5BA,qBAAA,CAA8BI,OAAO,KAAI,EAAE;MAE7DhE,mBAAmB,CAAC;QAClBC,gBAAgB,EAAE,EAAE;QACpBC,QAAQ,EAAE,EAAE;QACZC,aAAa,EAAE,EAAE;QACjBC,QAAQ,EAAE,EAAE;QACZC,WAAW,EAAE6D;MACf,CAAC,CAAC;MAEFZ,UAAU,CAAC,MAAM;QACfxD,cAAc,CAAC,IAAI,CAAC;MACtB,CAAC,EAAE,GAAG,CAAC;MAEPpB,KAAK,CAAC2F,OAAO,CAAC,kCAAkC,CAAC;IACnD,CAAC,CAAC,OAAOX,KAAK,EAAE;MACdY,OAAO,CAACZ,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDhF,KAAK,CAACgF,KAAK,CAAC,wDAAwD,CAAC;IACvE,CAAC,SAAS;MACR9D,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,MAAM2E,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClChE,cAAc,CAAC,IAAI,CAAC;IACpB,IAAI;MACF,MAAMiE,OAAO,GAAG;QACdzC,KAAK,EAAEtC,YAAY,CAACgF,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,mBAAmB;QACvDC,WAAW,EAAEjF,YAAY;QACzBuB,UAAU,EAAE,QAAQ;QACpB2D,IAAI,EAAE,UAAU;QAChB9B,MAAM,EAAE,OAAO;QACfmB,OAAO,EAAEjE,gBAAgB,CAACM;MAC5B,CAAC;MAED,IAAI4D,QAAQ;MACZ,IAAI/C,UAAU,EAAE;QACd+C,QAAQ,GAAG,MAAMnF,YAAY,CAAC8F,MAAM,CAAC1D,UAAU,EAAEsD,OAAO,CAAC;MAC3D,CAAC,MAAM;QACLP,QAAQ,GAAG,MAAMnF,YAAY,CAAC+F,MAAM,CAACL,OAAO,CAAC;QAC7CrD,aAAa,CAAC8C,QAAQ,CAACa,IAAI,CAACA,IAAI,CAACnC,EAAE,CAAC;MACtC;MACAjE,KAAK,CAAC2F,OAAO,CAAC,0BAA0B,CAAC;IAC3C,CAAC,CAAC,OAAOX,KAAK,EAAE;MACdhF,KAAK,CAACgF,KAAK,CAAC,uBAAuB,CAAC;IACtC,CAAC,SAAS;MACRnD,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,MAAMwE,eAAe,GAAG,MAAOC,KAA0C,IAAK;IAAA,IAAAC,mBAAA;IAC5E,MAAMC,IAAI,IAAAD,mBAAA,GAAGD,KAAK,CAACG,MAAM,CAACC,KAAK,cAAAH,mBAAA,uBAAlBA,mBAAA,CAAqB,CAAC,CAAC;IACpC,IAAI,CAACC,IAAI,EAAE;IAEX,IAAIA,IAAI,CAACP,IAAI,KAAK,iBAAiB,EAAE;MACnCjG,KAAK,CAACgF,KAAK,CAAC,0BAA0B,CAAC;MACvC;IACF;IAEAjC,eAAe,CAAC,IAAI,CAAC;IACrB,IAAI;MACF,MAAM4D,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,KAAK,EAAEL,IAAI,CAAC;MAE5B,MAAMjB,QAAQ,GAAG,MAAMuB,KAAK,CAAC,4BAA4B,EAAE;QACzDC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEL,QAAQ;QACdM,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MAEF,IAAI,CAAC5B,QAAQ,CAAC6B,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;MAClD;MAEA,MAAMjB,IAAI,GAAG,MAAMb,QAAQ,CAAC+B,IAAI,CAAC,CAAC;MAClC,MAAMC,aAAa,GAAGnB,IAAI,CAACd,OAAO,IAAIc,IAAI,CAACoB,IAAI,IAAI,EAAE;MAErD,IAAID,aAAa,CAACxC,IAAI,CAAC,CAAC,EAAE;QACxB9B,qBAAqB,CAACsE,aAAa,CAAC;QACpCvH,KAAK,CAAC2F,OAAO,CAAC,4BAA4B,CAAC;MAC7C,CAAC,MAAM;QACL3F,KAAK,CAACgF,KAAK,CAAC,mCAAmC,CAAC;MAClD;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdY,OAAO,CAACZ,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7ChF,KAAK,CAACgF,KAAK,CAAC,kDAAkD,CAAC;IACjE,CAAC,SAAS;MACRjC,eAAe,CAAC,KAAK,CAAC;MACtBuD,KAAK,CAACG,MAAM,CAACnD,KAAK,GAAG,EAAE;IACzB;EACF,CAAC;EAED,oBACE1C,OAAA;IAAK8C,SAAS,EAAC,WAAW;IAAAgB,QAAA,gBAExB9D,OAAA;MAAK8C,SAAS,EAAC,mCAAmC;MAAAgB,QAAA,gBAChD9D,OAAA;QAAA8D,QAAA,gBACE9D,OAAA;UAAI8C,SAAS,EAAC,mCAAmC;UAAAgB,QAAA,EAAC;QAAS;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChElD,OAAA;UAAG8C,SAAS,EAAC,qBAAqB;UAAAgB,QAAA,EAAC;QAA0D;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9F,CAAC,eACNlD,OAAA;QAAQ8C,SAAS,EAAC,aAAa;QAAAgB,QAAA,gBAC7B9D,OAAA,CAACF,QAAQ;UAACgD,SAAS,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAEvC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGNlD,OAAA;MAAK8C,SAAS,EAAC,sDAAsD;MAAAgB,QAAA,EAClEtB,cAAc,CAACqE,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBAC9B/G,OAAA,CAACP,aAAa;QAEZgD,KAAK,EAAEqE,IAAI,CAACrE,KAAM;QAClBC,KAAK,EAAEoE,IAAI,CAACpE,KAAM;QAClBC,MAAM,EAAEmE,IAAI,CAACnE,MAAO;QACpBE,IAAI,EAAEiE,IAAI,CAACjE,IAAK;QAChBM,MAAM,EAAE2D,IAAI,CAAC3D;MAAO,GALf4D,KAAK;QAAAhE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAMX,CACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGNlD,OAAA;MAAK8C,SAAS,EAAC,uCAAuC;MAAAgB,QAAA,gBAEpD9D,OAAA;QAAK8C,SAAS,EAAC,WAAW;QAAAgB,QAAA,gBAExB9D,OAAA;UAAK8C,SAAS,EAAC,MAAM;UAAAgB,QAAA,gBACnB9D,OAAA;YAAK8C,SAAS,EAAC,aAAa;YAAAgB,QAAA,gBAC1B9D,OAAA;cAAI8C,SAAS,EAAC,sCAAsC;cAAAgB,QAAA,EAAC;YAAwB;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClFlD,OAAA;cAAG8C,SAAS,EAAC,wBAAwB;cAAAgB,QAAA,EAAC;YAA2C;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClF,CAAC,eACNlD,OAAA;YAAK8C,SAAS,EAAC,WAAW;YAAAgB,QAAA,eACxB9D,OAAA;cAAK8C,SAAS,EAAC,WAAW;cAAAgB,QAAA,GAEvB1B,kBAAkB,iBACjBpC,OAAA;gBAAK8C,SAAS,EAAC,qFAAqF;gBAAAgB,QAAA,gBAClG9D,OAAA;kBAAK8C,SAAS,EAAC,SAAS;kBAACkE,IAAI,EAAC,MAAM;kBAACC,MAAM,EAAC,cAAc;kBAACC,OAAO,EAAC,WAAW;kBAAApD,QAAA,eAC5E9D,OAAA;oBAAMmH,aAAa,EAAC,OAAO;oBAACC,cAAc,EAAC,OAAO;oBAACC,WAAW,EAAE,CAAE;oBAACC,CAAC,EAAC;kBAA+C;oBAAAvE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACpH,CAAC,6BAER;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CACN,eAGDlD,OAAA;gBAAK8C,SAAS,EAAC,UAAU;gBAAAgB,QAAA,gBACvB9D,OAAA;kBACE8C,SAAS,EAAC,YAAY;kBACtByE,WAAW,EAAC,iDAAiD;kBAC7D7E,KAAK,EAAEvC,YAAa;kBACpBqH,QAAQ,EAAGC,CAAC,IAAKrH,eAAe,CAACqH,CAAC,CAAC5B,MAAM,CAACnD,KAAK,CAAE;kBACjDgF,QAAQ,EAAErH;gBAAW;kBAAA0C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtB,CAAC,eAGFlD,OAAA;kBAAK8C,SAAS,EAAC,2BAA2B;kBAAAgB,QAAA,gBACxC9D,OAAA;oBACEqF,IAAI,EAAC,MAAM;oBACXsC,MAAM,EAAC,MAAM;oBACbH,QAAQ,EAAE/B,eAAgB;oBAC1B3C,SAAS,EAAC,QAAQ;oBAClBO,EAAE,EAAC,YAAY;oBACfqE,QAAQ,EAAExF;kBAAa;oBAAAa,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACxB,CAAC,eACFlD,OAAA;oBACE4H,OAAO,EAAC,YAAY;oBACpB9E,SAAS,EAAE,0FACTZ,YAAY,GACR,4CAA4C,GAC5CE,kBAAkB,GAClB,qCAAqC,GACrC,iCAAiC,EACpC;oBACHK,KAAK,EAAEL,kBAAkB,GAAG,iCAAiC,GAAG,YAAa;oBAAA0B,QAAA,EAE5E5B,YAAY,gBACXlC,OAAA;sBAAK8C,SAAS,EAAC;oBAAmF;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,GACvGd,kBAAkB,gBACpBpC,OAAA;sBAAK8C,SAAS,EAAC,0BAA0B;sBAACkE,IAAI,EAAC,MAAM;sBAACC,MAAM,EAAC,cAAc;sBAACC,OAAO,EAAC,WAAW;sBAAApD,QAAA,eAC7F9D,OAAA;wBAAMmH,aAAa,EAAC,OAAO;wBAACC,cAAc,EAAC,OAAO;wBAACC,WAAW,EAAE,CAAE;wBAACC,CAAC,EAAC;sBAA+C;wBAAAvE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACpH,CAAC,gBAENlD,OAAA;sBAAK8C,SAAS,EAAC,wBAAwB;sBAACkE,IAAI,EAAC,MAAM;sBAACC,MAAM,EAAC,cAAc;sBAACC,OAAO,EAAC,WAAW;sBAAApD,QAAA,eAC3F9D,OAAA;wBAAMmH,aAAa,EAAC,OAAO;wBAACC,cAAc,EAAC,OAAO;wBAACC,WAAW,EAAE,CAAE;wBAACC,CAAC,EAAC;sBAAuF;wBAAAvE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC5J;kBACN;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAGNlD,OAAA;gBAAK8C,SAAS,EAAC,YAAY;gBAAAgB,QAAA,gBACzB9D,OAAA;kBACE8C,SAAS,EAAC,oBAAoB;kBAC9B+E,OAAO,EAAE3D,oBAAqB;kBAC9BwD,QAAQ,EAAErH,UAAU,IAAK,CAACF,YAAY,CAACgE,IAAI,CAAC,CAAC,IAAI,CAAC/B,kBAAkB,CAAC+B,IAAI,CAAC,CAAG;kBAAAL,QAAA,EAE5EzD,UAAU,GAAG,eAAe,GAAG;gBAAmB;kBAAA0C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7C,CAAC,eACTlD,OAAA;kBACE8C,SAAS,EAAC,eAAe;kBACzB+E,OAAO,EAAEA,CAAA,KAAM;oBACbzH,eAAe,CAAC,EAAE,CAAC;oBACnBiC,qBAAqB,CAAC,EAAE,CAAC;oBACzBN,sBAAsB,CAAC,EAAE,CAAC;kBAC5B,CAAE;kBACF2F,QAAQ,EAAErH,UAAW;kBAAAyD,QAAA,EACtB;gBAED;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNlD,OAAA;UAAK8C,SAAS,EAAC,MAAM;UAAAgB,QAAA,gBACnB9D,OAAA;YAAK8C,SAAS,EAAC,aAAa;YAAAgB,QAAA,eAC1B9D,OAAA;cAAI8C,SAAS,EAAC,sCAAsC;cAAAgB,QAAA,EAAC;YAAe;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtE,CAAC,eACNlD,OAAA;YAAK8C,SAAS,EAAC,WAAW;YAAAgB,QAAA,eACxB9D,OAAA;cAAK8C,SAAS,EAAC,WAAW;cAAAgB,QAAA,gBACxB9D,OAAA;gBAAK8C,SAAS,EAAC,oDAAoD;gBAAAgB,QAAA,gBACjE9D,OAAA;kBAAK8C,SAAS,EAAC,sEAAsE;kBAAAgB,QAAA,eACnF9D,OAAA,CAACL,gBAAgB;oBAACmD,SAAS,EAAC;kBAA0B;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtD,CAAC,eACNlD,OAAA;kBAAK8C,SAAS,EAAC,QAAQ;kBAAAgB,QAAA,gBACrB9D,OAAA;oBAAG8C,SAAS,EAAC,oCAAoC;oBAAAgB,QAAA,EAAC;kBAAoB;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,eAC1ElD,OAAA;oBAAG8C,SAAS,EAAC,wBAAwB;oBAAAgB,QAAA,EAAC;kBAAqC;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5E,CAAC,eACNlD,OAAA;kBAAM8C,SAAS,EAAC,wBAAwB;kBAAAgB,QAAA,EAAC;gBAAM;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CAAC,eAENlD,OAAA;gBAAK8C,SAAS,EAAC,oDAAoD;gBAAAgB,QAAA,gBACjE9D,OAAA;kBAAK8C,SAAS,EAAC,mEAAmE;kBAAAgB,QAAA,eAChF9D,OAAA,CAACJ,iBAAiB;oBAACkD,SAAS,EAAC;kBAAuB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACpD,CAAC,eACNlD,OAAA;kBAAK8C,SAAS,EAAC,QAAQ;kBAAAgB,QAAA,gBACrB9D,OAAA;oBAAG8C,SAAS,EAAC,oCAAoC;oBAAAgB,QAAA,EAAC;kBAAa;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,eACnElD,OAAA;oBAAG8C,SAAS,EAAC,wBAAwB;oBAAAgB,QAAA,EAAC;kBAAgC;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvE,CAAC,eACNlD,OAAA;kBAAM8C,SAAS,EAAC,wBAAwB;kBAAAgB,QAAA,EAAC;gBAAM;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CAAC,eAENlD,OAAA;gBAAK8C,SAAS,EAAC,oDAAoD;gBAAAgB,QAAA,gBACjE9D,OAAA;kBAAK8C,SAAS,EAAC,sEAAsE;kBAAAgB,QAAA,eACnF9D,OAAA,CAACH,SAAS;oBAACiD,SAAS,EAAC;kBAA0B;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/C,CAAC,eACNlD,OAAA;kBAAK8C,SAAS,EAAC,QAAQ;kBAAAgB,QAAA,gBACrB9D,OAAA;oBAAG8C,SAAS,EAAC,oCAAoC;oBAAAgB,QAAA,EAAC;kBAAgB;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,eACtElD,OAAA;oBAAG8C,SAAS,EAAC,wBAAwB;oBAAAgB,QAAA,EAAC;kBAAoB;oBAAAf,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC3D,CAAC,eACNlD,OAAA;kBAAM8C,SAAS,EAAC,wBAAwB;kBAAAgB,QAAA,EAAC;gBAAM;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNlD,OAAA;QAAK8C,SAAS,EAAC,WAAW;QAAAgB,QAAA,gBAExB9D,OAAA;UAAK8C,SAAS,EAAC,MAAM;UAAAgB,QAAA,gBACnB9D,OAAA;YAAK8C,SAAS,EAAC,aAAa;YAAAgB,QAAA,gBAC1B9D,OAAA;cAAI8C,SAAS,EAAC,sCAAsC;cAAAgB,QAAA,EAAC;YAAgB;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC1ElD,OAAA;cAAG8H,IAAI,EAAC,iBAAiB;cAAChF,SAAS,EAAC,2DAA2D;cAAAgB,QAAA,EAAC;YAEhG;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eACNlD,OAAA;YAAK8C,SAAS,EAAC,eAAe;YAAAgB,QAAA,eAC5B9D,OAAA,CAACN,WAAW;cACVqI,OAAO,EAAEtE,eAAgB;cACzB+B,IAAI,EAAEpC,eAAgB;cACtB4E,UAAU,EAAGC,GAAG,IAAKjD,OAAO,CAACkD,GAAG,CAAC,mBAAmB,EAAED,GAAG,CAAE;cAC3DE,YAAY,EAAC;YAAkB;cAAApF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAGL3C,WAAW,iBACVP,OAAA;UAAK8C,SAAS,EAAC,MAAM;UAAAgB,QAAA,gBACnB9D,OAAA;YAAK8C,SAAS,EAAC,aAAa;YAAAgB,QAAA,gBAC1B9D,OAAA;cAAI8C,SAAS,EAAC,sCAAsC;cAAAgB,QAAA,EAAC;YAAkB;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5ElD,OAAA;cAAK8C,SAAS,EAAC,yBAAyB;cAAAgB,QAAA,gBACtC9D,OAAA;gBAAK8C,SAAS,EAAC;cAAmD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACzElD,OAAA;gBAAM8C,SAAS,EAAC,sCAAsC;gBAAAgB,QAAA,EAAC;cAAK;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNlD,OAAA;YAAK8C,SAAS,EAAC,WAAW;YAAAgB,QAAA,gBACxB9D,OAAA;cAAK8C,SAAS,EAAC,qDAAqD;cAAAgB,QAAA,eAClE9D,OAAA;gBAAK8C,SAAS,EAAC,sCAAsC;gBAAAgB,QAAA,eACnD9D,OAAA,CAACX,aAAa;kBAAC+I,aAAa,EAAE,CAAC9I,SAAS,CAAE;kBAAAwE,QAAA,EACvCrD,gBAAgB,CAACM;gBAAW;kBAAAgC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChB;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACb;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENlD,OAAA;cAAK8C,SAAS,EAAC,iBAAiB;cAAAgB,QAAA,gBAC9B9D,OAAA;gBACE6H,OAAO,EAAE5C,eAAgB;gBACzByC,QAAQ,EAAE1G,WAAY;gBACtB8B,SAAS,EAAC,oBAAoB;gBAAAgB,QAAA,EAE7B9C,WAAW,GAAG,WAAW,GAAG;cAAY;gBAAA+B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnC,CAAC,eACTlD,OAAA;gBACE6H,OAAO,EAAEA,CAAA,KAAMtG,iBAAiB,CAAC,IAAI,CAAE;gBACvCuB,SAAS,EAAC,aAAa;gBAAAgB,QAAA,EACxB;cAED;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGL5B,cAAc,iBACbtB,OAAA;MAAK8C,SAAS,EAAC,eAAe;MAAAgB,QAAA,eAC5B9D,OAAA;QAAK8C,SAAS,EAAC,eAAe;QAAAgB,QAAA,eAC5B9D,OAAA;UAAK8C,SAAS,EAAC,KAAK;UAAAgB,QAAA,gBAClB9D,OAAA;YAAI8C,SAAS,EAAC,4BAA4B;YAAAgB,QAAA,EAAC;UAAuB;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAEvElD,OAAA;YAAK8C,SAAS,EAAC,WAAW;YAAAgB,QAAA,gBACxB9D,OAAA;cAAA8D,QAAA,gBACE9D,OAAA;gBAAO8C,SAAS,EAAC,+CAA+C;gBAAAgB,QAAA,GAAC,cACnD,eAAA9D,OAAA;kBAAM8C,SAAS,EAAC,cAAc;kBAAAgB,QAAA,EAAC;gBAAC;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9C,CAAC,eACRlD,OAAA;gBACEqF,IAAI,EAAC,MAAM;gBACXvC,SAAS,EAAC,OAAO;gBACjByE,WAAW,EAAC,0BAA0B;gBACtC7E,KAAK,EAAEhB,UAAW;gBAClB8F,QAAQ,EAAGC,CAAC,IAAK9F,aAAa,CAAC8F,CAAC,CAAC5B,MAAM,CAACnD,KAAK,CAAE;gBAC/CgF,QAAQ,EAAExG;cAAa;gBAAA6B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAENlD,OAAA;cAAA8D,QAAA,gBACE9D,OAAA;gBAAO8C,SAAS,EAAC,+CAA+C;gBAAAgB,QAAA,GAAC,gBACjD,eAAA9D,OAAA;kBAAM8C,SAAS,EAAC,cAAc;kBAAAgB,QAAA,EAAC;gBAAC;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChD,CAAC,eACRlD,OAAA;gBACEqF,IAAI,EAAC,OAAO;gBACZvC,SAAS,EAAC,OAAO;gBACjByE,WAAW,EAAC,2BAA2B;gBACvC7E,KAAK,EAAElB,KAAM;gBACbgG,QAAQ,EAAGC,CAAC,IAAKhG,QAAQ,CAACgG,CAAC,CAAC5B,MAAM,CAACnD,KAAK,CAAE;gBAC1CgF,QAAQ,EAAExG;cAAa;gBAAA6B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENlD,OAAA;YAAK8C,SAAS,EAAC,6BAA6B;YAAAgB,QAAA,gBAC1C9D,OAAA;cACE6H,OAAO,EAAEA,CAAA,KAAM;gBACbtG,iBAAiB,CAAC,KAAK,CAAC;gBACxBE,QAAQ,CAAC,EAAE,CAAC;gBACZE,aAAa,CAAC,EAAE,CAAC;cACnB,CAAE;cACFmB,SAAS,EAAC,eAAe;cACzB4E,QAAQ,EAAExG,YAAa;cAAA4C,QAAA,EACxB;YAED;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTlD,OAAA;cACE6H,OAAO,EAAE,MAAAA,CAAA,KAAY;gBACnB,IAAI,CAACrG,KAAK,IAAI,CAACE,UAAU,EAAE;kBACzBtC,KAAK,CAACgF,KAAK,CAAC,oCAAoC,CAAC;kBACjD;gBACF;gBACA,IAAI,CAACxC,UAAU,EAAE;kBACfxC,KAAK,CAACgF,KAAK,CAAC,yCAAyC,CAAC;kBACtD;gBACF;gBACAjD,eAAe,CAAC,IAAI,CAAC;gBACrB,IAAI;kBACF,MAAM3B,YAAY,CAAC6I,SAAS,CAACzG,UAAU,EAAE;oBACvC0G,cAAc,EAAE9G,KAAK;oBACrBE,UAAU,EAAEA;kBACd,CAAC,CAAC;kBACFtC,KAAK,CAAC2F,OAAO,CAAC,0BAA0B,CAAC;kBACzCxD,iBAAiB,CAAC,KAAK,CAAC;kBACxBE,QAAQ,CAAC,EAAE,CAAC;kBACZE,aAAa,CAAC,EAAE,CAAC;gBACnB,CAAC,CAAC,OAAOyC,KAAK,EAAE;kBACdhF,KAAK,CAACgF,KAAK,CAAC,sBAAsB,CAAC;gBACrC,CAAC,SAAS;kBACRjD,eAAe,CAAC,KAAK,CAAC;gBACxB;cACF,CAAE;cACF2B,SAAS,EAAC,aAAa;cACvB4E,QAAQ,EAAExG,YAAY,IAAI,CAACM,KAAK,CAAC2C,IAAI,CAAC,CAAC,IAAI,CAACzC,UAAU,CAACyC,IAAI,CAAC,CAAE;cAAAL,QAAA,EAE7D5C,YAAY,GAAG,YAAY,GAAG;YAAM;cAAA6B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGA7C,UAAU,iBACTL,OAAA;MAAK8C,SAAS,EAAC,iEAAiE;MAAAgB,QAAA,eAC9E9D,OAAA;QAAK8C,SAAS,EAAC,mDAAmD;QAAAgB,QAAA,gBAChE9D,OAAA;UAAK8C,SAAS,EAAC,eAAe;UAAAgB,QAAA,gBAC5B9D,OAAA;YAAK8C,SAAS,EAAC,+BAA+B;YAAAgB,QAAA,eAC5C9D,OAAA;cAAK8C,SAAS,EAAC;YAAkF;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrG,CAAC,eACNlD,OAAA;YAAK8C,SAAS,EAAC,+BAA+B;YAACyF,KAAK,EAAE;cAAEC,cAAc,EAAE;YAAO,CAAE;YAAA1E,QAAA,eAC/E9D,OAAA;cAAK8C,SAAS,EAAC;YAAgF;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnG,CAAC,eACNlD,OAAA;YAAK8C,SAAS,EAAC,gHAAgH;YAAAgB,QAAA,eAC7H9D,OAAA;cAAK8C,SAAS,EAAC;YAA+B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACNlD,OAAA;UAAI8C,SAAS,EAAC,uCAAuC;UAAAgB,QAAA,EAAC;QAAwB;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnFlD,OAAA;UAAG8C,SAAS,EAAC,gBAAgB;UAAAgB,QAAA,EAAC;QAE9B;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAChD,EAAA,CAljBID,SAAmB;AAAAwI,EAAA,GAAnBxI,SAAmB;AAojBzB,eAAeA,SAAS;AAAC,IAAAwI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}