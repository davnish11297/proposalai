{"ast":null,"code":"var _jsxFileName = \"/Users/davnishsingh/Documents/proposalai-main/proposalai/client/src/components/NotificationBell.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BellIcon, ChatBubbleLeftIcon, EyeIcon, CheckCircleIcon, XCircleIcon, UserIcon, ClockIcon } from '@heroicons/react/24/outline';\nimport { notificationAPI } from '../services/api';\nimport toast from 'react-hot-toast';\nimport { useAuth } from '../hooks/useAuth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NotificationBell() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [isOpen, setIsOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  useEffect(() => {\n    if (user) {\n      fetchNotifications();\n      fetchUnreadCount();\n\n      // Poll for new notifications every 30 seconds\n      const interval = setInterval(() => {\n        fetchUnreadCount();\n      }, 30000);\n      return () => clearInterval(interval);\n    }\n  }, [user]);\n  const fetchNotifications = async () => {\n    try {\n      setLoading(true);\n      setError(false);\n      const response = await notificationAPI.getAll();\n      if (response.data.success) {\n        setNotifications(response.data.data);\n      }\n    } catch (error) {\n      console.error('Failed to fetch notifications:', error);\n      setError(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchUnreadCount = async () => {\n    try {\n      const response = await notificationAPI.getUnreadCount();\n      if (response.data.success) {\n        setUnreadCount(response.data.data.unreadCount);\n      }\n    } catch (error) {\n      console.error('Failed to fetch unread count:', error);\n      // Don't set error here as we still want to show the bell\n    }\n  };\n  const markAsRead = async notificationId => {\n    try {\n      await notificationAPI.markAsRead(notificationId);\n      setNotifications(prev => prev.map(notif => notif.id === notificationId ? {\n        ...notif,\n        isRead: true\n      } : notif));\n      setUnreadCount(prev => Math.max(0, prev - 1));\n    } catch (error) {\n      console.error('Failed to mark notification as read:', error);\n    }\n  };\n  const markAllAsRead = async () => {\n    try {\n      await notificationAPI.markAllAsRead();\n      setNotifications(prev => prev.map(notif => ({\n        ...notif,\n        isRead: true\n      })));\n      setUnreadCount(0);\n      toast.success('All notifications marked as read');\n    } catch (error) {\n      console.error('Failed to mark all notifications as read:', error);\n      toast.error('Failed to mark notifications as read');\n    }\n  };\n  const getNotificationIcon = type => {\n    switch (type) {\n      case 'COMMENT':\n        return /*#__PURE__*/_jsxDEV(ChatBubbleLeftIcon, {\n          className: \"h-5 w-5 text-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 16\n        }, this);\n      case 'PROPOSAL_OPENED':\n        return /*#__PURE__*/_jsxDEV(EyeIcon, {\n          className: \"h-5 w-5 text-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 16\n        }, this);\n      case 'PROPOSAL_APPROVED':\n        return /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n          className: \"h-5 w-5 text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 16\n        }, this);\n      case 'PROPOSAL_REJECTED':\n        return /*#__PURE__*/_jsxDEV(XCircleIcon, {\n          className: \"h-5 w-5 text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 16\n        }, this);\n      case 'CLIENT_REPLY':\n        return /*#__PURE__*/_jsxDEV(UserIcon, {\n          className: \"h-5 w-5 text-purple-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 16\n        }, this);\n      case 'ACCESS_REQUEST':\n        return /*#__PURE__*/_jsxDEV(UserIcon, {\n          className: \"h-5 w-5 text-orange-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(BellIcon, {\n          className: \"h-5 w-5 text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getNotificationColor = type => {\n    switch (type) {\n      case 'COMMENT':\n        return 'bg-blue-50 border-blue-200';\n      case 'PROPOSAL_OPENED':\n        return 'bg-green-50 border-green-200';\n      case 'PROPOSAL_APPROVED':\n        return 'bg-green-50 border-green-200';\n      case 'PROPOSAL_REJECTED':\n        return 'bg-red-50 border-red-200';\n      case 'CLIENT_REPLY':\n        return 'bg-purple-50 border-purple-200';\n      case 'ACCESS_REQUEST':\n        return 'bg-orange-50 border-orange-200';\n      default:\n        return 'bg-gray-50 border-gray-200';\n    }\n  };\n  const formatTimeAgo = dateString => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\n    if (diffInMinutes < 1) return 'Just now';\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;\n    return `${Math.floor(diffInMinutes / 1440)}d ago`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(!isOpen),\n      className: \"relative p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-colors\",\n      title: user ? \"Notifications\" : \"Login to see notifications\",\n      children: [/*#__PURE__*/_jsxDEV(BellIcon, {\n        className: \"h-6 w-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), user && unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium\",\n        children: unreadCount > 99 ? '99+' : unreadCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"absolute -bottom-1 -right-1 bg-yellow-400 text-white text-xs rounded-full h-3 w-3 flex items-center justify-center\",\n        children: \"!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-4 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"Notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: markAllAsRead,\n          className: \"text-sm text-blue-600 hover:text-blue-700 font-medium\",\n          children: \"Mark all read\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-h-80 overflow-y-auto\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 text-center text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2\",\n            children: \"Loading notifications...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 15\n        }, this) : notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 text-center text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(BellIcon, {\n            className: \"h-8 w-8 mx-auto mb-2 text-gray-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: !user ? 'Please login to see notifications' : error ? 'Unable to load notifications' : 'No notifications yet'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 17\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 mt-1\",\n            children: \"Check console for details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divide-y divide-gray-100\",\n          children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 hover:bg-gray-50 transition-colors cursor-pointer ${!notification.isRead ? 'bg-blue-50' : ''}`,\n            onClick: () => markAsRead(notification.id),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0 mt-1\",\n                children: getNotificationIcon(notification.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: `text-sm font-medium ${!notification.isRead ? 'text-gray-900' : 'text-gray-700'}`,\n                    children: notification.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 27\n                  }, this), !notification.isRead && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-blue-500 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 mb-2\",\n                  children: notification.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 text-xs text-gray-400\",\n                  children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                    className: \"h-3 w-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 27\n                  }, this), formatTimeAgo(notification.createdAt)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 21\n            }, this)\n          }, notification.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this), notifications.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 border-t border-gray-200 bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.href = '/sent-proposals',\n          className: \"w-full text-sm text-blue-600 hover:text-blue-700 font-medium\",\n          children: \"View all proposals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-40\",\n      onClick: () => setIsOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n}\n_s(NotificationBell, \"EORhIjHo3tJoSU5zWIkGgCMP6gQ=\", false, function () {\n  return [useAuth];\n});\n_c = NotificationBell;\nvar _c;\n$RefreshReg$(_c, \"NotificationBell\");","map":{"version":3,"names":["React","useState","useEffect","BellIcon","ChatBubbleLeftIcon","EyeIcon","CheckCircleIcon","XCircleIcon","UserIcon","ClockIcon","notificationAPI","toast","useAuth","jsxDEV","_jsxDEV","NotificationBell","_s","user","notifications","setNotifications","unreadCount","setUnreadCount","isOpen","setIsOpen","loading","setLoading","error","setError","fetchNotifications","fetchUnreadCount","interval","setInterval","clearInterval","response","getAll","data","success","console","getUnreadCount","markAsRead","notificationId","prev","map","notif","id","isRead","Math","max","markAllAsRead","getNotificationIcon","type","className","fileName","_jsxFileName","lineNumber","columnNumber","getNotificationColor","formatTimeAgo","dateString","date","Date","now","diffInMinutes","floor","getTime","children","onClick","title","length","notification","message","createdAt","window","location","href","_c","$RefreshReg$"],"sources":["/Users/davnishsingh/Documents/proposalai-main/proposalai/client/src/components/NotificationBell.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  BellIcon, \n  ChatBubbleLeftIcon, \n  EyeIcon, \n  CheckCircleIcon, \n  XCircleIcon,\n  UserIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\nimport { notificationAPI } from '../services/api';\nimport toast from 'react-hot-toast';\nimport { useAuth } from '../hooks/useAuth';\n\ninterface Notification {\n  id: string;\n  type: 'COMMENT' | 'PROPOSAL_OPENED' | 'PROPOSAL_APPROVED' | 'PROPOSAL_REJECTED' | 'CLIENT_REPLY' | 'ACCESS_REQUEST';\n  title: string;\n  message: string;\n  isRead: boolean;\n  createdAt: string;\n  proposalId?: string;\n  proposalTitle?: string;\n  clientName?: string;\n}\n\nexport default function NotificationBell() {\n  const { user } = useAuth();\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [isOpen, setIsOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n\n\n  useEffect(() => {\n    if (user) {\n      fetchNotifications();\n      fetchUnreadCount();\n      \n      // Poll for new notifications every 30 seconds\n      const interval = setInterval(() => {\n        fetchUnreadCount();\n      }, 30000);\n\n      return () => clearInterval(interval);\n    }\n  }, [user]);\n\n  const fetchNotifications = async () => {\n    try {\n      setLoading(true);\n      setError(false);\n      const response = await notificationAPI.getAll();\n      if (response.data.success) {\n        setNotifications(response.data.data);\n      }\n    } catch (error) {\n      console.error('Failed to fetch notifications:', error);\n      setError(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchUnreadCount = async () => {\n    try {\n      const response = await notificationAPI.getUnreadCount();\n      if (response.data.success) {\n        setUnreadCount(response.data.data.unreadCount);\n      }\n    } catch (error) {\n      console.error('Failed to fetch unread count:', error);\n      // Don't set error here as we still want to show the bell\n    }\n  };\n\n  const markAsRead = async (notificationId: string) => {\n    try {\n      await notificationAPI.markAsRead(notificationId);\n      setNotifications(prev => \n        prev.map(notif => \n          notif.id === notificationId ? { ...notif, isRead: true } : notif\n        )\n      );\n      setUnreadCount(prev => Math.max(0, prev - 1));\n    } catch (error) {\n      console.error('Failed to mark notification as read:', error);\n    }\n  };\n\n  const markAllAsRead = async () => {\n    try {\n      await notificationAPI.markAllAsRead();\n      setNotifications(prev => prev.map(notif => ({ ...notif, isRead: true })));\n      setUnreadCount(0);\n      toast.success('All notifications marked as read');\n    } catch (error) {\n      console.error('Failed to mark all notifications as read:', error);\n      toast.error('Failed to mark notifications as read');\n    }\n  };\n\n  const getNotificationIcon = (type: string) => {\n    switch (type) {\n      case 'COMMENT':\n        return <ChatBubbleLeftIcon className=\"h-5 w-5 text-blue-500\" />;\n      case 'PROPOSAL_OPENED':\n        return <EyeIcon className=\"h-5 w-5 text-green-500\" />;\n      case 'PROPOSAL_APPROVED':\n        return <CheckCircleIcon className=\"h-5 w-5 text-green-600\" />;\n      case 'PROPOSAL_REJECTED':\n        return <XCircleIcon className=\"h-5 w-5 text-red-500\" />;\n      case 'CLIENT_REPLY':\n        return <UserIcon className=\"h-5 w-5 text-purple-500\" />;\n      case 'ACCESS_REQUEST':\n        return <UserIcon className=\"h-5 w-5 text-orange-500\" />;\n      default:\n        return <BellIcon className=\"h-5 w-5 text-gray-500\" />;\n    }\n  };\n\n  const getNotificationColor = (type: string) => {\n    switch (type) {\n      case 'COMMENT':\n        return 'bg-blue-50 border-blue-200';\n      case 'PROPOSAL_OPENED':\n        return 'bg-green-50 border-green-200';\n      case 'PROPOSAL_APPROVED':\n        return 'bg-green-50 border-green-200';\n      case 'PROPOSAL_REJECTED':\n        return 'bg-red-50 border-red-200';\n      case 'CLIENT_REPLY':\n        return 'bg-purple-50 border-purple-200';\n      case 'ACCESS_REQUEST':\n        return 'bg-orange-50 border-orange-200';\n      default:\n        return 'bg-gray-50 border-gray-200';\n    }\n  };\n\n  const formatTimeAgo = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\n    \n    if (diffInMinutes < 1) return 'Just now';\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;\n    return `${Math.floor(diffInMinutes / 1440)}d ago`;\n  };\n\n  return (\n    <div className=\"relative\">\n      {/* Notification Bell Button - Always show, even if API fails */}\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"relative p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-colors\"\n        title={user ? \"Notifications\" : \"Login to see notifications\"}\n      >\n        <BellIcon className=\"h-6 w-6\" />\n        {user && unreadCount > 0 && (\n          <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium\">\n            {unreadCount > 99 ? '99+' : unreadCount}\n          </span>\n        )}\n        {/* Show a subtle indicator if there's an error */}\n        {error && (\n          <span className=\"absolute -bottom-1 -right-1 bg-yellow-400 text-white text-xs rounded-full h-3 w-3 flex items-center justify-center\">\n            !\n          </span>\n        )}\n      </button>\n\n      {/* Notification Dropdown */}\n      {isOpen && (\n        <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Notifications</h3>\n            {unreadCount > 0 && (\n              <button\n                onClick={markAllAsRead}\n                className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n              >\n                Mark all read\n              </button>\n            )}\n          </div>\n\n          {/* Notifications List */}\n          <div className=\"max-h-80 overflow-y-auto\">\n            {loading ? (\n              <div className=\"p-4 text-center text-gray-500\">\n                <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto\"></div>\n                <p className=\"mt-2\">Loading notifications...</p>\n              </div>\n            ) : notifications.length === 0 ? (\n              <div className=\"p-4 text-center text-gray-500\">\n                <BellIcon className=\"h-8 w-8 mx-auto mb-2 text-gray-300\" />\n                <p>\n                  {!user ? 'Please login to see notifications' : \n                   error ? 'Unable to load notifications' : 'No notifications yet'}\n                </p>\n                {error && (\n                  <p className=\"text-xs text-gray-400 mt-1\">Check console for details</p>\n                )}\n              </div>\n            ) : (\n              <div className=\"divide-y divide-gray-100\">\n                {notifications.map((notification) => (\n                  <div\n                    key={notification.id}\n                    className={`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${\n                      !notification.isRead ? 'bg-blue-50' : ''\n                    }`}\n                    onClick={() => markAsRead(notification.id)}\n                  >\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"flex-shrink-0 mt-1\">\n                        {getNotificationIcon(notification.type)}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <p className={`text-sm font-medium ${\n                            !notification.isRead ? 'text-gray-900' : 'text-gray-700'\n                          }`}>\n                            {notification.title}\n                          </p>\n                          {!notification.isRead && (\n                            <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n                          )}\n                        </div>\n                        <p className=\"text-sm text-gray-600 mb-2\">\n                          {notification.message}\n                        </p>\n                        <div className=\"flex items-center gap-2 text-xs text-gray-400\">\n                          <ClockIcon className=\"h-3 w-3\" />\n                          {formatTimeAgo(notification.createdAt)}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Footer */}\n          {notifications.length > 0 && (\n            <div className=\"p-3 border-t border-gray-200 bg-gray-50\">\n              <button\n                onClick={() => window.location.href = '/sent-proposals'}\n                className=\"w-full text-sm text-blue-600 hover:text-blue-700 font-medium\"\n              >\n                View all proposals\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Backdrop */}\n      {isOpen && (\n        <div\n          className=\"fixed inset-0 z-40\"\n          onClick={() => setIsOpen(false)}\n        />\n      )}\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}