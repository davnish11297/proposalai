{"ast":null,"code":"import axios from 'axios';\n\n// In development, use relative URLs to work with the proxy\n// In production, use the full URL\nconst API_BASE_URL = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_API_URL || 'http://localhost:3001/api' : '/api';\nexport const api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  withCredentials: true // Enable credentials for CORS\n});\n\n// Request interceptor to add auth token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Response interceptor to handle errors\napi.interceptors.response.use(response => {\n  return response;\n}, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem('token');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// API endpoints\nexport const authAPI = {\n  login: data => api.post('/auth/login', data),\n  register: data => api.post('/auth/register', data),\n  logout: () => api.post('/auth/logout'),\n  me: () => api.get('/auth/me')\n};\nexport const proposalsAPI = {\n  getAll: params => api.get('/proposals', {\n    params\n  }),\n  getById: id => api.get(`/proposals/${id}`),\n  create: data => api.post('/proposals', data),\n  update: (id, data) => api.put(`/proposals/${id}`, data),\n  delete: id => api.delete(`/proposals/${id}`),\n  generate: data => api.post('/proposals/generate', data),\n  publish: id => api.post(`/proposals/${id}/publish`),\n  duplicate: id => api.post(`/proposals/${id}/duplicate`),\n  sendEmail: (id, data) => api.post(`/proposals/${id}/send-email`, data),\n  sendProposal: (id, data) => api.post(`/proposals/${id}/send-email`, data),\n  downloadPDF: id => api.get(`/proposals/${id}/download-pdf`, {\n    responseType: 'blob'\n  })\n};\nexport const templatesAPI = {\n  getAll: params => api.get('/templates', {\n    params\n  }),\n  getById: id => api.get(`/templates/${id}`),\n  create: data => api.post('/templates', data),\n  update: (id, data) => api.put(`/templates/${id}`, data),\n  delete: id => api.delete(`/templates/${id}`)\n};\nexport const snippetsAPI = {\n  getAll: params => api.get('/snippets', {\n    params\n  }),\n  getById: id => api.get(`/snippets/${id}`),\n  create: data => api.post('/snippets', data),\n  update: (id, data) => api.put(`/snippets/${id}`, data),\n  delete: id => api.delete(`/snippets/${id}`),\n  incrementUsage: id => api.post(`/snippets/${id}/increment-usage`)\n};\nexport const caseStudiesAPI = {\n  getAll: params => api.get('/case-studies', {\n    params\n  }),\n  getById: id => api.get(`/case-studies/${id}`),\n  create: data => api.post('/case-studies', data),\n  update: (id, data) => api.put(`/case-studies/${id}`, data),\n  delete: id => api.delete(`/case-studies/${id}`)\n};\nexport const pricingAPI = {\n  getAll: params => api.get('/pricing', {\n    params\n  }),\n  getById: id => api.get(`/pricing/${id}`),\n  create: data => api.post('/pricing', data),\n  update: (id, data) => api.put(`/pricing/${id}`, data),\n  delete: id => api.delete(`/pricing/${id}`)\n};\nexport const analyticsAPI = {\n  getDashboard: () => api.get('/analytics/dashboard'),\n  getProposals: params => api.get('/analytics/proposals', {\n    params\n  })\n};\nexport const organizationsAPI = {\n  getCurrent: () => api.get('/organizations/current'),\n  update: data => api.put('/organizations/current', data)\n};\nexport const usersAPI = {\n  getProfile: () => api.get('/users/profile'),\n  updateProfile: data => api.put('/users/profile', data),\n  changePassword: data => api.put('/users/password', data)\n};\nexport const publicAPI = {\n  getProposal: id => api.get(`/public/proposals/${id}`)\n};\nexport const clientsAPI = {\n  getAll: params => api.get('/clients', {\n    params\n  }),\n  getById: id => api.get(`/clients/${id}`),\n  create: data => api.post('/clients', data),\n  update: (id, data) => api.put(`/clients/${id}`, data),\n  delete: id => api.delete(`/clients/${id}`)\n};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","NODE_ENV","REACT_APP_API_URL","api","create","baseURL","headers","withCredentials","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","authAPI","login","data","post","register","logout","me","get","proposalsAPI","getAll","params","getById","id","update","put","delete","generate","publish","duplicate","sendEmail","sendProposal","downloadPDF","responseType","templatesAPI","snippetsAPI","incrementUsage","caseStudiesAPI","pricingAPI","analyticsAPI","getDashboard","getProposals","organizationsAPI","getCurrent","usersAPI","getProfile","updateProfile","changePassword","publicAPI","getProposal","clientsAPI"],"sources":["/Users/davnishsingh/Documents/proposalai/client/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\n\n// In development, use relative URLs to work with the proxy\n// In production, use the full URL\nconst API_BASE_URL = process.env.NODE_ENV === 'production' \n  ? (process.env.REACT_APP_API_URL || 'http://localhost:3001/api')\n  : '/api';\n\nexport const api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true, // Enable credentials for CORS\n});\n\n// Request interceptor to add auth token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor to handle errors\napi.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// API endpoints\nexport const authAPI = {\n  login: (data: { email: string; password: string }) =>\n    api.post('/auth/login', data),\n  register: (data: any) => api.post('/auth/register', data),\n  logout: () => api.post('/auth/logout'),\n  me: () => api.get('/auth/me'),\n};\n\nexport const proposalsAPI = {\n  getAll: (params?: any) => api.get('/proposals', { params }),\n  getById: (id: string) => api.get(`/proposals/${id}`),\n  create: (data: any) => api.post('/proposals', data),\n  update: (id: string, data: any) => api.put(`/proposals/${id}`, data),\n  delete: (id: string) => api.delete(`/proposals/${id}`),\n  generate: (data: any) => api.post('/proposals/generate', data),\n  publish: (id: string) => api.post(`/proposals/${id}/publish`),\n  duplicate: (id: string) => api.post(`/proposals/${id}/duplicate`),\n  sendEmail: (id: string, data: { recipientEmail: string; customMessage?: string }) => \n    api.post(`/proposals/${id}/send-email`, data),\n  sendProposal: (id: string, data: { email: string }) => \n    api.post(`/proposals/${id}/send-email`, data),\n  downloadPDF: (id: string) => api.get(`/proposals/${id}/download-pdf`, { responseType: 'blob' }),\n};\n\nexport const templatesAPI = {\n  getAll: (params?: any) => api.get('/templates', { params }),\n  getById: (id: string) => api.get(`/templates/${id}`),\n  create: (data: any) => api.post('/templates', data),\n  update: (id: string, data: any) => api.put(`/templates/${id}`, data),\n  delete: (id: string) => api.delete(`/templates/${id}`),\n};\n\nexport const snippetsAPI = {\n  getAll: (params?: any) => api.get('/snippets', { params }),\n  getById: (id: string) => api.get(`/snippets/${id}`),\n  create: (data: any) => api.post('/snippets', data),\n  update: (id: string, data: any) => api.put(`/snippets/${id}`, data),\n  delete: (id: string) => api.delete(`/snippets/${id}`),\n  incrementUsage: (id: string) => api.post(`/snippets/${id}/increment-usage`),\n};\n\nexport const caseStudiesAPI = {\n  getAll: (params?: any) => api.get('/case-studies', { params }),\n  getById: (id: string) => api.get(`/case-studies/${id}`),\n  create: (data: any) => api.post('/case-studies', data),\n  update: (id: string, data: any) => api.put(`/case-studies/${id}`, data),\n  delete: (id: string) => api.delete(`/case-studies/${id}`),\n};\n\nexport const pricingAPI = {\n  getAll: (params?: any) => api.get('/pricing', { params }),\n  getById: (id: string) => api.get(`/pricing/${id}`),\n  create: (data: any) => api.post('/pricing', data),\n  update: (id: string, data: any) => api.put(`/pricing/${id}`, data),\n  delete: (id: string) => api.delete(`/pricing/${id}`),\n};\n\nexport const analyticsAPI = {\n  getDashboard: () => api.get('/analytics/dashboard'),\n  getProposals: (params?: any) => api.get('/analytics/proposals', { params }),\n};\n\nexport const organizationsAPI = {\n  getCurrent: () => api.get('/organizations/current'),\n  update: (data: any) => api.put('/organizations/current', data),\n};\n\nexport const usersAPI = {\n  getProfile: () => api.get('/users/profile'),\n  updateProfile: (data: any) => api.put('/users/profile', data),\n  changePassword: (data: any) => api.put('/users/password', data),\n};\n\nexport const publicAPI = {\n  getProposal: (id: string) => api.get(`/public/proposals/${id}`),\n}; \n\nexport const clientsAPI = {\n  getAll: (params?: any) => api.get('/clients', { params }),\n  getById: (id: string) => api.get(`/clients/${id}`),\n  create: (data: any) => api.post('/clients', data),\n  update: (id: string, data: any) => api.put(`/clients/${id}`, data),\n  delete: (id: string) => api.delete(`/clients/${id}`),\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}